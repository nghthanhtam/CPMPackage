{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|uiInterfaceName": "default",
        "designer|userAlias": "vendorcompletepanel",
        "designer|userClassName": "VendorCompletePanel",
        "header": false,
        "layout": "card",
        "title": "Đánh giá hoàn thành (NCC)"
    },
    "configAlternates": {
        "designer|userAlias": "string",
        "designer|userClassName": "string",
        "layout": "string",
        "title": "string",
        "margin": "auto",
        "activeItem": "auto",
        "designer|uiInterfaceName": "string",
        "frame": "boolean",
        "header": "boolean"
    },
    "name": "ProgressLogPanel1",
    "designerId": "295c8525-917b-417a-beac-0a87e27e5086",
    "viewControllerInstanceId": "eaf05fd1-e164-426d-be2c-5eb17d6579f7",
    "viewModelInstanceId": "34394862-eab3-4f6c-a1de-1221f1fc6502",
    "cn": [
        {
            "type": "Ext.grid.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|uiInterfaceName": "default",
                "reference": "gpDetail",
                "store": [
                    "{masters}"
                ]
            },
            "configAlternates": {
                "designer|userAlias": "string",
                "designer|userClassName": "string",
                "title": "string",
                "store": "binding",
                "reference": "string",
                "designer|uiInterfaceName": "string"
            },
            "name": "GridItems6",
            "designerId": "982641c6-1ae6-4c01-bb64-a7a0e36842bf",
            "cn": [
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "cwcref",
                        "text": "Số đánh giá",
                        "width": 100
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto"
                    },
                    "name": "MyColumn3",
                    "designerId": "2e7713b7-8ed4-46e3-a9f1-12c7b67c3a31",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter14",
                            "designerId": "e7aa931b-9501-4206-aae0-266d469f5e6b"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "contractcode",
                        "text": "Mã hợp đồng"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto"
                    },
                    "name": "MyColumn110",
                    "designerId": "35f1292d-db25-47d5-b604-18187c5c02d0",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter15",
                            "designerId": "68c62a79-7b4b-4d75-80bb-9303df82c4be"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Date",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "requesteddate",
                        "format": "d/m/Y",
                        "text": "Ngày lập",
                        "width": 116
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto",
                        "format": "string"
                    },
                    "name": "MyDateColumn18",
                    "designerId": "42c79ff1-aa8f-4b32-9ced-ec51e311a5f1",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.Date",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyDateFilter12",
                            "designerId": "31f799f7-b128-4492-805f-40c30ee4a460"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Date",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "evaluateddate",
                        "format": "d/m/Y",
                        "text": "Ngày đánh giá",
                        "width": 116
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto",
                        "format": "string"
                    },
                    "name": "MyDateColumn19",
                    "designerId": "55b9c96f-c27c-4c1f-a8fd-7d12c4163502",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.Date",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyDateFilter13",
                            "designerId": "049ade46-ae32-452b-bf30-a2c877e83350"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Number",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "align": "end",
                        "dataIndex": "requestedvalue",
                        "text": "Giá trị đề xuất",
                        "width": 125
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto",
                        "align": "string"
                    },
                    "name": "MyNumberColumn31",
                    "designerId": "79d5e95b-ab7a-4d04-a531-6a1c608a6446",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter17",
                            "designerId": "7c744ffc-ac1d-4330-883d-68e6b2f5621e"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Number",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "align": "end",
                        "dataIndex": "evaluatedvalue",
                        "text": "Giá trị đánh giá",
                        "width": 125
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto",
                        "align": "string"
                    },
                    "name": "MyNumberColumn32",
                    "designerId": "1738a8b2-3ce7-4339-aef7-9e6f25ea3255",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter17",
                            "designerId": "3f7294dd-1cda-4900-8027-4cfb4462c96d"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "status",
                        "text": "Trạng thái",
                        "width": 105
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto"
                    },
                    "name": "MyColumn111",
                    "designerId": "0f312e8a-77a8-4604-8bb5-dcec5c87293b",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter17",
                            "designerId": "8ffbe6d6-4232-4506-806e-6521fbfb3146"
                        },
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "fn": "renderer",
                                "implHandler": [
                                    "var text = value;",
                                    "",
                                    "if(value === 'W'){",
                                    "    text = value + ' - Chờ duyệt';",
                                    "}else if (value === 'A'){",
                                    "    text = value + ' - Đã duyệt';",
                                    "}",
                                    "else if (value === 'V'){",
                                    "    text = value + ' - Đã kiểm tra';",
                                    "}",
                                    "else{",
                                    "    text = value + ' - Hủy';",
                                    "}",
                                    "",
                                    "return text;"
                                ]
                            },
                            "configAlternates": {
                                "designer|params": "typedarray",
                                "fn": "string",
                                "implHandler": "code"
                            },
                            "name": "renderer",
                            "designerId": "865c395b-e143-4ee3-8cbb-3b8ceaf4cec6"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "milestone",
                        "text": "Đợt thanh toán",
                        "width": 253
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto"
                    },
                    "name": "MyColumn112",
                    "designerId": "e6ca17b9-28ed-454d-a128-cc22e8cfe01a",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter17",
                            "designerId": "7c9bd940-abf5-41ac-b50c-057d5f3c5fba"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "cwcdesc",
                        "text": "Diễn giải",
                        "width": 253
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto"
                    },
                    "name": "MyColumn113",
                    "designerId": "21e9fa28-b856-446e-bd87-b17561213266",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter17",
                            "designerId": "0dcaeba8-0c66-4da9-9f68-40194694f51b"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "createdby",
                        "text": "NV tạo",
                        "width": 125
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto"
                    },
                    "name": "MyColumn32",
                    "designerId": "616354d6-cc5f-4a6a-a275-a029de56a1c3",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter17",
                            "designerId": "6e33c49d-fafc-4456-b7bf-c42ca8fd46bf"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Date",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "lastupdate",
                        "format": "d/m/Y",
                        "text": "Ngày tạo"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto",
                        "format": "string"
                    },
                    "name": "MyDateColumn2",
                    "designerId": "0b57ca8e-7f25-4347-93a8-97a08d5453d4",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.Date",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyDateFilter14",
                            "designerId": "258c6422-c0b7-4ab5-94d4-ba32d62421cc"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "updatedby",
                        "text": "NV cập nhật",
                        "width": 125
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto"
                    },
                    "name": "MyColumn114",
                    "designerId": "121f656a-e522-433e-b94e-f7a2defa23d7",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter17",
                            "designerId": "28c45d90-0313-4f72-9a07-75469775a093"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Date",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "lastupdate",
                        "format": "d/m/Y",
                        "text": "Ngày cập nhật",
                        "width": 95
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto",
                        "format": "string"
                    },
                    "name": "MyDateColumn20",
                    "designerId": "083971e7-5a36-457d-979c-80daa6da7f3e",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.Date",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyDateFilter15",
                            "designerId": "b5af565a-7cdc-48f2-aa3b-d8894042b660"
                        }
                    ]
                },
                {
                    "type": "Ext.view.Table",
                    "reference": {
                        "name": "viewConfig",
                        "type": "object"
                    },
                    "codeClass": null,
                    "name": "MyTable",
                    "designerId": "5a2ee58c-dec6-42f4-af63-82113cfbd5b7"
                },
                {
                    "type": "Ext.grid.plugin.CellEditing",
                    "reference": {
                        "name": "plugins",
                        "type": "array"
                    },
                    "codeClass": null,
                    "configAlternates": {
                        "clicksToEdit": "number"
                    },
                    "name": "MyCellEditingPlugin1",
                    "designerId": "ffc84a17-870e-452b-9436-68e9c481401e"
                },
                {
                    "type": "Ext.grid.filters.Filters",
                    "reference": {
                        "name": "plugins",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|createAlias": "filterbar",
                        "menuFilterText": "Lọc"
                    },
                    "configAlternates": {
                        "menuFilterText": "string",
                        "designer|createAlias": "string"
                    },
                    "name": "MyGridFiltersPlugin4",
                    "designerId": "caa54aa4-a5b9-44f5-bdde-1e6a8fb9b5e7"
                },
                {
                    "type": "viewcontrollereventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onGpDetailCellClick",
                        "implHandler": [
                            "var me = this;",
                            "this.mixins.baseController.viewRecord.call(me,record,function(){",
                            "    me.isError = false;",
                            "    me.setDetails(record);",
                            "    me.enableDetButtons(false);",
                            "});"
                        ],
                        "name": "celldblclick",
                        "scope": "me"
                    },
                    "configAlternates": {
                        "fn": "string",
                        "implHandler": "code",
                        "name": "string",
                        "scope": "string"
                    },
                    "name": "onGpDetailCellClick",
                    "designerId": "8b4e0a75-2ffb-40f3-87ca-651587982b94"
                },
                {
                    "type": "Ext.grid.plugin.BufferedRenderer",
                    "reference": {
                        "name": "plugins",
                        "type": "array"
                    },
                    "codeClass": null,
                    "name": "MyBufferedRenderer",
                    "designerId": "759472af-996d-443b-b2a9-06e99ef0a0c8"
                },
                {
                    "type": "viewcontrollereventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onGridpanelSelect",
                        "implHandler": [
                            "var me = this,",
                            "    v\t= me.getView(),",
                            "    approvebtn\t= v.down('#approvebtn');",
                            "",
                            "if (approvebtn) {",
                            "    if (record.get('status') == 'A') approvebtn.hide();",
                            "    else approvebtn.show();",
                            "}"
                        ],
                        "name": "select",
                        "scope": "me"
                    },
                    "configAlternates": {
                        "fn": "string",
                        "implHandler": "code",
                        "name": "string",
                        "scope": "string"
                    },
                    "name": "onGridpanelSelect",
                    "designerId": "d74b1eaa-3e93-4457-a931-7818d2666d96"
                }
            ]
        },
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "stretch",
                "fieldDefaults": [
                    "{labelAlign: 'right', labelSeparator: '', labelWidth: 120}"
                ],
                "itemId": "frmDetail",
                "layout": "vbox",
                "margin": "5 0 0 0",
                "reference": "frmdetail",
                "width": 100
            },
            "configAlternates": {
                "container|align": "string",
                "fieldDefaults": "object",
                "itemId": "string",
                "layout": "string",
                "margin": "auto",
                "reference": "string",
                "width": "auto"
            },
            "name": "MyForm50",
            "designerId": "c92b5bbd-3e5d-4ab4-ace9-9227ac2ea960",
            "cn": [
                {
                    "type": "Ext.form.FieldContainer",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "container|align": "stretch",
                        "layout": "vbox",
                        "layout|flex": 1
                    },
                    "configAlternates": {
                        "container|align": "string",
                        "layout": "string",
                        "layout|flex": "number"
                    },
                    "name": "MyFieldContainer10",
                    "designerId": "8d25b221-83e2-441f-bbdb-661911217993",
                    "cn": [
                        {
                            "type": "Ext.form.FieldContainer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "container|align": "stretch",
                                "layout": "hbox"
                            },
                            "configAlternates": {
                                "container|align": "string",
                                "layout": "string"
                            },
                            "name": "MyFieldContainer16",
                            "designerId": "bc8d793a-a66d-41d3-8a30-c15920171f29",
                            "cn": [
                                {
                                    "type": "Ext.form.FieldContainer",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "container|align": "stretch",
                                        "flex": 2,
                                        "layout": "vbox"
                                    },
                                    "configAlternates": {
                                        "container|align": "string",
                                        "layout": "string",
                                        "flex": "number"
                                    },
                                    "name": "MyFieldContainer14",
                                    "designerId": "b474efb2-dde3-467b-9da1-a6ff4725f4d8",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Text",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "emptyText": "< Số tự tăng >",
                                                "fieldLabel": "Số đánh giá",
                                                "maxWidth": 300,
                                                "name": "cwcref",
                                                "reference": "cwcref",
                                                "value": [
                                                    "{bindRecord.cwcref}"
                                                ]
                                            },
                                            "configAlternates": {
                                                "fieldLabel": "string",
                                                "name": "string",
                                                "reference": "string",
                                                "value": "binding",
                                                "maxWidth": "number",
                                                "emptyText": "string"
                                            },
                                            "name": "MyTextField63",
                                            "designerId": "05e87651-a1a5-4c2e-8ddc-5654f0122e39"
                                        },
                                        {
                                            "type": "Ext.form.field.ComboBox",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoLoadOnValue": true,
                                                "disabled": true,
                                                "displayField": "name",
                                                "fieldLabel": "Nhà cung cấp",
                                                "forceSelection": true,
                                                "maxWidth": 450,
                                                "minChars": 2,
                                                "name": "vendor",
                                                "pageSize": 10,
                                                "reference": "vendor",
                                                "store": [
                                                    "{vendors}"
                                                ],
                                                "value": [
                                                    "{bindRecord.vendor}"
                                                ],
                                                "valueField": "nadcode"
                                            },
                                            "configAlternates": {
                                                "fieldLabel": "string",
                                                "maxWidth": "number",
                                                "name": "string",
                                                "reference": "string",
                                                "value": "binding",
                                                "disabled": "boolean",
                                                "store": "binding",
                                                "autoLoadOnValue": "boolean",
                                                "displayField": "datafield",
                                                "forceSelection": "boolean",
                                                "minChars": "number",
                                                "pageSize": "number",
                                                "valueField": "datafield"
                                            },
                                            "name": "MyComboBox25",
                                            "designerId": "860328da-54af-4b76-9d4b-39f34d15e5be"
                                        },
                                        {
                                            "type": "Ext.form.field.ComboBox",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "allowBlank": false,
                                                "autoLoadOnValue": true,
                                                "displayField": "contractcode",
                                                "fieldLabel": "Mã hợp đồng",
                                                "matchFieldWidth": false,
                                                "maxWidth": 450,
                                                "minChars": 2,
                                                "name": "contractcode",
                                                "pageSize": 10,
                                                "reference": "contractcode",
                                                "store": [
                                                    "{contracts}"
                                                ],
                                                "value": [
                                                    "{bindRecord.contractcode}"
                                                ],
                                                "valueField": "contractcode"
                                            },
                                            "configAlternates": {
                                                "fieldLabel": "string",
                                                "layout|flex": "number",
                                                "name": "string",
                                                "reference": "string",
                                                "value": "binding",
                                                "store": "binding",
                                                "displayField": "datafield",
                                                "valueField": "datafield",
                                                "autoLoadOnValue": "boolean",
                                                "minChars": "number",
                                                "pageSize": "number",
                                                "matchFieldWidth": "boolean",
                                                "allowBlank": "boolean",
                                                "maxWidth": "number"
                                            },
                                            "name": "MyComboBox2",
                                            "designerId": "93f25eba-9587-43f3-b0e7-e7b6fb3e396e",
                                            "cn": [
                                                {
                                                    "type": "viewcontrollereventbinding",
                                                    "reference": {
                                                        "name": "listeners",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "fn": "onContractcodeBlur",
                                                        "implHandler": [
                                                            "var me = this,",
                                                            "    vm = me.getViewModel(),",
                                                            "    gridDet = me.lookupReference('gridVendorDet'),",
                                                            "    milestones = vm.getStore('milestones');",
                                                            "if(!(Ext.isEmpty(component.value))){",
                                                            "    milestones.getProxy().setExtraParam('contractcode', component.value);",
                                                            "    milestones.load();",
                                                            "    gridDet.getStore().removeAll();",
                                                            "}"
                                                        ],
                                                        "name": "blur",
                                                        "scope": "me"
                                                    },
                                                    "configAlternates": {
                                                        "fn": "string",
                                                        "implHandler": "code",
                                                        "name": "string",
                                                        "scope": "string"
                                                    },
                                                    "name": "onContractcodeBlur",
                                                    "designerId": "565fd82b-c9a3-4abe-95d5-364cd78d41cb"
                                                },
                                                {
                                                    "type": "Ext.view.BoundList",
                                                    "reference": {
                                                        "name": "listConfig",
                                                        "type": "object"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "itemSelector": "div"
                                                    },
                                                    "configAlternates": {
                                                        "itemSelector": "string"
                                                    },
                                                    "name": "MyBoundList4",
                                                    "designerId": "53854c1c-0a75-4831-9557-d95b34c7a1f8",
                                                    "cn": [
                                                        {
                                                            "type": "Ext.XTemplate",
                                                            "reference": {
                                                                "name": "itemTpl",
                                                                "type": "object"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "designer|displayName": "itemTpl",
                                                                "implHandler": [
                                                                    "{contractcode} - {contracttitle}"
                                                                ]
                                                            },
                                                            "configAlternates": {
                                                                "designer|displayName": "string",
                                                                "implHandler": "code"
                                                            },
                                                            "name": "itemTpl",
                                                            "designerId": "17f64bf8-de4e-4ac1-8704-a31e73b6f4d1"
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.form.field.ComboBox",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoLoadOnValue": true,
                                                "displayField": "paymentdesc",
                                                "fieldLabel": "Đợt thanh toán",
                                                "maxWidth": 450,
                                                "minChars": 2,
                                                "name": "milestone",
                                                "pageSize": 10,
                                                "reference": "milestone",
                                                "store": [
                                                    "{milestones}"
                                                ],
                                                "value": [
                                                    "{bindRecord.milestone}"
                                                ],
                                                "valueField": "milestone"
                                            },
                                            "configAlternates": {
                                                "fieldLabel": "string",
                                                "name": "string",
                                                "reference": "string",
                                                "value": "binding",
                                                "store": "binding",
                                                "autoLoadOnValue": "boolean",
                                                "displayField": "datafield",
                                                "minChars": "number",
                                                "pageSize": "number",
                                                "valueField": "datafield",
                                                "maxWidth": "number"
                                            },
                                            "name": "MyComboBox29",
                                            "designerId": "e8d7de45-2241-4b3f-989c-1795ba101afd"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.FieldContainer",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "container|align": "stretch",
                                        "flex": 1,
                                        "layout": "vbox",
                                        "padding": "0 5 0 0"
                                    },
                                    "configAlternates": {
                                        "container|align": "string",
                                        "layout": "string",
                                        "flex": "number",
                                        "padding": "auto"
                                    },
                                    "name": "MyFieldContainer15",
                                    "designerId": "d67ad87c-83c9-4599-a6b2-8e4cb73cc57e",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.ComboBox",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "disabled": true,
                                                "displayField": "name",
                                                "fieldLabel": "Tình trạng ",
                                                "name": "status",
                                                "reference": "status",
                                                "store": [
                                                    "{StoreWAR}"
                                                ],
                                                "value": [
                                                    "{bindRecord.status}"
                                                ],
                                                "valueField": "code"
                                            },
                                            "configAlternates": {
                                                "fieldLabel": "string",
                                                "layout|flex": "number",
                                                "name": "string",
                                                "reference": "string",
                                                "store": "binding",
                                                "displayField": "datafield",
                                                "valueField": "datafield",
                                                "value": "binding",
                                                "disabled": "boolean",
                                                "maxWidth": "number",
                                                "autoLoadOnValue": "boolean"
                                            },
                                            "name": "MyComboBox33",
                                            "designerId": "e7cebd96-f8c5-45ad-a298-075c030ccd9d",
                                            "cn": [
                                                {
                                                    "type": "Ext.view.BoundList",
                                                    "reference": {
                                                        "name": "listConfig",
                                                        "type": "object"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "itemSelector": "div"
                                                    },
                                                    "configAlternates": {
                                                        "itemSelector": "string"
                                                    },
                                                    "name": "MyBoundList20",
                                                    "designerId": "d147b99d-75d0-4d71-840c-8f09d116811a",
                                                    "cn": [
                                                        {
                                                            "type": "Ext.XTemplate",
                                                            "reference": {
                                                                "name": "itemTpl",
                                                                "type": "object"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "designer|displayName": "itemTpl",
                                                                "implHandler": [
                                                                    "{code} - {name}"
                                                                ]
                                                            },
                                                            "configAlternates": {
                                                                "designer|displayName": "string",
                                                                "implHandler": "code"
                                                            },
                                                            "name": "itemTpl",
                                                            "designerId": "996ad572-0999-4800-8f13-b7c4c8a1225a"
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.form.field.ComboBox",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "autoLoadOnValue": true,
                                                "displayField": "name",
                                                "fieldLabel": "Nhóm truy cập ",
                                                "matchFieldWidth": false,
                                                "minChars": 2,
                                                "name": "dagid",
                                                "pageSize": 10,
                                                "reference": "dagid",
                                                "store": [
                                                    "{dagids}"
                                                ],
                                                "value": [
                                                    "{bindRecord.dagid}"
                                                ],
                                                "valueField": "dagid"
                                            },
                                            "configAlternates": {
                                                "fieldLabel": "string",
                                                "layout|flex": "number",
                                                "store": "binding",
                                                "displayField": "datafield",
                                                "name": "string",
                                                "reference": "string",
                                                "valueField": "datafield",
                                                "value": "binding",
                                                "matchFieldWidth": "boolean",
                                                "autoLoadOnValue": "boolean",
                                                "minChars": "number",
                                                "pageSize": "number"
                                            },
                                            "name": "MyComboBox54",
                                            "designerId": "c501c223-247c-44b3-9384-1f2e5fb7c802"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldContainer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "container|align": "stretch",
                                "layout": "vbox"
                            },
                            "configAlternates": {
                                "container|align": "string",
                                "layout": "string"
                            },
                            "name": "MyFieldContainer17",
                            "designerId": "b94d2e27-d6f7-4d5d-9ec9-dd5c454043ee",
                            "cn": [
                                {
                                    "type": "Ext.form.FieldContainer",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "container|align": "stretch",
                                        "layout": "hbox"
                                    },
                                    "configAlternates": {
                                        "container|align": "string",
                                        "layout": "string"
                                    },
                                    "name": "MyFieldContainer29",
                                    "designerId": "4762a995-b359-4a81-93c9-710eb8cc3d97",
                                    "cn": [
                                        {
                                            "type": "Ext.form.FieldContainer",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "container|align": "stretch",
                                                "layout": "vbox"
                                            },
                                            "configAlternates": {
                                                "container|align": "string",
                                                "layout": "string"
                                            },
                                            "name": "MyFieldContainer36",
                                            "designerId": "f96c321c-7e80-4aab-8f67-6f59c2affb15",
                                            "cn": [
                                                {
                                                    "type": "Ext.form.field.Date",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "allowBlank": false,
                                                        "fieldLabel": "Ngày lập",
                                                        "maxWidth": 240,
                                                        "name": "requesteddate",
                                                        "reference": "requesteddate",
                                                        "value": [
                                                            "{bindRecord.requesteddate}"
                                                        ]
                                                    },
                                                    "configAlternates": {
                                                        "fieldLabel": "string",
                                                        "layout|flex": "number",
                                                        "name": "string",
                                                        "reference": "string",
                                                        "value": "binding",
                                                        "allowBlank": "boolean",
                                                        "maxWidth": "number"
                                                    },
                                                    "name": "MyDateField34",
                                                    "designerId": "7830d21f-db3a-46ff-8521-0bc9048c2ed4"
                                                },
                                                {
                                                    "type": "Ext.form.field.ComboBox",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "autoLoadOnValue": true,
                                                        "displayField": "name",
                                                        "fieldLabel": "Người lập ",
                                                        "matchFieldWidth": false,
                                                        "minChars": 2,
                                                        "name": "requestedby",
                                                        "pageSize": 10,
                                                        "reference": "requestedby",
                                                        "store": [
                                                            "{hremployees}"
                                                        ],
                                                        "value": [
                                                            "{bindRecord.requestedby}"
                                                        ],
                                                        "valueField": "employee"
                                                    },
                                                    "configAlternates": {
                                                        "fieldLabel": "string",
                                                        "layout|flex": "number",
                                                        "name": "string",
                                                        "reference": "string",
                                                        "value": "binding",
                                                        "store": "binding",
                                                        "autoLoadOnValue": "boolean",
                                                        "displayField": "datafield",
                                                        "minChars": "number",
                                                        "pageSize": "number",
                                                        "valueField": "datafield",
                                                        "matchFieldWidth": "boolean"
                                                    },
                                                    "name": "MyComboBox30",
                                                    "designerId": "421475c0-d0e2-42e6-8c56-69f43b8785dc"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.form.FieldContainer",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "container|align": "stretch",
                                                "layout": "vbox"
                                            },
                                            "configAlternates": {
                                                "container|align": "string",
                                                "layout": "string"
                                            },
                                            "name": "MyFieldContainer37",
                                            "designerId": "f9c02e19-9173-47e3-8d19-02cf63cd4c46",
                                            "cn": [
                                                {
                                                    "type": "Ext.form.field.Date",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "disabled": true,
                                                        "fieldLabel": "Ngày đánh giá ",
                                                        "maxWidth": 240,
                                                        "name": "evaluateddate",
                                                        "value": [
                                                            "{bindRecord.evaluateddate}"
                                                        ]
                                                    },
                                                    "configAlternates": {
                                                        "fieldLabel": "string",
                                                        "layout|flex": "number",
                                                        "name": "string",
                                                        "reference": "string",
                                                        "value": "binding",
                                                        "maxWidth": "number",
                                                        "disabled": "boolean"
                                                    },
                                                    "name": "MyDateField34",
                                                    "designerId": "d36e1075-78fe-498e-9e97-f3099d81cca5"
                                                },
                                                {
                                                    "type": "Ext.form.field.ComboBox",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "autoLoadOnValue": true,
                                                        "disabled": true,
                                                        "displayField": "name",
                                                        "fieldLabel": "NV đánh giá ",
                                                        "name": "evaluatedby",
                                                        "reference": "evaluatedby",
                                                        "store": [
                                                            "{hremployees}"
                                                        ],
                                                        "value": [
                                                            "{bindRecord.evaluatedby}"
                                                        ],
                                                        "valueField": "employee"
                                                    },
                                                    "configAlternates": {
                                                        "fieldLabel": "string",
                                                        "layout|flex": "number",
                                                        "name": "string",
                                                        "reference": "string",
                                                        "value": "binding",
                                                        "disabled": "boolean",
                                                        "store": "binding",
                                                        "autoLoadOnValue": "boolean",
                                                        "displayField": "datafield",
                                                        "minChars": "number",
                                                        "pageSize": "number",
                                                        "valueField": "datafield"
                                                    },
                                                    "name": "MyComboBox31",
                                                    "designerId": "81b3cbd5-be0f-4e95-b957-35c841e7debb"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.form.FieldContainer",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "container|align": "stretch",
                                                "layout": "vbox"
                                            },
                                            "configAlternates": {
                                                "container|align": "string",
                                                "layout": "string"
                                            },
                                            "name": "MyFieldContainer38",
                                            "designerId": "f35f5100-dac8-4aff-9887-2132b43c8a1d",
                                            "cn": [
                                                {
                                                    "type": "Ext.form.field.Date",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "disabled": true,
                                                        "fieldLabel": "Ngày duyệt",
                                                        "maxWidth": 240,
                                                        "name": "approveddate",
                                                        "value": [
                                                            "{bindRecord.approveddate}"
                                                        ]
                                                    },
                                                    "configAlternates": {
                                                        "fieldLabel": "string",
                                                        "layout|flex": "number",
                                                        "name": "string",
                                                        "reference": "string",
                                                        "value": "binding",
                                                        "maxWidth": "number",
                                                        "disabled": "boolean"
                                                    },
                                                    "name": "MyDateField34",
                                                    "designerId": "dc6cdbc3-417d-4118-b6d8-644d9bb068a8"
                                                },
                                                {
                                                    "type": "Ext.form.field.Display",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "fieldLabel": "NV duyệt:  ",
                                                        "reference": "approvedby",
                                                        "value": [
                                                            "{bindRecord.approvedby}"
                                                        ]
                                                    },
                                                    "configAlternates": {
                                                        "fieldLabel": "string",
                                                        "layout|flex": "number",
                                                        "name": "string",
                                                        "reference": "string",
                                                        "value": "binding",
                                                        "disabled": "boolean",
                                                        "store": "binding",
                                                        "autoLoadOnValue": "boolean",
                                                        "displayField": "datafield",
                                                        "valueField": "datafield",
                                                        "readOnly": "boolean"
                                                    },
                                                    "name": "MyDisplayField3",
                                                    "designerId": "65c483f1-ae66-4f52-b836-2d68307ec577",
                                                    "cn": [
                                                        {
                                                            "type": "fixedfunction",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "designer|params": [
                                                                    "value",
                                                                    "displayField"
                                                                ],
                                                                "fn": "renderer",
                                                                "implHandler": [
                                                                    "var val = tavico.app.getController('MainController').authConfig.operatorname;",
                                                                    "if(Ext.isEmpty(val)) val = '';",
                                                                    "return val;"
                                                                ]
                                                            },
                                                            "configAlternates": {
                                                                "designer|params": "typedarray",
                                                                "fn": "string",
                                                                "implHandler": "code"
                                                            },
                                                            "name": "renderer",
                                                            "designerId": "7bc128de-4589-4487-b451-229bb4f46362"
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "allowBlank": false,
                                        "fieldLabel": "Diễn giải ",
                                        "name": "cwcdesc",
                                        "padding": "0 5 0 0",
                                        "value": [
                                            "{bindRecord.cwcdesc}"
                                        ]
                                    },
                                    "configAlternates": {
                                        "fieldLabel": "string",
                                        "layout|flex": "number",
                                        "name": "string",
                                        "reference": "string",
                                        "value": "binding",
                                        "padding": "auto",
                                        "allowBlank": "boolean"
                                    },
                                    "name": "MyTextField127",
                                    "designerId": "060fcf91-8b52-4e28-a2e9-abe4d0f01bca"
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "Ghi chú",
                                        "name": "comments",
                                        "padding": "0 5 0 0",
                                        "reference": "comments",
                                        "value": [
                                            "{bindRecord.comments}"
                                        ]
                                    },
                                    "configAlternates": {
                                        "fieldLabel": "string",
                                        "layout|flex": "number",
                                        "name": "string",
                                        "reference": "string",
                                        "value": "binding",
                                        "padding": "auto"
                                    },
                                    "name": "MyTextField134",
                                    "designerId": "6840fdd2-91b2-401d-86c1-d39417df1e08"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.grid.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|uiInterfaceName": "default",
                        "enableColumnMove": false,
                        "enableLocking": true,
                        "flex": 1,
                        "lockText": "Khóa",
                        "lockedViewConfig": [
                            "{",
                            "listeners: {",
                            "        groupclick: function(view, node, group, e, eOpts) {",
                            "            if(!e.getTarget('.grpCheckbox')){",
                            "                if(view.features[0].isExpanded(group)){",
                            "                    view.features[0].collapse(group);",
                            "                }else{",
                            "                view.features[0].expand(group);",
                            "            }",
                            "            return;",
                            "            }",
                            "            var me = this,",
                            "            groups = view.getStore().getGroups().items,",
                            "            selectedGrRec,",
                            "            grid = me.up('grid'),",
                            "            prevSelectedRecs = grid.getSelectionModel().getSelection(),",
                            "            ckHeader = e.getTarget('.grpCheckbox');",
                            "            groups.forEach(function(r){",
                            "                if(r._groupKey === group){",
                            "                    selectedGrRec = r.items;",
                            "                    prevSelectedRecs = prevSelectedRecs.concat(r.items);",
                            "                    return false;",
                            "                }",
                            "            });",
                            "",
                            "            if(ckHeader.checked) grid.getSelectionModel().select(prevSelectedRecs);",
                            "            else grid.getSelectionModel().deselect(selectedGrRec);",
                            "        }",
                            "    }",
                            "}"
                        ],
                        "normalViewConfig": [
                            "{",
                            "listeners: {",
                            "        groupclick: function(view, node, group, e, eOpts) {",
                            "            if(!e.getTarget('.grpCheckbox')){",
                            "                if(view.features[0].isExpanded(group)){",
                            "                    view.features[0].collapse(group);",
                            "                }else{",
                            "                view.features[0].expand(group);",
                            "            }",
                            "            return;",
                            "            }",
                            "            var me = this,",
                            "            groups = view.getStore().getGroups().items,",
                            "            selectedGrRec,",
                            "            grid = me.up('grid'),",
                            "            prevSelectedRecs = grid.getSelectionModel().getSelection(),",
                            "            ckHeader = e.getTarget('.grpCheckbox');",
                            "            groups.forEach(function(r){",
                            "                if(r._groupKey === group){",
                            "                    selectedGrRec = r.items;",
                            "                    prevSelectedRecs = prevSelectedRecs.concat(r.items);",
                            "                    return false;",
                            "                }",
                            "            });",
                            "",
                            "            if(ckHeader.checked) grid.getSelectionModel().select(prevSelectedRecs);",
                            "            else grid.getSelectionModel().deselect(selectedGrRec);",
                            "        }",
                            "    }",
                            "}"
                        ],
                        "reference": "gridVendorDet",
                        "stateful": true,
                        "store": [
                            "{masterdetails}"
                        ],
                        "unlockText": "Mở khóa"
                    },
                    "configAlternates": {
                        "store": "binding",
                        "layout|flex": "number",
                        "reference": "string",
                        "enableLocking": "boolean",
                        "enableColumnMove": "boolean",
                        "lockedViewConfig": "object",
                        "normalViewConfig": "object",
                        "designer|uiInterfaceName": "string",
                        "lockText": "string",
                        "unlockText": "string",
                        "flex": "number",
                        "stateful": "boolean"
                    },
                    "name": "MyGridPanel37",
                    "designerId": "27a430b1-1e4b-41ad-a429-b3f6f9688b99",
                    "cn": [
                        {
                            "type": "Ext.toolbar.Toolbar",
                            "reference": {
                                "name": "dockedItems",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dock": "top"
                            },
                            "configAlternates": {
                                "dock": "string"
                            },
                            "name": "MyToolbar20",
                            "designerId": "6c8d9212-ba2b-4b24-a367-1861f252d8f2",
                            "cn": [
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "iconCls": "x-fa fa-plus",
                                        "itemId": "contractItemsBtn",
                                        "layout|flex": null,
                                        "text": "Hạng mục hợp đồng"
                                    },
                                    "configAlternates": {
                                        "layout|flex": "number",
                                        "text": "string",
                                        "iconCls": "string",
                                        "itemId": "string"
                                    },
                                    "name": "MyButton67",
                                    "designerId": "4bcbd6e8-7dad-453f-91e6-5c71e3f3d948",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onContractItemsClick1",
                                                "implHandler": [
                                                    "var me = this,",
                                                    "    v = me.getView(),",
                                                    "    vm = me.getViewModel(),",
                                                    "    mds\t= vm.getStore('masterdetails'),",
                                                    "    main\t= v.up('maincontainer'),",
                                                    "    notIds\t= [],",
                                                    "    wd;",
                                                    "",
                                                    "if (!main.projectRecord) {",
                                                    "    Ext.History.add('home');",
                                                    "    return;",
                                                    "}",
                                                    "",
                                                    "mds.each(function(r) {",
                                                    "    Ext.Array.push(notIds, r.get('itemid')) ;",
                                                    "});",
                                                    "wd = Ext.create('tavico.view.WdContractItemWCV', {",
                                                    "    bindRecord: vm.get('bindRecord'),",
                                                    "    detailModel: mds.getModel(),",
                                                    "    notIds: notIds",
                                                    "});",
                                                    "wd.on('successCallback', function(recs) {",
                                                    "    Ext.Array.each(recs, function(r) {",
                                                    "        var eRec = mds.findRecord('itemid', r.get('itemid')),",
                                                    "            d\t= r.getData();",
                                                    "        delete d.id;",
                                                    "",
                                                    "        if (eRec) {",
                                                    "            eRec.set(d);",
                                                    "        } else {",
                                                    "            var nRec = Ext.create(mds.getModel());",
                                                    "            nRec.set(d);",
                                                    "            mds.add(nRec);",
                                                    "        }",
                                                    "    });",
                                                    "});",
                                                    "wd.show();"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onContractItemsClick1",
                                            "designerId": "41624c8f-3e5f-4dad-b1e5-cddf0816a77b"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "iconCls": "x-fa fa-upload",
                                        "itemId": "importBtn",
                                        "layout|flex": null,
                                        "text": "Tải nhập"
                                    },
                                    "configAlternates": {
                                        "layout|flex": "number",
                                        "text": "string",
                                        "iconCls": "string",
                                        "itemId": "string"
                                    },
                                    "name": "MyButton68",
                                    "designerId": "95c99eca-b817-4887-b21a-96fdd3674b4a",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onItemListClick1",
                                                "implHandler": [
                                                    "var me\t= this,",
                                                    "    w\t= Ext.widget('wdimport'),",
                                                    "    vm\t= me.getViewModel(),",
                                                    "    s\t= vm.getStore('masterdetails');",
                                                    "",
                                                    "if (w.setImportType('WCVD',{",
                                                    "    cwcref: vm.get('bindRecord.cwcref'),",
                                                    "})) {",
                                                    "",
                                                    "    w.show();",
                                                    "",
                                                    "    w.on('successCallback', function() {",
                                                    "        s.load();",
                                                    "    });",
                                                    "}"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onItemListClick1",
                                            "designerId": "8f88fcd2-ec96-404f-b9a8-9a11d176e04e"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.button.Button",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "iconCls": "x-fa fa-history",
                                        "itemId": "historyBtn",
                                        "layout|flex": null,
                                        "text": "Lịch sử đánh giá",
                                        "width": 140
                                    },
                                    "configAlternates": {
                                        "layout|flex": "number",
                                        "text": "string",
                                        "iconCls": "string",
                                        "itemId": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyButton155",
                                    "designerId": "1d80cb57-3749-4cdf-8aba-cde5c5893c03",
                                    "cn": [
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onHistoryClick1",
                                                "implHandler": [
                                                    "var me = this,",
                                                    "    v = me.getView(),",
                                                    "    vm = me.getViewModel(),",
                                                    "    mds\t= vm.getStore('masterdetails'),",
                                                    "    main\t= v.up('maincontainer'),",
                                                    "    gridDet = me.lookupReference('gridVendorDet'),",
                                                    "    selectedRecs = gridDet.getSelectionModel().getSelection(),",
                                                    "    itemids = [],",
                                                    "    wd;",
                                                    "",
                                                    "if(selectedRecs.length === 0) return;",
                                                    "",
                                                    "if (!main.projectRecord) {",
                                                    "    Ext.History.add('home');",
                                                    "    return;",
                                                    "}",
                                                    "",
                                                    "selectedRecs.forEach(function(r){",
                                                    "    itemids.push(r.get('itemid'));",
                                                    "});",
                                                    "",
                                                    "// mds.each(function(r) {",
                                                    "//     Ext.Array.push(notIds, r.get('itemid')) ;",
                                                    "// });",
                                                    "wd = Ext.create('tavico.view.WdWorkComHistory', {",
                                                    "    bindRecord: vm.get('bindRecord'),",
                                                    "    detailModel: mds.getModel(),",
                                                    "    itemids: itemids",
                                                    "});",
                                                    "wd.on('successCallback', function(recs) {",
                                                    "    Ext.Array.each(recs, function(r) {",
                                                    "        var eRec = mds.findRecord('itemid', r.get('itemid')),",
                                                    "            d\t= r.getData();",
                                                    "        delete d.id;",
                                                    "",
                                                    "        if (eRec) {",
                                                    "            eRec.set(d);",
                                                    "        } else {",
                                                    "            var nRec = Ext.create(mds.getModel());",
                                                    "            nRec.set(d);",
                                                    "            mds.add(nRec);",
                                                    "        }",
                                                    "    });",
                                                    "});",
                                                    "",
                                                    "wd.show();"
                                                ],
                                                "name": "click",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onHistoryClick1",
                                            "designerId": "c101816d-3b71-4e77-93a9-ade8b0c929da"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Action",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "itemId": "delCol",
                                "lockable": false,
                                "locked": true,
                                "width": 42
                            },
                            "configAlternates": {
                                "width": "auto",
                                "itemId": "string",
                                "lockable": "boolean",
                                "locked": "boolean"
                            },
                            "name": "MyActionColumn11",
                            "designerId": "92f0b963-c151-45de-95a6-27e2619fe22b",
                            "cn": [
                                {
                                    "type": "actioncolumnitem",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "iconCls": "x-fa fa-close"
                                    },
                                    "configAlternates": {
                                        "iconCls": "string"
                                    },
                                    "name": "MyActionColumnItem3",
                                    "designerId": "39d12dc9-532e-4750-bc8d-a70ebe31952a",
                                    "cn": [
                                        {
                                            "type": "fixedfunction",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|params": [
                                                    "view",
                                                    "rowIndex",
                                                    "colIndex",
                                                    "item",
                                                    "e",
                                                    "record",
                                                    "row"
                                                ],
                                                "fn": "handler",
                                                "implHandler": [
                                                    "view.getStore('masterdetails').remove(record);"
                                                ]
                                            },
                                            "configAlternates": {
                                                "designer|params": "typedarray",
                                                "fn": "string",
                                                "implHandler": "code"
                                            },
                                            "name": "handler",
                                            "designerId": "c1dd8755-5513-433d-9ec8-6677f19e296e"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "chaptername",
                                "hidden": true,
                                "lockable": false,
                                "text": "Biểu"
                            },
                            "configAlternates": {
                                "dataIndex": "datafield",
                                "text": "string",
                                "editable": "boolean",
                                "width": "auto",
                                "lockable": "boolean",
                                "hidden": "boolean"
                            },
                            "name": "MyColumn232",
                            "designerId": "62365e69-2539-4475-95c0-f18b4ec0f51f"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "itemcate",
                                "hidden": true,
                                "lockable": false,
                                "text": "Mã hạng mục",
                                "width": 108
                            },
                            "configAlternates": {
                                "dataIndex": "datafield",
                                "text": "string",
                                "editable": "boolean",
                                "width": "auto",
                                "lockable": "boolean",
                                "hidden": "boolean"
                            },
                            "name": "MyColumn48",
                            "designerId": "7211c102-da0f-4a03-9dec-24a5bf2a6482"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "itemdesc",
                                "lockable": true,
                                "text": "Nội dung",
                                "width": 279
                            },
                            "configAlternates": {
                                "dataIndex": "datafield",
                                "text": "string",
                                "width": "auto",
                                "lockable": "boolean"
                            },
                            "name": "MyColumn115",
                            "designerId": "7354d02a-6ed4-49b7-9ae1-1497fc1842e4"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "locdesc",
                                "lockable": true,
                                "text": "Vị trí - khu vực",
                                "width": 130
                            },
                            "configAlternates": {
                                "dataIndex": "datafield",
                                "text": "string",
                                "width": "auto",
                                "lockable": "boolean"
                            },
                            "name": "MyColumn116",
                            "designerId": "0ef49ad1-2fcc-435e-b10e-acc5de0b1880"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "unit",
                                "lockable": true,
                                "text": "Đơn vị"
                            },
                            "configAlternates": {
                                "dataIndex": "datafield",
                                "text": "string",
                                "lockable": "boolean"
                            },
                            "name": "MyColumn117",
                            "designerId": "c6314f83-ee55-4f1c-9a10-498b7b8293fe",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "group",
                                    "type": "string"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Number",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "align": "end",
                                "dataIndex": "quantity",
                                "lockable": true,
                                "text": "Khối lượng"
                            },
                            "configAlternates": {
                                "dataIndex": "datafield",
                                "text": "string",
                                "align": "string",
                                "lockable": "boolean"
                            },
                            "name": "MyNumberColumn57",
                            "designerId": "273afa4f-d2e7-4032-9e34-74bbb4a65269"
                        },
                        {
                            "type": "Ext.grid.column.Number",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "align": "end",
                                "dataIndex": "totalamt",
                                "lockable": true,
                                "text": "Giá trị",
                                "width": 120
                            },
                            "configAlternates": {
                                "dataIndex": "datafield",
                                "text": "string",
                                "align": "string",
                                "width": "auto",
                                "lockable": "boolean"
                            },
                            "name": "MyNumberColumn59",
                            "designerId": "b072d6a1-3a3f-45dc-a44f-bc5ec8022e02"
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "style": "background-color:#E9EBF7;",
                                "text": "Đề xuất"
                            },
                            "configAlternates": {
                                "text": "string",
                                "style": "string"
                            },
                            "name": "MyColumn158",
                            "designerId": "b581c801-f253-43b5-8b75-283bcc83cf26",
                            "cn": [
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "vrate",
                                        "text": "%",
                                        "width": 60
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "width": "auto",
                                        "align": "string"
                                    },
                                    "name": "MyNumberColumn33",
                                    "designerId": "fdc7d2ce-49ce-4d84-953a-26cd7d9afec2",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "editor",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|createAlias": "mynumberfield"
                                            },
                                            "configAlternates": {
                                                "designer|createAlias": "string"
                                            },
                                            "name": "MyNumberField80",
                                            "designerId": "027739cd-12ac-4227-8c7e-be2b0480a4b3"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "vqty",
                                        "text": "Khối lượng"
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn36",
                                    "designerId": "4312770a-3b6e-4659-b2f1-cf4273a939ab",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "editor",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|createAlias": "mynumberfield"
                                            },
                                            "configAlternates": {
                                                "designer|createAlias": "string"
                                            },
                                            "name": "MyNumberField81",
                                            "designerId": "dec48c94-9069-4375-8805-9c77f44c2b14"
                                        }
                                    ]
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "vvalue",
                                        "text": "Giá trị",
                                        "width": 120
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn40",
                                    "designerId": "6816bc0c-31df-481e-9f7a-b1317a75151c",
                                    "cn": [
                                        {
                                            "type": "Ext.form.field.Number",
                                            "reference": {
                                                "name": "editor",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "designer|createAlias": "mynumberfield"
                                            },
                                            "configAlternates": {
                                                "designer|createAlias": "string"
                                            },
                                            "name": "MyNumberField82",
                                            "designerId": "e85873eb-be16-4afb-b0e5-b1fe9295e1ee"
                                        }
                                    ]
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "text": "Tiến độ hoàn thành"
                            },
                            "configAlternates": {
                                "text": "string"
                            },
                            "name": "MyColumn199",
                            "designerId": "8d4f2416-9369-4489-81d4-8322d6135545",
                            "cn": [
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "percentdone",
                                        "text": "%",
                                        "width": 60
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn34",
                                    "designerId": "ae357992-14bc-4a04-b466-8ef8cf075fcc"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "completedqty",
                                        "text": "Khối lượng"
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn35",
                                    "designerId": "23ac391d-c673-4236-95a5-00905af78d25"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "completedvalue",
                                        "text": "Giá trị",
                                        "width": 151
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn51",
                                    "designerId": "be2073c4-d26a-4a60-9891-a84fab982558"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "text": "Lũy kế đề xuất"
                            },
                            "configAlternates": {
                                "text": "string"
                            },
                            "name": "MyColumn157",
                            "designerId": "f1806d15-a407-4e72-8783-f4b3bd516a81",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "col",
                                    "type": "string"
                                }
                            ],
                            "cn": [
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "ovrate",
                                        "text": "%",
                                        "width": 60
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "itemId": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn52",
                                    "designerId": "740c20ea-3ea8-420e-abab-455e6fe98513"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "ovqty",
                                        "text": "Khối lượng",
                                        "width": 170
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "itemId": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn53",
                                    "designerId": "85146b2d-5309-4165-a155-907f1f2b41a5"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "ovvalue",
                                        "text": "Giá trị",
                                        "width": 155
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "itemId": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn54",
                                    "designerId": "50c9dbd8-105b-43d1-8363-6ff55343e96d"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "text": "Lũy kế sau đề xuất"
                            },
                            "configAlternates": {
                                "text": "string"
                            },
                            "name": "MyColumn159",
                            "designerId": "27bc25be-481b-4c7b-83eb-93142a0c848b",
                            "cn": [
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "sumrate1",
                                        "text": "%",
                                        "width": 60
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn50",
                                    "designerId": "b2903f01-3c8f-4662-8b41-89cbf1993464"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "sumqty1",
                                        "text": "Khối lượng"
                                    },
                                    "configAlternates": {
                                        "text": "string",
                                        "dataIndex": "datafield",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn55",
                                    "designerId": "35fe8ee9-40d3-4b73-a928-7eacbbb43eff"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "sumvalue1",
                                        "text": "Giá trị",
                                        "width": 120
                                    },
                                    "configAlternates": {
                                        "text": "string",
                                        "dataIndex": "datafield",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn56",
                                    "designerId": "5f41eefe-4506-4c5f-aa1d-91dde53fb475"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "text": "Lũy kế đánh giá"
                            },
                            "configAlternates": {
                                "text": "string"
                            },
                            "name": "MyColumn156",
                            "designerId": "afd66a46-c18f-4bf0-8ac9-2e668caab6d0",
                            "cn": [
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "orate",
                                        "text": "%",
                                        "width": 60
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn34",
                                    "designerId": "c4f71f02-b002-48b9-8d4f-7e58a4f164de"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "oqty",
                                        "text": "Khối lượng"
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn35",
                                    "designerId": "8d259510-fd34-4ea9-9539-7a2373949dbd"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "ovalue",
                                        "text": "Giá trị",
                                        "width": 151
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn51",
                                    "designerId": "3e7c8ab7-61b6-4d75-8c42-626b5f0971f7"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "text": "Đánh giá"
                            },
                            "configAlternates": {
                                "text": "string"
                            },
                            "name": "MyColumn200",
                            "designerId": "7c43f434-814b-4184-969f-f870da95a4e0",
                            "cn": [
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "rate",
                                        "text": "%",
                                        "width": 60
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn34",
                                    "designerId": "a0862dc0-8474-429f-8b31-befd8b739326"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "qty",
                                        "text": "Khối lượng"
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn35",
                                    "designerId": "122b9885-c731-439e-b46d-46ca3b9a80aa"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "value",
                                        "text": "Giá trị",
                                        "width": 151
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn51",
                                    "designerId": "095b88fa-cf5d-4466-a492-3649ab98f784"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "text": "Lũy kế sau đánh giá"
                            },
                            "configAlternates": {
                                "text": "string"
                            },
                            "name": "MyColumn201",
                            "designerId": "cae25fae-ba97-4f46-a51a-60e1734e8bed",
                            "cn": [
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "",
                                        "dataIndex": "sumrate",
                                        "text": "%",
                                        "width": 60
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn34",
                                    "designerId": "1dce706e-6842-4619-9934-bcab423b13ef"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "sumqty",
                                        "text": "Khối lượng"
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn35",
                                    "designerId": "95f8c847-7f98-417e-8977-c96d572d5cc1"
                                },
                                {
                                    "type": "Ext.grid.column.Number",
                                    "reference": {
                                        "name": "columns",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "align": "end",
                                        "dataIndex": "sumvalue",
                                        "text": "Giá trị",
                                        "width": 151
                                    },
                                    "configAlternates": {
                                        "dataIndex": "datafield",
                                        "text": "string",
                                        "align": "string",
                                        "width": "auto"
                                    },
                                    "name": "MyNumberColumn51",
                                    "designerId": "75870323-c56f-484c-b370-e65bad94429d"
                                }
                            ]
                        },
                        {
                            "type": "Ext.grid.column.Column",
                            "reference": {
                                "name": "columns",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "dataIndex": "comments",
                                "itemId": "gccmt",
                                "text": "Ghi chú",
                                "width": 220
                            },
                            "configAlternates": {
                                "dataIndex": "datafield",
                                "itemId": "string",
                                "text": "string",
                                "width": "auto"
                            },
                            "name": "MyColumn235",
                            "designerId": "460b069b-eb9b-481d-a6b8-4006c7a5dc76",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "editor",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "MyTextField199",
                                    "designerId": "e693a6e7-4ce6-4717-a467-7dd2b3bc1191"
                                }
                            ]
                        },
                        {
                            "type": "Ext.view.Table",
                            "reference": {
                                "name": "viewConfig",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyTable19",
                            "designerId": "93691161-1837-4132-b245-c85444f92b25"
                        },
                        {
                            "type": "Ext.grid.feature.Grouping",
                            "reference": {
                                "name": "features",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "collapsible": false,
                                "enableGroupingMenu": false
                            },
                            "configAlternates": {
                                "collapsible": "boolean",
                                "enableGroupingMenu": "boolean"
                            },
                            "name": "MyGroupingFeature7",
                            "designerId": "d0864aba-181c-43ad-a860-bd1bfa1e3b1f",
                            "cn": [
                                {
                                    "type": "Ext.XTemplate",
                                    "reference": {
                                        "name": "groupHeaderTpl",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|displayName": "groupHeaderTpl",
                                        "implHandler": [
                                            "<div class=\"container\" style=\"display:flex\">",
                                            "    <input class=\"grpCheckbox\" type=\"checkbox\"></input>",
                                            "    <div style=\"font-weight:bold; padding-left:5px;\">{name}</div>",
                                            "</div>"
                                        ]
                                    },
                                    "configAlternates": {
                                        "designer|displayName": "string",
                                        "implHandler": "code"
                                    },
                                    "name": "groupHeaderTpl",
                                    "designerId": "b904e86d-a6e8-4d39-9126-988d444fb36a"
                                }
                            ]
                        },
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onGridpanelGroupClick",
                                "implHandler": [
                                    "if(!e.getTarget('.grpCheckbox')){",
                                    "    if(view.features[0].isExpanded(group)){",
                                    "        view.features[0].collapse(group);",
                                    "    }else{",
                                    "        view.features[0].expand(group);",
                                    "    }",
                                    "    return;",
                                    "}",
                                    "var me = this,",
                                    "    groups = view.getStore().getGroups().items,",
                                    "    selectedGrRec,",
                                    "    grid = me.lookupReference('gridVendorDet'),",
                                    "    prevSelectedRecs = grid.getSelectionModel().getSelection(),",
                                    "    ckHeader = e.getTarget('.grpCheckbox');",
                                    "groups.forEach(function(r){",
                                    "    if(r._groupKey === group){",
                                    "        selectedGrRec = r.items;",
                                    "        prevSelectedRecs = prevSelectedRecs.concat(r.items);",
                                    "        return false;",
                                    "    }",
                                    "});",
                                    "",
                                    "if(ckHeader.checked) grid.getSelectionModel().select(prevSelectedRecs);",
                                    "else grid.getSelectionModel().deselect(selectedGrRec);"
                                ],
                                "name": "groupclick",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onGridpanelGroupClick",
                            "designerId": "b878ccd6-5606-4457-a6aa-122b03d10826"
                        },
                        {
                            "type": "Ext.selection.CheckboxModel",
                            "reference": {
                                "name": "selModel",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyCheckboxSelectionModel12",
                            "designerId": "0e8bed87-b333-4d38-9159-d388d65225ed"
                        },
                        {
                            "type": "Ext.grid.plugin.CellEditing",
                            "reference": {
                                "name": "plugins",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "clicksToEdit": 1
                            },
                            "configAlternates": {
                                "clicksToEdit": "number"
                            },
                            "name": "MyCellEditingPlugin11",
                            "designerId": "a098a4c3-1f83-444c-a1f9-c23f198f732f"
                        },
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "editor",
                                    "context"
                                ],
                                "fn": "onGridpanelEdit",
                                "implHandler": [
                                    "var me = this,",
                                    "    v = me.getView(),",
                                    "    column = context.column,",
                                    "    record = context.record,",
                                    "    ovrate = record.get('ovrate'),",
                                    "    ovqty = record.get('ovqty'),",
                                    "    ovvalue = record.get('ovvalue'),",
                                    "    vrate = record.get('vrate'),",
                                    "    vqty = record.get('vqty'),",
                                    "    vvalue = record.get('vvalue'),",
                                    "    grid = me.lookupReference('gridVendorDet'),",
                                    "    msg\t= '',",
                                    "    isError = false,",
                                    "    main\t= v.up('maincontainer'),",
                                    "    validSetup\t= main.projectRecord.data;",
                                    "",
                                    "//me.isError = false;",
                                    "",
                                    "if(column.dataIndex === 'vrate') {",
                                    "    record.set('sumrate1',ovrate + vrate);",
                                    "    var ratio = 0;",
                                    "    if(record.get('vrate') !== 0) ratio = record.get('percentdone') / record.get('vrate');",
                                    "    checkValue(record.get('sumrate1'),record.get('percentdone'));",
                                    "",
                                    "    if(ratio !== 0){",
                                    "        record.set('vqty', record.get('completedqty') / ratio);",
                                    "        record.set('vvalue', record.get('completedvalue') / ratio);",
                                    "    }else{",
                                    "        record.set('vqty', 0);",
                                    "        record.set('vvalue', 0);",
                                    "    }",
                                    "",
                                    "} else if(column.dataIndex === 'vqty') {",
                                    "    record.set('sumqty1',ovqty + vqty);",
                                    "    var ratio = 0;",
                                    "    if(record.get('vqty') !== 0) ratio = record.get('completedqty') / record.get('vqty');",
                                    "    checkValue(record.get('sumqty1'),record.get('completedqty'));",
                                    "    if(ratio !== 0){",
                                    "        record.set('vrate', record.get('percentdone') / ratio);",
                                    "        record.set('vvalue', record.get('completedvalue') / ratio);",
                                    "    }else{",
                                    "        record.set('vrate', 0);",
                                    "        record.set('vvalue', 0);",
                                    "    }",
                                    "",
                                    "",
                                    "} else if(column.dataIndex === 'vvalue') {",
                                    "    record.set('sumvalue1',ovvalue + vvalue);",
                                    "    var ratio = 0;",
                                    "    if(record.get('vvalue') !== 0) ratio = record.get('completedvalue') / record.get('vvalue');",
                                    "    checkValue(record.get('sumvalue1'),record.get('completedvalue'));",
                                    "    if(ratio !== 0){",
                                    "        record.set('vqty', record.get('completedqty') / ratio);",
                                    "        record.set('vrate', record.get('percentdone') / ratio);",
                                    "    }else{",
                                    "        record.set('vqty', 0);",
                                    "        record.set('vrate', 0);",
                                    "    }",
                                    "}",
                                    "",
                                    "function checkValue(field, completeField){",
                                    "    if (validSetup.wcvendorvsprogress == 'N') {",
                                    "        return;",
                                    "    }",
                                    "    if (Ext.isEmpty(field) || field - (completeField + completeField * validSetup.wcvendorvsprogressrate/100) <= 0){",
                                    "        return;",
                                    "    }",
                                    "",
                                    "    if (field - (completeField + completeField * validSetup.wcvendorvsprogressrate/100) > 0 && validSetup.wcvendorvsprogress != 'N') {",
                                    "        msg += ' tiến độ hoàn thành';",
                                    "        if (validSetup.wcvendorvsprogress == 'E') isError = true;",
                                    "    }",
                                    "",
                                    "",
                                    "    function resetValue(){",
                                    "        if(column.dataIndex === 'vrate'){",
                                    "            record.set('vrate',0);",
                                    "        }else  if(column.dataIndex === 'vqty'){",
                                    "            record.set('vqty',0);",
                                    "        }else{",
                                    "            record.set('vvalue',0);",
                                    "        }",
                                    "    }",
                                    "",
                                    "",
                                    "    if (!isError) {",
                                    "        Ext.Msg.alert({",
                                    "            title: 'Cảnh báo',",
                                    "            message: 'Đã vượt'+msg+', bạn có muốn lưu giá trị vừa nhập?',",
                                    "            buttons: Ext.Msg.YESNO,",
                                    "            icon: Ext.Msg.QUESTION,",
                                    "            fn: function(btn) {",
                                    "                if (btn === 'no') {",
                                    "                    resetValue();",
                                    "                }",
                                    "",
                                    "            }",
                                    "        });",
                                    "        return;",
                                    "    }",
                                    "",
                                    "",
                                    "    Ext.Msg.alert({",
                                    "        title: 'Lỗi',",
                                    "        message: 'Đã vượt '+msg+'!',",
                                    "        icon: Ext.Msg.ERROR,",
                                    "        buttons: Ext.Msg.OK",
                                    "    });",
                                    "    me.isError = isError;",
                                    "}"
                                ],
                                "name": "edit",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string",
                                "designer|params": "typedarray"
                            },
                            "name": "onGridpanelEdit",
                            "designerId": "6ed10888-fa55-4d26-ba69-833a668b9b27"
                        },
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onGridpanelLockcolumn",
                                "implHandler": [
                                    "var lock_data='',",
                                    "    lcs_data = localStorage.getItem('lock_data');",
                                    "if(lcs_data){",
                                    "    lock_data = lcs_data;",
                                    "}",
                                    "if(!lock_data.includes(column.text)){",
                                    "    lock_data += column.text+'|';",
                                    "    localStorage.setItem('lock_data',lock_data);",
                                    "}"
                                ],
                                "name": "lockcolumn",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onGridpanelLockcolumn",
                            "designerId": "702be2f4-8154-4592-8359-a8ac8873460a"
                        },
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onGridpanelUnlockcolumn",
                                "implHandler": [
                                    "var lock_data='',",
                                    "    lcs_data = localStorage.getItem('lock_data');",
                                    "if(!Ext.isEmpty(lcs_data)){",
                                    "    lock_data = lcs_data;",
                                    "    lock_data = lock_data.replace(column.text+'|','');",
                                    "    localStorage.setItem('lock_data',lock_data);",
                                    "}"
                                ],
                                "name": "unlockcolumn",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onGridpanelUnlockcolumn",
                            "designerId": "d82a89a8-8fe4-4cff-a00f-06aef3687002"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|uiInterfaceName": "footer",
                "dock": "top",
                "reference": "tbar",
                "ui": "footer"
            },
            "configAlternates": {
                "designer|createAlias": "string",
                "dock": "string",
                "itemId": "string",
                "designer|uiInterfaceName": "string",
                "ui": "string",
                "reference": "string",
                "padding": "auto"
            },
            "name": "MyToolbar2",
            "designerId": "e7676f9e-5f1b-41dd-b4d8-3877d57760ff",
            "cn": [
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-list",
                        "itemId": "listbtn",
                        "layout|flex": null,
                        "text": "Danh sách"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton37",
                    "designerId": "392fd826-f2d6-4a6d-84ac-eb6d41d449c8",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onListClick",
                                "implHandler": [
                                    "this.mixins.baseController.list.call(this);"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onListClick",
                            "designerId": "06007c82-ad52-41fa-a182-22cad5395cfd"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-plus",
                        "itemId": "addbtn",
                        "layout|flex": null,
                        "text": " Thêm"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton5",
                    "designerId": "fd200260-1e10-4ea2-a1bc-d7050b131129",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onAddClick",
                                "implHandler": [
                                    "var me \t \t = this,",
                                    "    v \t\t = me.getView(),",
                                    "    vm\t\t = me.getViewModel(),",
                                    "    main\t = v.up('maincontainer'),",
                                    "    s\t     = vm.getStore('masters'),",
                                    "    sDet\t = vm.getStore('masterdetails'),",
                                    "    nRec   \t = Ext.create(s.getModel()),",
                                    "    keyField = me.lookupReference('cwcref'),",
                                    "    gridDet\t= me.lookupReference('gridVendorDet'),",
                                    "    mCtr = tavico.app.getController('MainController');",
                                    "",
                                    "sDet.removeAll();",
                                    "nRec.set({",
                                    "    cwcref:'',",
                                    "    status: 'W',",
                                    "    requestedtype: 'C',",
                                    "    requesteddate: new Date(),",
                                    "    requestedby: mCtr.authConfig.employee,",
                                    "    vendor: mCtr.authConfig.nadcode,",
                                    "    project: main.projectRecord.get('id'),",
                                    "    comments:'',",
                                    "    details:[]",
                                    "});",
                                    "",
                                    "if (!me.keyFields) {",
                                    "    me.keyFields = [keyField];",
                                    "}",
                                    "",
                                    "me.mixins.baseController.addRecord.call(me, nRec, function() {",
                                    "    sDet.getProxy().setExtraParam('cwcref', '-');",
                                    "    sDet.load();",
                                    "    mCtr.hasSeq('WCV', function(isSeq) {",
                                    "        if (isSeq) {",
                                    "            keyField.setReadOnly(true);",
                                    "            keyField.allowBlank = true;",
                                    "            me.lookupReference('frmdetail').down('field[readOnly=false]').focus();",
                                    "        } else {",
                                    "            keyField.setEmptyText('');",
                                    "            keyField.setReadOnly(false);",
                                    "            keyField.allowBlank = false;",
                                    "            keyField.focus();",
                                    "        }",
                                    "    });",
                                    "    me.enableDetButtons(true);",
                                    "    if (v.down('#approvebtn')) v.down('#approvebtn').hide();",
                                    "});",
                                    ""
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onAddClick",
                            "designerId": "a72f7db6-9059-479b-a07f-706e5e7a4896"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-copy",
                        "itemId": "copybtn",
                        "layout|flex": null,
                        "text": "Sao chép"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton32",
                    "designerId": "f08fa7b4-d397-43dc-8d8d-0ebf1a45e005",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onCopyClick",
                                "implHandler": [
                                    "var me = this,",
                                    "    v\t= me.getView(),",
                                    "    vm\t= me.getViewModel(),",
                                    "    mCtr = tavico.app.getController('MainController'),",
                                    "    s\t= vm.getStore('masters'),",
                                    "    form = me.lookupReference('frmdetail'),",
                                    "    grid = me.lookupReference('gpDetail'),",
                                    "    keyField = me.lookupReference('cwcref'),",
                                    "    sDet = vm.getStore('masterdetails'),",
                                    "    selectedRecord, nRec;",
                                    "",
                                    "if (v.getLayout().getActiveItem() == form) {",
                                    "    selectedRecord = vm.get('bindRecord');",
                                    "} else selectedRecord = grid.getView().getSelectionModel().getSelection()[0];",
                                    "",
                                    "if (selectedRecord) {",
                                    "    nRec\t= selectedRecord.copy();",
                                    "    nRec.set({cwcref:'',",
                                    "              status:'W',",
                                    "              approvedref:'',",
                                    "              approveddate:'',",
                                    "              evaluateddate:''});",
                                    "    nRec.phantom = true;",
                                    "    if (!me.keyFields) {",
                                    "        me.keyFields = [keyField];",
                                    "    }",
                                    "    //nRec = Ext.create('tavico.model.CpWorkComDetail', d);",
                                    "",
                                    "    me.mixins.baseController.addRecord.call(me, nRec, function(){",
                                    "        sDet.getProxy().setExtraParam('cwcref', selectedRecord.get('cwcref'));",
                                    "        sDet.load(function(recs) {",
                                    "            Ext.Array.each(recs, function(r) {",
                                    "                r.phantom = true;",
                                    "            });",
                                    "        });",
                                    "        mCtr.hasSeq('WCV', function(isSeq) {",
                                    "            if (isSeq) {",
                                    "                keyField.setReadOnly(true);",
                                    "                keyField.allowBlank = true;",
                                    "                me.lookupReference('frmdetail').down('field[readOnly=false]').focus();",
                                    "            } else {",
                                    "                keyField.setEmptyText('');",
                                    "                keyField.setReadOnly(false);",
                                    "                keyField.allowBlank = false;",
                                    "                keyField.focus();",
                                    "            }",
                                    "        });",
                                    "        me.enableDetButtons(true);",
                                    "        if (v.down('#approvebtn')) v.down('#approvebtn').hide();",
                                    "    });",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onCopyClick",
                            "designerId": "41668023-df72-4621-8bdf-7fcc65fb2ff4"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-close",
                        "itemId": "cancelbtn",
                        "layout|flex": null,
                        "text": "Hủy"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton17",
                    "designerId": "f66a36af-25ab-444b-b960-3a77f8367a1b",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onCancelClick",
                                "implHandler": [
                                    "var me = this,",
                                    "    v = me.getView(),",
                                    "    vm = me.getViewModel(),",
                                    "    gridDet = me.lookupReference('gridVendorDet');",
                                    "",
                                    "this.mixins.baseController.cancelRecord.call(me, function(r) {",
                                    "    me.enableDetButtons(false);",
                                    "    gridDet.getStore().rejectChanges();",
                                    "    if (v.down('#approvebtn')) {",
                                    "        if (vm.get('bindRecord.status') === 'W') v.down('#approvebtn').show();",
                                    "        else v.down('#approvebtn').hide();",
                                    "    }",
                                    "});"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onCancelClick",
                            "designerId": "cdc30044-135b-43af-81aa-047ddfe21bd1"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-save",
                        "itemId": "savebtn",
                        "layout|flex": null,
                        "text": "Lưu"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton6",
                    "designerId": "db68c9cd-2256-4125-984a-bd59ecf85c62",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onSaveClick",
                                "implHandler": [
                                    "var me = this,",
                                    "    v = me.getView(),",
                                    "    vm = me.getViewModel(),",
                                    "    main\t= v.up('maincontainer'),",
                                    "    validSetup\t= main.projectRecord.data,",
                                    "    gridDet = me.lookupReference('gridVendorDet'),",
                                    "    s\t\t= me.lookupReference('gpDetail').getStore(),",
                                    "    sDet \t= gridDet.getStore(),",
                                    "    sumRequestedVal = 0,",
                                    "    r\t= vm.get('bindRecord'),",
                                    "    milestone = r.get('milestone'),",
                                    "    record = vm.get('bindRecord'),",
                                    "    mCtr\t= tavico.app.getController('MainController'),",
                                    "    comments = me.lookupReference('comments'),",
                                    "    contractcode = r.get('contractcode'),",
                                    "    milestone = r.get('milestone'),",
                                    "    cwcref = r.get('cwcref'),",
                                    "    isError = false;",
                                    "",
                                    "sDet.each(function(r){",
                                    "    sumRequestedVal += r.get('vvalue');",
                                    "});",
                                    "",
                                    "record.set({",
                                    "    requestedvalue: sumRequestedVal",
                                    "});",
                                    "",
                                    "if(Ext.isEmpty(milestone) || validSetup.status == 'R' || r.get('status') == 'A' || validSetup.wcvsmilestone == 'N'){",
                                    "    saveMethod();",
                                    "    return;",
                                    "}",
                                    "",
                                    "FrmCpWorkCom.getTotalVendor({",
                                    "    project: main.projectRecord.get('id'),",
                                    "    contractcode: contractcode,",
                                    "    milestone: milestone,",
                                    "    notId: cwcref",
                                    "}, function(res) {",
                                    "    if (res && res.success)  {",
                                    "        var cwcVal\t= res.data.totalRequestedVal,",
                                    "            cctAmt\t= res.data.totalInts,",
                                    "            tmp\t= r.get('requestedvalue'),",
                                    "            msg = '',",
                                    "            remainamt = (1+ validSetup.wcvsmilestonerate)*cctAmt - (cwcVal+tmp);",
                                    "",
                                    "        if (remainamt >= 0) {",
                                    "            saveMethod();",
                                    "            return;",
                                    "        }",
                                    "",
                                    "        if (remainamt < 0 && validSetup.wcvsmilestone != 'N') {",
                                    "            msg += ' vui lòng kiểm tra lại';",
                                    "            if (validSetup.wcvsmilestone == 'E') isError = true;",
                                    "            else if(validSetup.wcvsmilestone == 'W') msg += ' bạn có muốn lưu?';",
                                    "        }",
                                    "",
                                    "        if (!isError) {",
                                    "            Ext.Msg.alert({",
                                    "                title: 'Cảnh báo',",
                                    "                message: 'Tổng giá trị yêu cầu đánh giá hoàn thành đã vượt giá trị đợt thanh toán số tiền quy định '+ remainamt*(-1) +',' +msg,",
                                    "                buttons: Ext.Msg.YESNO,",
                                    "                icon: Ext.Msg.QUESTION,",
                                    "                fn: function(btn) {",
                                    "                    if (btn === 'yes') {",
                                    "                        saveMethod();",
                                    "                    }",
                                    "                }",
                                    "            });",
                                    "            return;",
                                    "        }",
                                    "",
                                    "        Ext.Msg.alert({",
                                    "            title: 'Lỗi',",
                                    "            message: 'Tổng giá trị yêu cầu đánh giá hoàn thành đã vượt giá trị đợt thanh toán số tiền quy định '+ remainamt*(-1) +',' +msg,",
                                    "            icon: Ext.Msg.ERROR,",
                                    "            buttons: Ext.Msg.OK",
                                    "        });",
                                    "    }",
                                    "});",
                                    "",
                                    "",
                                    "function saveMethod() {",
                                    "    //     if(Ext.isEmpty(me.isError) || me.isError === false){",
                                    "    //         saveDetailsMethod();",
                                    "    //     }",
                                    "    if(Ext.isEmpty(record.getProxy().getApi().create.$directCfg)){",
                                    "        record.getProxy().getApi().create = 'FrmCpWorkCom.addVendor';",
                                    "        record.getProxy().getApi().destroy = 'FrmCpWorkCom.delVendor';",
                                    "        record.getProxy().getApi().update = 'FrmCpWorkCom.updVendor';",
                                    "    }else{",
                                    "        record.getProxy().getApi().create.$directCfg.method.name = 'addVendor';",
                                    "        record.getProxy().getApi().destroy.$directCfg.method.name = 'delVendor';",
                                    "        record.getProxy().getApi().update.$directCfg.method.name = 'updVendor';",
                                    "    }",
                                    "    var dataValidate = [r.getData()];",
                                    "    dataValidate[0].details = [];",
                                    "    sDet.each(function(rx) {",
                                    "        Ext.Array.push(dataValidate[0].details, rx.getData());",
                                    "    });",
                                    "    FrmFdProcess.getValidation(\"WCV\", (r.phantom ? 'C' : 'A'), dataValidate, function(response) {",
                                    "        if (response) {",
                                    "            if (response.success) {",
                                    "                if (!Ext.isEmpty(response.data)) {",
                                    "                    r.set(response.data[0]);",
                                    "                }",
                                    "                syncStore(response.hasCmd);",
                                    "                if (response.message && response.errorType == 'I')",
                                    "                    Ext.Msg.alert({title: response.title, icon: Ext.Msg.INFO }, response.message);",
                                    "",
                                    "            } else if (response.errorType == 'C') {",
                                    "                Ext.Msg.alert({",
                                    "                    title\t: response.title,",
                                    "                    msg\t\t: response.message + '\\n' +LanguageControl.translate('Are you sure to save?'),",
                                    "                    buttons\t: Ext.Msg.YESNO,",
                                    "                    icon\t: Ext.Msg.QUESTION,",
                                    "                    fn\t\t: function(btn) {",
                                    "                        if (btn == 'yes') {",
                                    "                            if (!Ext.isEmpty(response.data)) {",
                                    "                                r.set(response.data[0]);",
                                    "                            }",
                                    "                            syncStore(response.hasCmd);",
                                    "                        } else {",
                                    "                            mCtr.hideWait();",
                                    "                            if (response.hasCmd === true) {",
                                    "                                FrmFdProcess.delCmd(shortcmd);",
                                    "                            }",
                                    "                        }",
                                    "                    }",
                                    "                });",
                                    "            } else {",
                                    "                mCtr.hideWait();",
                                    "                Ext.Msg.alert({title: response.title, icon: Ext.Msg.ERROR }, response.message);",
                                    "            }",
                                    "        } else mCtr.hideWait();",
                                    "    });",
                                    "}",
                                    "",
                                    "function syncStore(hasCmd) {",
                                    "    me.mixins.baseController.saveRecord.call(me, {",
                                    "        successFn: function(rec) {",
                                    "            sDet.each(function(r){",
                                    "                r.set('cwcref', rec.get('cwcref'));",
                                    "                r.set('itemid', r.get('itemid'));",
                                    "                r.set('contractcode', rec.get('contractcode'));",
                                    "            });",
                                    "            sDet.sync();",
                                    "            me.enableDetButtons(false);",
                                    "            if (v.down('#approvebtn')) {",
                                    "                if(vm.get('bindRecord.status') === 'W') v.down('#approvebtn').show();",
                                    "                else v.down('#approvebtn').hide();",
                                    "            }",
                                    "",
                                    "            if (hasCmd !== false) {",
                                    "                FrmFdProcess.runCmd(\"WCV\", function(response, e) {",
                                    "                    if (!response) {",
                                    "                        Ext.Msg.alert({ title: LanguageControl.translate('Error'), icon: Ext.Msg.ERROR }, LanguageControl.translate('There are something wrong in this process'));",
                                    "                    } else {",
                                    "                        if (response.success) {",
                                    "                        } else {",
                                    "                            if (response.errorType !== 'C') Ext.Msg.alert({ title: response.title, icon: Ext.Msg.ERROR }, response.message);",
                                    "                        }",
                                    "                    }",
                                    "                });",
                                    "            }",
                                    "        },",
                                    "    });",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onSaveClick",
                            "designerId": "4f8633ff-2951-4098-932b-c0c20996c027"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-check",
                        "itemId": "approvebtn",
                        "layout|flex": null,
                        "text": "Duyệt"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton108",
                    "designerId": "88d60ec0-e896-4a5f-bcfe-f436bf8cdd79",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onApproveClick",
                                "implHandler": [
                                    "var me = this,",
                                    "    v\t= me.getView(),",
                                    "    vm\t= me.getViewModel(),",
                                    "    s = vm.getStore('masters'),",
                                    "    form = me.lookupReference('frmdetail'),",
                                    "    grid = me.lookupReference('gpDetail'),",
                                    "    approveBtn = v.down('#approvebtn'),",
                                    "    selectedRecord,",
                                    "    selectedRecs = grid.getSelectionModel().getSelection(),",
                                    "    mCtr = tavico.app.getController('MainController');",
                                    "",
                                    "if (v.getLayout().getActiveItem() == form) {",
                                    "    selectedRecord = vm.get('bindRecord');",
                                    "",
                                    "    if (selectedRecord.get('status') === 'A'){",
                                    "        Ext.toast('Đã duyệt');",
                                    "        return;",
                                    "    }",
                                    "    Ext.Msg.prompt('Xác nhận', 'Bạn có chắc muốn duyệt dữ liệu này? <br/> Ý kiến kiểm duyệt của bạn:', function(btn, inputValue) {",
                                    "        if (btn == 'ok') {",
                                    "            selectedRecord.set({",
                                    "                status: 'A',",
                                    "                approveddate: new Date(),",
                                    "                approvednote: inputValue",
                                    "            });",
                                    "            if (Ext.isEmpty(vm.get('bindRecord.approvedby'))) {",
                                    "                selectedRecord.set('approvedby',me.operatorname);",
                                    "            }",
                                    "",
                                    "            selectedRecord.save({",
                                    "                success: function(rec, operation) {",
                                    "                    Ext.toast('Đã duyệt thành công');",
                                    "                    //if (v.down('#approvebtn')) {",
                                    "                    v.down('#approvebtn').hide();",
                                    "                    //}",
                                    "                },",
                                    "            });",
                                    "        }",
                                    "    },true);",
                                    "",
                                    "",
                                    "} else {",
                                    "    selectedRecs = grid.getView().getSelectionModel().getSelection();",
                                    "    if (Ext.isEmpty(selectedRecs)) return;",
                                    "",
                                    "    Ext.Msg.prompt('Xác nhận', 'Bạn có chắc muốn duyệt dữ liệu này? <br/> Ý kiến kiểm duyệt của bạn:', function(btn, inputValue) {",
                                    "        if (btn == 'ok') {",
                                    "            selectedRecord = selectedRecs[0];",
                                    "            if (Ext.isEmpty(selectedRecord.get('approvedby'))) {",
                                    "                selectedRecord.set('approvedby',me.operatorname);",
                                    "            }",
                                    "            selectedRecord.set('approveddate', new Date());",
                                    "            selectedRecord.set('status','A');",
                                    "            selectedRecord.set('approvednote', inputValue);",
                                    "",
                                    "            selectedRecord.save({",
                                    "                success: function(rec, operation) {",
                                    "                    Ext.toast('Đã duyệt thành công');",
                                    "                    vm.set('bindRecord', selectedRecord);",
                                    "                    //if (v.down('#approvebtn')) {",
                                    "                    v.down('#approvebtn').hide();",
                                    "                    //}",
                                    "                }",
                                    "            });",
                                    "",
                                    "",
                                    "        }",
                                    "    },true);",
                                    "",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string",
                                "maxHeight": "string",
                                "maxWidth": "string"
                            },
                            "name": "onApproveClick",
                            "designerId": "57de9469-3933-460d-bc38-fdd6f2a7e2e6"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-edit",
                        "itemId": "editbtn",
                        "layout|flex": null,
                        "text": "Sửa"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton14",
                    "designerId": "f3c87de0-46c5-4347-b142-48926449f7cb",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onEditClick",
                                "implHandler": [
                                    "var me = this,",
                                    "    v\t= me.getView(),",
                                    "    vm\t= me.getViewModel(),",
                                    "    form\t= me.lookupReference('frmdetail'),",
                                    "    grid = me.lookupReference('gpDetail'),",
                                    "    gridDet\t= me.lookupReference('gridVendorDet'),",
                                    "    selectedRecord;",
                                    "me.isError = false;",
                                    "if (v.getLayout().getActiveItem() == form) {",
                                    "    selectedRecord = vm.get('bindRecord');",
                                    "} else selectedRecord = grid.getView().getSelectionModel().getSelection()[0];",
                                    "",
                                    "if (!me.keyFields) {",
                                    "    me.keyFields = [me.lookupReference('cwcref')];",
                                    "}",
                                    "if(!selectedRecord) return;",
                                    "this.mixins.baseController.editRecord.call(me,selectedRecord,function(){",
                                    "    me.enableDetButtons(true);",
                                    "    if (v.down('#approvebtn')) {",
                                    "        v.down('#approvebtn').hide();",
                                    "    }",
                                    "    if (vm.get('bindRecord.status')==='A') {",
                                    "        Ext.Array.each(form.query('field'),function(field){",
                                    "            field.setReadOnly(true);",
                                    "            me.lookupReference('comments').setReadOnly(false);",
                                    "        });",
                                    "        me.enableDetButtons(false);",
                                    "    }",
                                    "    if(gridDet.getStore().getData().items.length > 0){",
                                    "        me.lookupReference('contractcode').setReadOnly(true);",
                                    "    }",
                                    "    me.setDetails(selectedRecord);",
                                    "});"
                                ],
                                "maxHeight": "16",
                                "maxWidth": "16",
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string",
                                "maxHeight": "string",
                                "maxWidth": "string"
                            },
                            "name": "onEditClick",
                            "designerId": "d94f9b8e-ce88-4cda-932e-5886889b3cd5",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "maxWidth",
                                    "type": "string"
                                },
                                {
                                    "group": "(Custom Properties)",
                                    "name": "maxHeight",
                                    "type": "string"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-trash",
                        "itemId": "delbtn",
                        "layout|flex": null,
                        "text": "Xóa"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton45",
                    "designerId": "00001c26-953e-49e6-8d85-0d8f6c65d7b9",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onDeleteClick",
                                "implHandler": [
                                    "var me\t= this,",
                                    "    v\t= me.getView(),",
                                    "    vm\t= me.getViewModel(),",
                                    "    form\t= me.lookupReference('frmdetail'),",
                                    "    grid = me.lookupReference('gpDetail'),",
                                    "    gridDet = me.lookupReference('gridVendorDet'),",
                                    "    s = vm.getStore('masters'),",
                                    "    selectedRecord;",
                                    "",
                                    "function delRec(){",
                                    "    if (selectedRecord){",
                                    "        if (selectedRecord.get('status') === 'W'){",
                                    "            me.mixins.baseController.deleteRecord.call(me, selectedRecord, function() {",
                                    "                if (v.down('#approvebtn')) {",
                                    "                    v.down('#approvebtn').hide();",
                                    "                }",
                                    "                s.load();",
                                    "            });",
                                    "        }else{",
                                    "            Ext.toast('Đã duyệt không thể xóa');",
                                    "        }",
                                    "    }",
                                    "}",
                                    "",
                                    "if (v.getLayout().getActiveItem() == form) {",
                                    "//     if(gridDet.getStore().getData().items.length > 0){",
                                    "//         Ext.toast('Không thể xóa!');",
                                    "//         return;",
                                    "//    }else{",
                                    "        selectedRecord = vm.get('bindRecord');",
                                    "        delRec();",
                                    "//    }",
                                    "",
                                    "} else {",
                                    "    selectedRecord = grid.getView().getSelectionModel().getSelection()[0];",
                                    "//     FrmCpWorkCom.getVendorDet({cwcref:selectedRecord.get('cwcref')},function(r){",
                                    "//         if(r && r.success){",
                                    "//             if( r.data.length > 0){",
                                    "//                 Ext.toast('Không thể xóa!');",
                                    "//                 return;",
                                    "//             }else{",
                                    "               delRec();",
                                    "//            }",
                                    "//        }",
                                    "//    });",
                                    "}"
                                ],
                                "maxHeight": "16",
                                "maxWidth": "16",
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string",
                                "maxHeight": "string",
                                "maxWidth": "string"
                            },
                            "name": "onDeleteClick",
                            "designerId": "c24f8da7-f421-49f9-8e5a-0b93dad88997",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "maxWidth",
                                    "type": "string"
                                },
                                {
                                    "group": "(Custom Properties)",
                                    "name": "maxHeight",
                                    "type": "string"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-upload",
                        "itemId": "importbtn",
                        "layout|flex": null,
                        "text": "Tải nhập"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton40",
                    "designerId": "2081c29c-6ea2-45a6-b72e-b6061cbd6627",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onImportBtnClick",
                                "implHandler": [
                                    "var me\t= this,",
                                    "    v\t= me.getView(),",
                                    "    main\t= v.up('maincontainer'),",
                                    "    w\t= Ext.widget('wdimport'),",
                                    "    vm\t= me.getViewModel(),",
                                    "    s\t= vm.getStore('masters');",
                                    "",
                                    "if (w.setImportType('WCV', {",
                                    "    project: main.projectRecord.get('id')",
                                    "})) {",
                                    "    w.show();",
                                    "    w.on('successCallback', function() {",
                                    "        s.load();",
                                    "    });",
                                    "}"
                                ],
                                "maxHeight": "16",
                                "maxWidth": "16",
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string",
                                "maxHeight": "string",
                                "maxWidth": "string"
                            },
                            "name": "onImportBtnClick",
                            "designerId": "2fc96be4-4888-481c-8b6f-267891df26ee",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "maxWidth",
                                    "type": "string"
                                },
                                {
                                    "group": "(Custom Properties)",
                                    "name": "maxHeight",
                                    "type": "string"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-download",
                        "itemId": "exportbtn",
                        "layout|flex": null,
                        "text": "Tải xuất"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton41",
                    "designerId": "5109f8de-d107-4900-b14e-c59ff0812440",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onExportBtnClick",
                                "implHandler": [
                                    "this.mixins.baseController.exportRecord.call(this);"
                                ],
                                "maxHeight": "16",
                                "maxWidth": "16",
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string",
                                "maxHeight": "string",
                                "maxWidth": "string"
                            },
                            "name": "onExportBtnClick",
                            "designerId": "390ab855-2985-4085-be61-c68512c2864b",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "maxWidth",
                                    "type": "string"
                                },
                                {
                                    "group": "(Custom Properties)",
                                    "name": "maxHeight",
                                    "type": "string"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-paperclip",
                        "itemId": "attachbtn",
                        "layout|flex": null,
                        "text": "Đính kèm"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton149",
                    "designerId": "ad72116d-aa1a-4e46-b07f-a6dbd532e03e",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onAttachBtnClick",
                                "implHandler": [
                                    "var me = this,",
                                    "    v\t= me.getView(),",
                                    "    main = v.up('maincontainer'),",
                                    "    vm\t= me.getViewModel(),",
                                    "    form\t= me.lookupReference('frmdetail'),",
                                    "    grid = me.lookupReference('gpDetail'),",
                                    "    selectedRecord, wdDocument;",
                                    "",
                                    "if (v.getLayout().getActiveItem() == form) {",
                                    "    selectedRecord = vm.get('bindRecord');",
                                    "} else {",
                                    "    selectedRecord = grid.getSelectionModel().getSelection()[0];",
                                    "}",
                                    "if (selectedRecord) {",
                                    "    wdDocument\t= Ext.widget('wddocument');",
                                    "    wdDocument.init('WCV');",
                                    "    wdDocument.loadRecord(selectedRecord);",
                                    "    wdDocument.show();",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string",
                                "maxHeight": "string",
                                "maxWidth": "string"
                            },
                            "name": "onAttachBtnClick",
                            "designerId": "6bea3c10-c187-4aca-b0fe-0e9b3803f8f5"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-print",
                        "itemId": "printbtn",
                        "layout|flex": null,
                        "text": "In"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton147",
                    "designerId": "40b7c837-c4b9-408d-ae03-90a5512275b6",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onPrintBtnClick",
                                "implHandler": [
                                    "var me = this,",
                                    "    v\t= me.getView(),",
                                    "    vm\t= me.getViewModel(),",
                                    "    form\t= me.lookupReference('frmdetail'),",
                                    "    grid = me.lookupReference('gpDetail'),",
                                    "    gridDet = me.lookupReference('gridVendorDet'),",
                                    "    selectedRecord;",
                                    "",
                                    "if (v.getLayout().getActiveItem() == form) {",
                                    "    selectedRecord = vm.get('bindRecord');",
                                    "} else selectedRecord = grid.getView().getSelectionModel().getSelection()[0];",
                                    "",
                                    "if (!me.keyFields) {",
                                    "    me.keyFields = [me.lookupReference('cwcref')];",
                                    "}",
                                    "",
                                    "if (selectedRecord){",
                                    "    me.mixins.baseController.printRecord.call(me, selectedRecord, 'WCV');",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string",
                                "maxHeight": "string",
                                "maxWidth": "string"
                            },
                            "name": "onPrintBtnClick",
                            "designerId": "61f286d6-a2c9-4335-a4bc-23113902880b",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "maxWidth",
                                    "type": "string"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.toolbar.Fill",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null
                    },
                    "configAlternates": {
                        "layout|flex": "number"
                    },
                    "name": "MyFill",
                    "designerId": "b0a483ac-2d1c-490c-ae0b-e06d3eff96b5"
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|uiInterfaceName": "plain-toolbar-small",
                        "iconCls": "x-fa fa-angle-double-left",
                        "itemId": "firstbtn",
                        "layout|flex": null,
                        "ui": "plain-toolbar-small"
                    },
                    "configAlternates": {
                        "designer|uiInterfaceName": "string",
                        "iconCls": "string",
                        "itemId": "string",
                        "layout|flex": "number",
                        "ui": "string"
                    },
                    "name": "MyButton33",
                    "designerId": "58968790-9c9a-4a40-a588-70d2b7946866",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onFirstBtnClick",
                                "implHandler": [
                                    "var me\t= this,",
                                    "    v\t= me.getView(),",
                                    "    vm\t= me.getViewModel();",
                                    "",
                                    "me.mixins.baseController.first.call(this,function(rec){",
                                    "    me.setDetails(rec);",
                                    "    me.enableDetButtons(false);",
                                    "    if (v.down('#approvebtn')) {",
                                    "        if(vm.get('bindRecord.status') === 'W') v.down('#approvebtn').show();",
                                    "        else v.down('#approvebtn').hide();",
                                    "    }",
                                    "});WdIm"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onFirstBtnClick",
                            "designerId": "280598a7-1046-49ac-8b1e-9ba58fecba59"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|uiInterfaceName": "plain-toolbar-small",
                        "iconCls": "x-fa fa-angle-left",
                        "itemId": "backbtn",
                        "layout|flex": null,
                        "ui": "plain-toolbar-small"
                    },
                    "configAlternates": {
                        "designer|uiInterfaceName": "string",
                        "iconCls": "string",
                        "layout|flex": "number",
                        "ui": "string",
                        "itemId": "string"
                    },
                    "name": "MyButton34",
                    "designerId": "1257e009-802b-41c0-b600-82f3e9f934c3",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onBackBtnClick",
                                "implHandler": [
                                    "var me\t= this,",
                                    "    v\t= me.getView(),",
                                    "    vm\t= me.getViewModel();",
                                    "",
                                    "me.mixins.baseController.back.call(this,function(rec){",
                                    "    me.setDetails(rec);",
                                    "    me.enableDetButtons(false);",
                                    "    if (v.down('#approvebtn')) {",
                                    "        if(vm.get('bindRecord.status') === 'W') v.down('#approvebtn').show();",
                                    "        else v.down('#approvebtn').hide();",
                                    "    }",
                                    "});"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onBackBtnClick",
                            "designerId": "19d3d1f9-5345-41ae-a376-b09a9f9e4acf"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|uiInterfaceName": "plain-toolbar-small",
                        "iconCls": "x-fa fa-angle-right",
                        "itemId": "nextbtn",
                        "layout|flex": null,
                        "ui": "plain-toolbar-small"
                    },
                    "configAlternates": {
                        "designer|uiInterfaceName": "string",
                        "iconCls": "string",
                        "layout|flex": "number",
                        "ui": "string",
                        "itemId": "string"
                    },
                    "name": "MyButton35",
                    "designerId": "0895637d-6dea-439d-85e6-2f15f00580ac",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onNextBtnClick",
                                "implHandler": [
                                    "var me\t= this,",
                                    "    v\t= me.getView(),",
                                    "    vm\t= me.getViewModel();",
                                    "",
                                    "me.mixins.baseController.next.call(this,function(rec){",
                                    "    me.setDetails(rec);",
                                    "    me.enableDetButtons(false);",
                                    "    if (v.down('#approvebtn')) {",
                                    "        if(vm.get('bindRecord.status') === 'W') v.down('#approvebtn').show();",
                                    "        else v.down('#approvebtn').hide();",
                                    "    }",
                                    "});"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onNextBtnClick",
                            "designerId": "2f08d5f1-8d6b-43f7-9926-81ff67e6eed0"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|uiInterfaceName": "plain-toolbar-small",
                        "iconCls": "x-fa fa-angle-double-right",
                        "itemId": "lastbtn",
                        "layout|flex": null,
                        "ui": "plain-toolbar-small"
                    },
                    "configAlternates": {
                        "designer|uiInterfaceName": "string",
                        "iconCls": "string",
                        "layout|flex": "number",
                        "ui": "string",
                        "itemId": "string"
                    },
                    "name": "MyButton36",
                    "designerId": "1109b612-31ef-47a8-8806-cfdb58e5e027",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onLastBtnClick",
                                "implHandler": [
                                    "var me\t= this,",
                                    "    v\t= me.getView(),",
                                    "    vm\t= me.getViewModel();",
                                    "",
                                    "me.mixins.baseController.last.call(this,function(rec){",
                                    "    me.setDetails(rec);",
                                    "    me.enableDetButtons(false);",
                                    "    if (v.down('#approvebtn')) {",
                                    "        if(vm.get('bindRecord.status') === 'W') v.down('#approvebtn').show();",
                                    "        else v.down('#approvebtn').hide();",
                                    "    }",
                                    "});"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onLastBtnClick",
                            "designerId": "62cc737e-c113-4f69-b570-c1a42fbe54d8"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|uiInterfaceName": "plain-toolbar-small",
                        "iconCls": "x-fa fa-refresh",
                        "itemId": "refreshbtn",
                        "layout|flex": null,
                        "ui": "plain-toolbar-small"
                    },
                    "configAlternates": {
                        "designer|uiInterfaceName": "string",
                        "iconCls": "string",
                        "layout|flex": "number",
                        "ui": "string",
                        "itemId": "string"
                    },
                    "name": "MyButton39",
                    "designerId": "484b356e-b707-4653-97db-d89920149558",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onRefreshBtnClick",
                                "implHandler": [
                                    "var me = this,",
                                    "    vm = me.getViewModel(),",
                                    "    s\t= vm.getStore('masters');",
                                    "s.load();"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onRefreshBtnClick",
                            "designerId": "8a764508-a906-42d1-9b09-eb4a82c57cb6"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "emptyText": "Nhập lệnh tắt",
                        "layout|flex": null
                    },
                    "configAlternates": {
                        "layout|flex": "number",
                        "emptyText": "string"
                    },
                    "name": "MyTextField76",
                    "designerId": "a935f7ec-5d79-4c5f-a44e-dacd3473fd1d",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onCommandSpecialkey",
                                "implHandler": [
                                    "var me = this,",
                                    "    v\t= me.getView(),",
                                    "    vm\t= me.getViewModel(),",
                                    "    form\t= me.lookupReference('frmdetail'),",
                                    "    grid = me.lookupReference('gpDetail'),",
                                    "    strCommand\t= field.getValue(),",
                                    "    selectedRecord;",
                                    "",
                                    "if (v.getLayout().getActiveItem() == form) {",
                                    "    selectedRecord = vm.get('bindRecord');",
                                    "} else selectedRecord = grid.getView().getSelectionModel().getSelection()[0];",
                                    "",
                                    "if (!me.keyFields) {",
                                    "    me.keyFields = [me.lookupReference('cwcref')];",
                                    "}",
                                    "",
                                    "if (e.getKey() == e.ENTER) {",
                                    "    field.selectText();",
                                    "    me.mixins.baseController.commandRun.call(me, strCommand, selectedRecord,function(rec){",
                                    "        me.setDetails(rec);",
                                    "    });",
                                    "}"
                                ],
                                "name": "specialkey",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onCommandSpecialkey",
                            "designerId": "f76a1ce2-84bd-4082-8628-e791de8a22ac"
                        }
                    ]
                }
            ]
        },
        {
            "type": "viewcontrollereventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onPanelActivate",
                "implHandler": [
                    "var me = this,",
                    "    v = me.getView(),",
                    "    main\t= v.up('maincontainer');",
                    "if (!main.projectRecord) {",
                    "    return;",
                    "}"
                ],
                "name": "activate",
                "scope": "me"
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string"
            },
            "name": "onPanelActivate",
            "designerId": "6524b86b-6325-46ff-9ef1-2490d0e3d3d9"
        }
    ]
}