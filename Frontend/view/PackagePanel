{
    "type": "Ext.panel.Panel",
    "reference": {
        "name": "items",
        "type": "array"
    },
    "codeClass": null,
    "userConfig": {
        "designer|uiInterfaceName": "light",
        "designer|userAlias": "packagepanel",
        "designer|userClassName": "PackagePanel",
        "header": false,
        "layout": "card",
        "scrollable": "vertical",
        "title": "Dự toán (Gói thầu)",
        "ui": "light"
    },
    "configAlternates": {
        "designer|userAlias": "string",
        "designer|userClassName": "string",
        "title": "string",
        "designer|uiInterfaceName": "string",
        "layout": "string",
        "ui": "string",
        "header": "boolean",
        "requires": "typedarray",
        "scrollable": "auto"
    },
    "name": "ProjectPanel1",
    "designerId": "a307aef4-9c44-4aed-8b3a-0cf1e5bc5998",
    "viewControllerInstanceId": "caa8a610-09ed-405e-8591-d78998bb9598",
    "viewModelInstanceId": "4b49ae36-607b-4b45-b3ca-27e245b94e60",
    "cn": [
        {
            "type": "Ext.toolbar.Toolbar",
            "reference": {
                "name": "dockedItems",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "designer|uiInterfaceName": "footer",
                "dock": "top",
                "reference": "tbar",
                "ui": "footer"
            },
            "configAlternates": {
                "designer|createAlias": "string",
                "dock": "string",
                "itemId": "string",
                "designer|uiInterfaceName": "string",
                "ui": "string",
                "reference": "string",
                "padding": "auto",
                "layout|flex": "number"
            },
            "name": "MyToolbar26",
            "designerId": "6658f514-1ef4-4de4-9cd6-d65e41f2ba69",
            "cn": [
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-list",
                        "itemId": "listbtn",
                        "layout|flex": null,
                        "text": "Danh sách"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton37",
                    "designerId": "6083bf4c-dcfb-431c-978b-f4e176e95ed0",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onListClick",
                                "implHandler": [
                                    "this.mixins.baseController.list.call(this);"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onListClick",
                            "designerId": "460cef88-ee85-413b-9056-528d70832257"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-eye",
                        "itemId": "viewbtn",
                        "layout|flex": null,
                        "text": "Xem"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton93",
                    "designerId": "eec6983a-6846-477a-a8b0-8a7b48a268b0",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onViewClick",
                                "implHandler": [
                                    "var me\t = this,",
                                    "    gpDetail\t= me.lookupReference('gpDetail'),",
                                    "    vm\t= me.getViewModel(),",
                                    "    authConfig\t= tavico.app.getController('MainController').authConfig,",
                                    "    record\t= gpDetail.getSelectionModel().getSelection()[0],",
                                    "    blks\t= vm.getStore('blks');",
                                    "",
                                    "",
                                    "if (record) {",
                                    "    me.mixins.baseController.viewRecord.call(me, record, function() {",
                                    "        if (!authConfig.defaultValue) authConfig.defaultValue = {};",
                                    "        authConfig.defaultValue.packagecode = vm.get('bindRecord.packagecode');",
                                    "        var tpInfo\t = me.lookupReference('tpInfo'),",
                                    "            tabbar\t= tpInfo.getTabBar();",
                                    "",
                                    "        var tabs = tabbar.items.getRange();",
                                    "        for(var i=0; i < tabs.length; i++) {",
                                    "            tabs[i].enable();",
                                    "        }",
                                    "    });",
                                    "    me.enableForm(false);",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onViewClick",
                            "designerId": "281a405b-ea9f-4d67-9f8c-4d629cf53e27"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-plus",
                        "itemId": "addbtn",
                        "layout|flex": null,
                        "text": " Thêm"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton5",
                    "designerId": "b15ddbb6-4d3e-4b68-95d1-8bcbed178d38",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onAddClick",
                                "implHandler": [
                                    "var me = this,",
                                    "    v = me.getView(),",
                                    "    vm\t= me.getViewModel(),",
                                    "    s\t= vm.getStore('masters'),",
                                    "    nRec\t= Ext.create(s.getModel()),",
                                    "    mCtr\t= tavico.app.getController('MainController'),",
                                    "    keyField\t = me.lookupReference('packagecode'),",
                                    "    mCtr = tavico.app.getController('MainController'),",
                                    "    approvedqtycb = me.lookupReference('approvedqty');",
                                    "",
                                    "nRec.set({",
                                    "    project: me.projectId,",
                                    "    packagecode:'',",
                                    "    packagedate: new Date(),",
                                    "    status: 'P',",
                                    "    isTerm: 'N',",
                                    "    approvedqty: 'N',",
                                    "    currencycode: me._cpdData.basecurrency,",
                                    "    currencyrate: 1,",
                                    "});",
                                    "",
                                    "",
                                    "if (!me.keyFields) {",
                                    "    me.keyFields = [keyField];",
                                    "}",
                                    "vm.getStore('items').removeAll();",
                                    "vm.getStore('mtrs').removeAll();",
                                    "vm.getStore('vdrs').removeAll();",
                                    "vm.getStore('events').removeAll();",
                                    "",
                                    "me.mixins.baseController.addRecord.call(me, nRec, function() {",
                                    "    var tpInfo\t = me.lookupReference('tpInfo'),",
                                    "        tabbar\t= tpInfo.getTabBar();",
                                    "    tpInfo.setActiveTab(1);",
                                    "    var tabs = tabbar.items.getRange();",
                                    "    for(var i=0; i < tabs.length; i++) {",
                                    "        if (i != 1) tabs[i].disable();",
                                    "    }",
                                    "    approvedqtycb.setValue('N');",
                                    "    mCtr.hasSeq('CPK', function(isSeq) {",
                                    "        if (isSeq) {",
                                    "            keyField.setReadOnly(true);",
                                    "            keyField.allowBlank = true;",
                                    "            me.lookupReference('frmdetail').down('field[readOnly=false]').focus();",
                                    "        } else {",
                                    "            keyField.setEmptyText('');",
                                    "            keyField.setReadOnly(false);",
                                    "            keyField.allowBlank = false;",
                                    "            keyField.focus();",
                                    "        }",
                                    "    });",
                                    "});"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onAddClick",
                            "designerId": "89a8bca7-22d0-4f1f-826c-190e2ea70604"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-copy",
                        "itemId": "copybtn",
                        "layout|flex": null,
                        "text": "Sao chép"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton32",
                    "designerId": "5563d4b9-a2c2-4a09-8157-3fdf04ac4a0d",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onCopyClick",
                                "implHandler": [
                                    "var me = this,",
                                    "    v\t= me.getView(),",
                                    "    vm\t= me.getViewModel(),",
                                    "    s\t= vm.getStore('masters'),",
                                    "    form = me.lookupReference('frmdetail'),",
                                    "    mCtr\t= tavico.app.getController('MainController'),",
                                    "    grid = me.lookupReference('gpDetail'),",
                                    "    keyField\t= me.lookupReference('packagecode'),",
                                    "    selectedRecord, nRec;",
                                    "",
                                    "if (v.getLayout().getActiveItem() == form) {",
                                    "    selectedRecord = vm.get('bindRecord');",
                                    "} else selectedRecord = grid.getView().getSelectionModel().getSelection()[0];",
                                    "",
                                    "if (selectedRecord) {",
                                    "    nRec\t= selectedRecord.copy();",
                                    "    nRec.phantom = true;",
                                    "    nRec.set({",
                                    "        packagecode:'',",
                                    "        packagedate: new Date(),",
                                    "        status: 'P',",
                                    "        isTerm: 'N',",
                                    "        currencycode: me._cpdData.basecurrency,",
                                    "        currencyrate: 1,",
                                    "        totalamt: 0,",
                                    "        amount: 0,",
                                    "        vatamt: 0,",
                                    "        approvedref:''",
                                    "    });",
                                    "    if (!me.keyFields) {",
                                    "        me.keyFields = [keyField];",
                                    "    }",
                                    "    me.mixins.baseController.addRecord.call(me, nRec, function() {",
                                    "        var tpInfo\t = me.lookupReference('tpInfo'),",
                                    "            tabbar\t= tpInfo.getTabBar();",
                                    "        tpInfo.setActiveTab(1);",
                                    "        var tabs = tabbar.items.getRange();",
                                    "        for(var i=0; i < tabs.length; i++) {",
                                    "            if (i != 1) tabs[i].disable();",
                                    "        }",
                                    "        me.enableForm(true);",
                                    "",
                                    "        mCtr.hasSeq('CPK', function(isSeq) {",
                                    "            if (isSeq) {",
                                    "                keyField.setReadOnly(true);",
                                    "                keyField.allowBlank = true;",
                                    "                me.lookupReference('frmdetail').down('field[readOnly=false]').focus();",
                                    "            } else {",
                                    "                keyField.setEmptyText('');",
                                    "                keyField.setReadOnly(false);",
                                    "                keyField.allowBlank = false;",
                                    "                keyField.focus();",
                                    "            }",
                                    "",
                                    "        });",
                                    "    });",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onCopyClick",
                            "designerId": "1bdd5a2d-6816-4ba8-88e0-570a18056101"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-close",
                        "itemId": "cancelbtn",
                        "layout|flex": null,
                        "text": "Hủy"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton17",
                    "designerId": "e7711338-387b-42e5-ad69-17780db7c95e",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onCancelClick",
                                "implHandler": [
                                    "var me\t= this,",
                                    "    vm = me.getViewModel(),",
                                    "    griditem = me.lookupReference('griditem');",
                                    "",
                                    "me.mixins.baseController.cancelRecord.call(me, function () {",
                                    "    var tpInfo\t = me.lookupReference('tpInfo'),",
                                    "        tabbar\t= tpInfo.getTabBar();",
                                    "    tpInfo.setActiveTab(0);",
                                    "    var tabs = tabbar.items.getRange();",
                                    "    for(var i=0; i < tabs.length; i++) {",
                                    "        tabs[i].enable();",
                                    "    }",
                                    "    vm.getStore('blks').rejectChanges();",
                                    "    vm.getStore('items').rejectChanges();",
                                    "    vm.getStore('mtrs').rejectChanges();",
                                    "    vm.getStore('vdrs').rejectChanges();",
                                    "    vm.getStore('events').rejectChanges();",
                                    "    //me.lookupReference('docComp').rejectChanges();",
                                    "",
                                    "    me.enableForm(false);",
                                    "});"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onCancelClick",
                            "designerId": "c0482436-4f4b-42d6-b270-e7f7f73376c4"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-save",
                        "itemId": "savebtn",
                        "layout|flex": null,
                        "text": "Lưu"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton6",
                    "designerId": "00958790-8972-46fc-8348-fecd79b30201",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onSaveClick",
                                "implHandler": [
                                    "var me = this,",
                                    "    v = me.getView(),",
                                    "    vm = me.getViewModel(),",
                                    "    doc = v.doc,",
                                    "    main = v.up('maincontainer'),",
                                    "    items = vm.getStore('items'),",
                                    "    ctDoc = me.lookupReference('docComp'),",
                                    "    rec\t = vm.get('bindRecord'),",
                                    "    parentcode = rec.get('parentcode'),",
                                    "    packagecode\t= rec.get('packagecode'),",
                                    "    costcode\t= rec.get('costcode'),",
                                    "    validSetup\t= main.projectRecord.data,",
                                    "    frmdetail\t= me.lookupReference('frmdetail'),",
                                    "    mCtr\t= tavico.app.getController('MainController'),",
                                    "    griditem = me.lookupReference('griditem'),",
                                    "    message = '';",
                                    "",
                                    "if(!frmdetail.isValid()) {",
                                    "    Ext.Array.each(frmdetail.query('field'),function(field){",
                                    "        if(!field.isValid()) {",
                                    "            Ext.toast(field.fieldLabel+': '+ field.getErrors());",
                                    "        }",
                                    "    });",
                                    "    return;",
                                    "}",
                                    "if (!Ext.isEmpty(items.getRemovedRecords()) || !Ext.isEmpty(items.getModifiedRecords())) {",
                                    "    me.calculateAmt();",
                                    "}",
                                    "if ((validSetup.packagevspckgroup == 'N' || Ext.isEmpty(parentcode)) &&",
                                    "    (validSetup.packagevsbudget == 'N' || Ext.isEmpty(costcode)) &&",
                                    "    (validSetup.totalpckvspckgroup == 'N')) {",
                                    "    saveMethod();",
                                    "    return;",
                                    "}",
                                    "",
                                    "FrmCpPackage.getTotal({",
                                    "    project: main.projectRecord.get('id'),",
                                    "    costcode: costcode,",
                                    "    parentcode: parentcode,",
                                    "    notId: packagecode,",
                                    "    status: 'A'",
                                    "}, function(res) {",
                                    "    if (res && res.success)  {",
                                    "        var ocost\t= res.data.totalCostCode,",
                                    "            vcost\t= res.data.costcodePackage,",
                                    "            opkt\t= res.data.totalPackageTerm,",
                                    "            vpkt\t= res.data.totalByPackageTerm,",
                                    "            all_pkt = res.data.allTotalPackageTerm,",
                                    "            all_costcpk = res.data.allTotalPackage,",
                                    "            tmp\t= rec.get('totalamt'),",
                                    "            isError\t= false,",
                                    "            msg = '',",
                                    "            msgall = '';",
                                    "",
                                    "        if ((vpkt + tmp)  - (opkt + opkt * validSetup.packagevspckgrouprate)<= 0 &&",
                                    "            (vcost + tmp)  - (ocost + ocost * validSetup.packagevsbudgetrate)<= 0 &&",
                                    "            (all_costcpk + tmp) - (all_pkt + all_pkt * validSetup.totalpckvspckgroup) <= 0) {",
                                    "            saveMethod();",
                                    "            return;",
                                    "        }",
                                    "",
                                    "        if ((vpkt + tmp)  - (opkt + opkt * validSetup.packagevspckgrouprate) > 0 && validSetup.packagevspckgroup != 'N') {",
                                    "            let val = vpkt + tmp  - (opkt + opkt * validSetup.packagevspckgrouprate);",
                                    "            msg += 'Dự toán đã vượt khái toán (NGT) ' + Ext.util.Format.number(val, '0,000.00');",
                                    "            if (validSetup.packagevspckgroup == 'E') isError = true;",
                                    "        }",
                                    "        if ((vcost + tmp)  - (ocost + ocost * validSetup.packagevsbudgetrate) > 0 && validSetup.packagevsbudget != 'N') {",
                                    "            let val = (vcost + tmp)  - ocost;",
                                    "            if (msg !== '') msg += ', ngân sách ' + val;",
                                    "            else msg += ' ngân sách ' + Ext.util.Format.number(val, '0,000.00');",
                                    "            if (validSetup.packagevsbudget == 'E') isError = true;",
                                    "        }",
                                    "        if ((all_costcpk + tmp)  - (all_pkt + all_pkt * validSetup.totalpckvspckgrouprate) > 0 && validSetup.totalpckvspckgroup != 'N') {",
                                    "            let val = all_costcpk + tmp - all_pkt;",
                                    "            msgall += 'Tổng dự toán đã vượt tổng khái toán ' + Ext.util.Format.number(val, '0,000.00');",
                                    "            if (validSetup.totalpckvspckgroup == 'E') isError = true;",
                                    "        }",
                                    "        if (!isError) {",
                                    "            let dash ='';",
                                    "            if(msg !== '' && msgall !== '') dash = '---------------------------------------------- </br>';",
                                    "            msg = msg === ''? '' : msg +'! <br/>';",
                                    "            msgall = msgall === ''? '' : dash + msgall + '! <br/>';",
                                    "            message = msg + msgall;",
                                    "            Ext.Msg.alert({",
                                    "                title: 'Cảnh báo',",
                                    "                message: message + '</br>Bạn có chắc muốn lưu dữ liệu?',",
                                    "                buttons: Ext.Msg.YESNO,",
                                    "                icon: Ext.Msg.QUESTION,",
                                    "                fn: function(btn) {",
                                    "                    if (btn === 'yes') {",
                                    "                        saveMethod();",
                                    "                    }",
                                    "                }",
                                    "            });",
                                    "            return;",
                                    "        }",
                                    "",
                                    "        msg = msg === ''? '' : 'Đã vượt '+msg+'! <br/>';",
                                    "        msgall = msgall === ''? '' : 'Đã vượt '+ msgall + '! <br/>';",
                                    "        message = msg + msgall;",
                                    "        Ext.Msg.alert({",
                                    "            title: 'Lỗi',",
                                    "            message: message,",
                                    "            icon: Ext.Msg.ERROR,",
                                    "            buttons: Ext.Msg.OK",
                                    "        });",
                                    "",
                                    "    }",
                                    "});",
                                    "",
                                    "function saveMethod() {",
                                    "    var dm\t= rec.getData();",
                                    "    delete dm.children;",
                                    "",
                                    "    dataValidate = [dm];",
                                    "    dataValidate[0].details = [];",
                                    "    items.each(function(rx) {",
                                    "        Ext.Array.push(dataValidate[0].details, rx.getData());",
                                    "    });",
                                    "    FrmFdProcess.getValidation(\"CPK\", (rec.phantom ? 'C' : 'A'), dataValidate, function(response) {",
                                    "        if (response) {",
                                    "            if (response.success) {",
                                    "                if (!Ext.isEmpty(response.data)) {",
                                    "                    rec.set(response.data[0]);",
                                    "                }",
                                    "                syncStore(response.hasCmd);",
                                    "                if (response.message && response.errorType == 'I')",
                                    "                    Ext.Msg.alert({title: response.title, icon: Ext.Msg.INFO }, response.message);",
                                    "",
                                    "            } else if (response.errorType == 'C') {",
                                    "                Ext.Msg.alert({",
                                    "                    title\t: response.title,",
                                    "                    msg\t\t: response.message + '\\n' +LanguageControl.translate('Are you sure to save?'),",
                                    "                    buttons\t: Ext.Msg.YESNO,",
                                    "                    icon\t: Ext.Msg.QUESTION,",
                                    "                    fn\t\t: function(btn) {",
                                    "                        if (btn == 'yes') {",
                                    "                            if (!Ext.isEmpty(response.data)) {",
                                    "                                rec.set(response.data[0]);",
                                    "                            }",
                                    "                            syncStore(response.hasCmd);",
                                    "                        } else {",
                                    "                            mCtr.hideWait();",
                                    "                            if (response.hasCmd === true) {",
                                    "                                FrmFdProcess.delCmd(shortcmd);",
                                    "                            }",
                                    "                        }",
                                    "                    }",
                                    "                });",
                                    "            } else {",
                                    "                mCtr.hideWait();",
                                    "                Ext.Msg.alert({title: response.title, icon: Ext.Msg.ERROR }, response.message);",
                                    "            }",
                                    "        } else mCtr.hideWait();",
                                    "    });",
                                    "}",
                                    "function syncStore(hasCmd) {",
                                    "    var allocString = rec.get('allocString'),",
                                    "        allocs\t= [];",
                                    "    Ext.Array.each(allocString, function(r) {",
                                    "        Ext.Array.push(allocs, {block: r});",
                                    "    });",
                                    "    rec.set('allocs', allocs);",
                                    "    if(vm.get('bindRecord.status') === 'Q'){",
                                    "        vm.set('bindRecord.approvedqty','Y');",
                                    "    }",
                                    "    me.mixins.baseController.saveRecord.call(me, {",
                                    "        successFn: function() {",
                                    "            var tpInfo\t = me.lookupReference('tpInfo'),",
                                    "                tabbar\t= tpInfo.getTabBar(),",
                                    "                authConfig\t= tavico.app.getController('MainController').authConfig,",
                                    "                tabs = tabbar.items.getRange();",
                                    "            if (!authConfig.defaultValue) authConfig.defaultValue = {};",
                                    "            authConfig.defaultValue.contract = vm.get('bindRecord.packagecode');",
                                    "            for(var i=0; i < tabs.length; i++) {",
                                    "                tabs[i].enable();",
                                    "            }",
                                    "            //             griditem.down('toolbar').down('#itemImpBtn').show();",
                                    "            me.enableForm(false);",
                                    "            vm.getStore('blks').sync();",
                                    "            vm.getStore('items').sync();",
                                    "            vm.getStore('mtrs').sync();",
                                    "            vm.getStore('vdrs').sync();",
                                    "            vm.getStore('events').sync();",
                                    "            vm.getStore('blks').sync();",
                                    "            ctDoc.save(function() {",
                                    "                ctDoc.submitLink();",
                                    "            });",
                                    "",
                                    "            if (hasCmd !== false) {",
                                    "                FrmFdProcess.runCmd(\"CPK\", function(response, e) {",
                                    "                    if (!response) {",
                                    "                        Ext.Msg.alert({ title: LanguageControl.translate('Error'), icon: Ext.Msg.ERROR }, LanguageControl.translate('There are something wrong in this process'));",
                                    "                    } else {",
                                    "                        if (response.success) {",
                                    "                        } else {",
                                    "                            if (response.errorType !== 'C') Ext.Msg.alert({ title: response.title, icon: Ext.Msg.ERROR }, response.message);",
                                    "                        }",
                                    "                    } //if (Ext.isFunction(callback)) callback.call(this, record,true);",
                                    "                });",
                                    "            }",
                                    "        },",
                                    "        failureFn: function() {",
                                    "",
                                    "        },",
                                    "        callbackFn: function() {",
                                    "        }",
                                    "    });",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onSaveClick",
                            "designerId": "b2f67ab0-bb0f-4311-b753-22bfc9176476"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-edit",
                        "itemId": "editbtn",
                        "layout|flex": null,
                        "text": "Sửa"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton14",
                    "designerId": "f933c893-ae84-4ac0-beea-281fd27d1508",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onEditClick",
                                "implHandler": [
                                    "var me = this,",
                                    "    v\t= me.getView(),",
                                    "    vm\t= me.getViewModel(),",
                                    "    main\t= v.up('maincontainer'),",
                                    "    form\t= me.lookupReference('frmdetail'),",
                                    "    grid = me.lookupReference('gpDetail'),",
                                    "    griditem = me.lookupReference('griditem'),",
                                    "    selectedRecord,",
                                    "    mCtr = tavico.app.getController('MainController'),",
                                    "    idFEdit = 2208,",
                                    "    ops = mCtr.projectPermit[main.projectRecord.get('id')];",
                                    "",
                                    "if (v.getLayout().getActiveItem() == form) {",
                                    "    selectedRecord = vm.get('bindRecord');",
                                    "} else {",
                                    "    selectedRecord = grid.getView().getSelectionModel().getSelection()[0];",
                                    "}",
                                    "",
                                    "if (!me.keyFields) {",
                                    "    me.keyFields = [me.lookupReference('packagecode')];",
                                    "}",
                                    "",
                                    "if (selectedRecord) {",
                                    "    this.mixins.baseController.editRecord.call(me, selectedRecord, function() {",
                                    "        var tpInfo\t = me.lookupReference('tpInfo'),",
                                    "            tabbar\t= tpInfo.getTabBar();",
                                    "",
                                    "        var tabs = tabbar.items.getRange();",
                                    "        for(var i=0; i < tabs.length; i++) {",
                                    "            tabs[i].enable();",
                                    "        }",
                                    "        if (v.down('#abortbtn')) {",
                                    "            v.down('#abortbtn').hide();",
                                    "        }",
                                    "        if(selectedRecord.get('status') === 'A' && (ops.length <= idFEdit || ops[idFEdit] == 'N')){",
                                    "            Ext.Array.each(form.query('field'),function(f){",
                                    "               f.setReadOnly('true');",
                                    "            });",
                                    "            me.lookupReference('approvednote').setReadOnly(false);",
                                    "        }",
                                    "    });",
                                    "    me.enableForm(true);",
                                    "}"
                                ],
                                "maxHeight": "16",
                                "maxWidth": "16",
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string",
                                "maxHeight": "string",
                                "maxWidth": "string"
                            },
                            "name": "onEditClick",
                            "designerId": "32c7c077-a5a9-44d5-8302-fc6275f3eb7b",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "maxWidth",
                                    "type": "string"
                                },
                                {
                                    "group": "(Custom Properties)",
                                    "name": "maxHeight",
                                    "type": "string"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-ban",
                        "itemId": "abortbtn",
                        "layout|flex": null,
                        "text": "Hủy"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton168",
                    "designerId": "608ace8b-197d-48ca-8668-ecf2a5da1eca",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onAbortClick",
                                "implHandler": [
                                    "var me = this,",
                                    "    v = me.getView(),",
                                    "    vm = me.getViewModel(),",
                                    "    form = me.lookupReference('frmdetail'),",
                                    "    grid = me.lookupReference('gpDetail'),",
                                    "    selectedRecord;",
                                    "",
                                    "if (v.getLayout().getActiveItem() == form) {",
                                    "    selectedRecord = vm.get('bindRecord');",
                                    "}else{",
                                    "    selectedRecord = grid.getSelectionModel().getSelection()[0];",
                                    "}",
                                    "if(!selectedRecord) return;",
                                    "if (selectedRecord.get('status') === 'B'){",
                                    "    Ext.toast('Đã hủy');",
                                    "    return;",
                                    "}",
                                    "Ext.Msg.prompt('Xác nhận', 'Vui lòng nhập lý do hủy:', function(btn, inputValue) {",
                                    "    if (btn == 'ok' && !Ext.isEmpty(inputValue)) {",
                                    "        selectedRecord.set({",
                                    "            status: 'B',",
                                    "            cancelremarks: inputValue",
                                    "        });",
                                    "",
                                    "        selectedRecord.save({",
                                    "            success: function(rec, operation) {",
                                    "                Ext.toast('Đã hủy thành công');",
                                    "                vm.set('bindRecord', selectedRecord);",
                                    "                v.down('#abortbtn').hide();",
                                    "            },",
                                    "        });",
                                    "    }",
                                    "},true);"
                                ],
                                "maxHeight": "16",
                                "maxWidth": "16",
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string",
                                "maxHeight": "string",
                                "maxWidth": "string"
                            },
                            "name": "onAbortClick",
                            "designerId": "6e709c78-c8ca-4172-abdd-134ad9d7114d",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "maxWidth",
                                    "type": "string"
                                },
                                {
                                    "group": "(Custom Properties)",
                                    "name": "maxHeight",
                                    "type": "string"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-trash",
                        "itemId": "delbtn",
                        "layout|flex": null,
                        "text": "Xóa"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton45",
                    "designerId": "720089f9-a7f5-4b92-8a4b-f0826c1228f4",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onDeleteClick",
                                "implHandler": [
                                    "var me\t= this,",
                                    "    v\t= me.getView(),",
                                    "    vm\t= me.getViewModel(),",
                                    "    form\t= me.lookupReference('frmdetail'),",
                                    "    grid = me.lookupReference('gpDetail'),",
                                    "    selectedRecord;",
                                    "",
                                    "if (v.getLayout().getActiveItem() == form) {",
                                    "    selectedRecord = vm.get('bindRecord');",
                                    "} else selectedRecord = grid.getView().getSelectionModel().getSelection()[0];",
                                    "if(selectedRecord.get('status') === 'A'){",
                                    "    Ext.toast('Đã duyệt không thể xóa!');",
                                    "    return;",
                                    "}",
                                    "if (selectedRecord) me.mixins.baseController.deleteRecord.call(me, selectedRecord);"
                                ],
                                "maxHeight": "16",
                                "maxWidth": "16",
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string",
                                "maxHeight": "string",
                                "maxWidth": "string"
                            },
                            "name": "onDeleteClick",
                            "designerId": "f23b8c79-6424-48c4-a13c-322c0bcfcb7f",
                            "customConfigs": [
                                {
                                    "group": "(Custom Properties)",
                                    "name": "maxWidth",
                                    "type": "string"
                                },
                                {
                                    "group": "(Custom Properties)",
                                    "name": "maxHeight",
                                    "type": "string"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-upload",
                        "itemId": "importbtn",
                        "layout|flex": null,
                        "text": "Tải nhập"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton40",
                    "designerId": "7975c6ae-202c-4332-8aa0-c3428f856f60",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onImportbtnClick",
                                "implHandler": [
                                    "var me\t= this,",
                                    "    v\t= me.getView(),",
                                    "    w\t= Ext.widget('wdimport'),",
                                    "    vm\t= me.getViewModel(),",
                                    "    s\t= vm.getStore('masters'),",
                                    "    main\t= v.up('maincontainer');",
                                    "",
                                    "if (w.setImportType('CPK',{",
                                    "    project: main.projectRecord.get('id')",
                                    "})){",
                                    "    w.show();",
                                    "",
                                    "    w.on('successCallback', function() {",
                                    "        s.load();",
                                    "    });",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onImportbtnClick",
                            "designerId": "545b0d63-724d-47a5-8efb-eac5de29a358"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-upload",
                        "itemId": "importPRObtn",
                        "layout|flex": null,
                        "text": "Tải nhập từ dự án"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton115",
                    "designerId": "054d2217-c989-428d-ab3b-6663c5e18dcd",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onImportPRObtnClick",
                                "implHandler": [
                                    "var me\t= this,",
                                    "    v\t= me.getView(),",
                                    "    main\t= v.up('maincontainer'),",
                                    "    grid= me.lookupReference('gpDetail'),",
                                    "    s= grid.getStore(),",
                                    "    mCtr\t= tavico.app.getController('MainController'),",
                                    "    w\t= Ext.widget('wdproject', {",
                                    "        notId: main.projectRecord.get('id')",
                                    "    }),",
                                    "    data\t= [];",
                                    "",
                                    "// w.setNotId(main.projectRecord.get('id'));",
                                    "w.on('successCallback', function(recs) {",
                                    "    Ext.Array.each(recs, function(r) {",
                                    "        var d = r.getData();",
                                    "        Ext.Array.push(data, {",
                                    "            project: d.project,",
                                    "            isterm: 'N',",
                                    "            ownerProject: main.projectRecord.get('id')",
                                    "        });",
                                    "",
                                    "    });",
                                    "    if (Ext.isEmpty(data)) return;",
                                    "",
                                    "    FrmCpPackage.addFromProject(data, function(res) {",
                                    "        if (res && res.success) {",
                                    "            s.load();",
                                    "            Ext.toast('Tải nhập thành công');",
                                    "        } else {",
                                    "            var title = \"Lỗi\",",
                                    "                msg = \"Có lỗi xảy ra trong quá trình xử lý\";",
                                    "",
                                    "            if (res) {",
                                    "                title = res.title;",
                                    "                msg = res.message;",
                                    "            }",
                                    "            Ext.Msg.alert({",
                                    "                title: title,",
                                    "                msg: msg,",
                                    "                icon: Ext.Msg.ERROR,",
                                    "                buttons: Ext.Msg.OK",
                                    "            });",
                                    "        }",
                                    "    });",
                                    "",
                                    "});",
                                    "w.show();"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onImportPRObtnClick",
                            "designerId": "f14c5dbc-d1a0-4bcd-a79b-715acdfc7734"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-download",
                        "itemId": "exportbtn",
                        "layout|flex": null,
                        "text": "Tải xuất"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton41",
                    "designerId": "fcb4fbab-ec98-4b06-86f2-ed8207e3a815",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onExportbtnClick",
                                "implHandler": [
                                    "this.mixins.baseController.exportRecord.call(this);"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onExportbtnClick",
                            "designerId": "d87f6c89-abbb-42e9-8a3b-c2196271b148"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "iconCls": "x-fa fa-print",
                        "itemId": "printbtn",
                        "layout|flex": null,
                        "text": "In"
                    },
                    "configAlternates": {
                        "iconCls": "string",
                        "layout|flex": "number",
                        "scale": "string",
                        "text": "string",
                        "width": "auto",
                        "itemId": "string"
                    },
                    "name": "MyButton146",
                    "designerId": "0dc6d322-a383-495b-9494-9e1d609fff0c",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onPrintBtnClick",
                                "implHandler": [
                                    "var me\t= this,",
                                    "    v\t= me.getView(),",
                                    "    main\t= v.up('maincontainer'),",
                                    "    vm\t= me.getViewModel(),",
                                    "    s\t= vm.getStore('masters'),",
                                    "    grid = me.lookupReference('gpDetail'),",
                                    "    form = me.lookupReference('frmdetail'),",
                                    "    mCtr\t= tavico.app.getController('MainController'),",
                                    "    data = [],",
                                    "    arg, selectedRecord, packagecode;",
                                    "",
                                    "if (v.getLayout().getActiveItem() == form) {",
                                    "    selectedRecord = vm.get('bindRecord');",
                                    "} else {",
                                    "    selectedRecord = grid.getSelectionModel().getSelection()[0];",
                                    "}",
                                    "if (selectedRecord) {",
                                    "    var printRecord = selectedRecord.clone();",
                                    "    printRecord.set('allocString', null);",
                                    "    printRecord.set('children', null);",
                                    "    me.mixins.baseController.printRecord.call(me, printRecord, 'CPK');",
                                    "}"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string",
                                "maxHeight": "string",
                                "maxWidth": "string"
                            },
                            "name": "onPrintBtnClick",
                            "designerId": "761c2a0e-42c4-458a-9176-727d2bc273cf"
                        }
                    ]
                },
                {
                    "type": "Ext.toolbar.Fill",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "layout|flex": null
                    },
                    "configAlternates": {
                        "layout|flex": "number"
                    },
                    "name": "MyFill",
                    "designerId": "d4ae5f10-a40c-442b-bfd1-0c6f26503f28"
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|uiInterfaceName": "plain-toolbar-small",
                        "iconCls": "x-fa fa-angle-double-left",
                        "itemId": "firstbtn",
                        "layout|flex": null,
                        "ui": "plain-toolbar-small"
                    },
                    "configAlternates": {
                        "designer|uiInterfaceName": "string",
                        "iconCls": "string",
                        "itemId": "string",
                        "layout|flex": "number",
                        "ui": "string"
                    },
                    "name": "MyButton33",
                    "designerId": "dfd27f86-5443-479f-8ea3-60d3e930bfdf",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onFirstBtnClick",
                                "implHandler": [
                                    "var me\t = this,",
                                    "    vm\t= me.getViewModel(),",
                                    "    authConfig\t= tavico.app.getController('MainController').authConfig;",
                                    "",
                                    "this.mixins.baseController.first.call(this, function() {",
                                    "    tabbar.activeTab.card.fireEvent('activate');",
                                    "    if (!authConfig.defaultValue) authConfig.defaultValue = {};",
                                    "    authConfig.defaultValue.packagecode = vm.get('bindRecord.packagecode');",
                                    "    me.loadTabInfors();",
                                    "});"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onFirstBtnClick",
                            "designerId": "c6a6d70d-fb67-47af-813b-df74542bf5ee"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|uiInterfaceName": "plain-toolbar-small",
                        "iconCls": "x-fa fa-angle-left",
                        "itemId": "backbtn",
                        "layout|flex": null,
                        "ui": "plain-toolbar-small"
                    },
                    "configAlternates": {
                        "designer|uiInterfaceName": "string",
                        "iconCls": "string",
                        "layout|flex": "number",
                        "ui": "string",
                        "itemId": "string"
                    },
                    "name": "MyButton34",
                    "designerId": "4f095a0e-3990-4c41-be39-902148a10a73",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onBackBtnClick",
                                "implHandler": [
                                    "var me\t = this,",
                                    "    gpDetail\t= me.lookupReference('gpDetail'),",
                                    "    vm\t= me.getViewModel(),",
                                    "    authConfig\t= tavico.app.getController('MainController').authConfig;",
                                    "",
                                    "this.mixins.baseController.back.call(this, function() {",
                                    "    tabbar.activeTab.card.fireEvent('activate');",
                                    "    if (!authConfig.defaultValue) authConfig.defaultValue = {};",
                                    "    authConfig.defaultValue.packagecode = vm.get('bindRecord.packagecode');",
                                    "    me.loadTabInfors();",
                                    "});"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onBackBtnClick",
                            "designerId": "d8616dd7-6f4e-4119-bca5-21bcca6272d8"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|uiInterfaceName": "plain-toolbar-small",
                        "iconCls": "x-fa fa-angle-right",
                        "itemId": "nextbtn",
                        "layout|flex": null,
                        "ui": "plain-toolbar-small"
                    },
                    "configAlternates": {
                        "designer|uiInterfaceName": "string",
                        "iconCls": "string",
                        "layout|flex": "number",
                        "ui": "string",
                        "itemId": "string"
                    },
                    "name": "MyButton35",
                    "designerId": "6b7abd03-0950-40c9-a14f-50fab8ed1ddf",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onNextBtnClick",
                                "implHandler": [
                                    "var me\t = this,",
                                    "    gpDetail\t= me.lookupReference('gpDetail'),",
                                    "    vm\t= me.getViewModel(),",
                                    "    authConfig\t= tavico.app.getController('MainController').authConfig;",
                                    "",
                                    "this.mixins.baseController.next.call(this, function() {",
                                    "    tabbar.activeTab.card.fireEvent('activate');",
                                    "    if (!authConfig.defaultValue) authConfig.defaultValue = {};",
                                    "    authConfig.defaultValue.packagecode = vm.get('bindRecord.packagecode');",
                                    "    me.loadTabInfors();",
                                    "});"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onNextBtnClick",
                            "designerId": "518ed2ba-529b-4be7-bd66-6aa0f5774581"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|uiInterfaceName": "plain-toolbar-small",
                        "iconCls": "x-fa fa-angle-double-right",
                        "itemId": "lastbtn",
                        "layout|flex": null,
                        "ui": "plain-toolbar-small"
                    },
                    "configAlternates": {
                        "designer|uiInterfaceName": "string",
                        "iconCls": "string",
                        "layout|flex": "number",
                        "ui": "string",
                        "itemId": "string"
                    },
                    "name": "MyButton36",
                    "designerId": "cda1a6c6-6fd3-43bc-bb1c-1491af7a0152",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onLastBtnClick",
                                "implHandler": [
                                    "var me\t = this,",
                                    "    gpDetail\t= me.lookupReference('gpDetail'),",
                                    "    vm\t= me.getViewModel(),",
                                    "    authConfig\t= tavico.app.getController('MainController').authConfig;",
                                    "",
                                    "this.mixins.baseController.last.call(this, function() {",
                                    "    tabbar.activeTab.card.fireEvent('activate');",
                                    "    if (!authConfig.defaultValue) authConfig.defaultValue = {};",
                                    "    authConfig.defaultValue.packagecode = vm.get('bindRecord.packagecode');",
                                    "    me.loadTabInfors();",
                                    "});"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onLastBtnClick",
                            "designerId": "81424743-7b54-4da1-9140-4ede9621931b"
                        }
                    ]
                },
                {
                    "type": "Ext.button.Button",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|uiInterfaceName": "plain-toolbar-small",
                        "iconCls": "x-fa fa-refresh",
                        "itemId": "refreshbtn",
                        "layout|flex": null,
                        "ui": "plain-toolbar-small"
                    },
                    "configAlternates": {
                        "designer|uiInterfaceName": "string",
                        "iconCls": "string",
                        "layout|flex": "number",
                        "ui": "string",
                        "itemId": "string"
                    },
                    "name": "MyButton39",
                    "designerId": "edd70ce6-6739-4426-be4e-237df79bd966",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onRefreshBtnClick",
                                "implHandler": [
                                    "var me = this,",
                                    "    viewModel = me.getViewModel(),",
                                    "    s\t= viewModel.getStore('masters');",
                                    "s.load();"
                                ],
                                "name": "click",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onRefreshBtnClick",
                            "designerId": "f7a5df2b-b8c7-4a52-99ce-cd8f34fed55c"
                        }
                    ]
                },
                {
                    "type": "Ext.form.field.Text",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "emptyText": "Nhập lệnh tắt",
                        "layout|flex": null
                    },
                    "configAlternates": {
                        "emptyText": "string",
                        "layout|flex": "number"
                    },
                    "name": "MyTextField81",
                    "designerId": "50ac2b09-9b98-4bea-83f8-a38f391f241e",
                    "cn": [
                        {
                            "type": "viewcontrollereventbinding",
                            "reference": {
                                "name": "listeners",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "fn": "onCommandSpecialkey",
                                "implHandler": [
                                    "var me = this,",
                                    "    v\t= me.getView(),",
                                    "    vm\t= me.getViewModel(),",
                                    "    form\t= me.lookupReference('frmdetail'),",
                                    "    grid = me.lookupReference('gpDetail'),",
                                    "    strCommand\t= field.getValue(),",
                                    "    selectedRecord;",
                                    "",
                                    "if (v.getLayout().getActiveItem() == form) {",
                                    "    selectedRecord = vm.get('bindRecord');",
                                    "} else selectedRecord = grid.getView().getSelectionModel().getSelection()[0];",
                                    "",
                                    "if (!me.keyFields) {",
                                    "    me.keyFields = [me.lookupReference('packagecode')];",
                                    "}",
                                    "",
                                    "if (e.getKey() == e.ENTER) {",
                                    "    field.selectText();",
                                    "    me.mixins.baseController.commandRun.call(me, strCommand, selectedRecord);",
                                    "}"
                                ],
                                "name": "specialkey",
                                "scope": "me"
                            },
                            "configAlternates": {
                                "fn": "string",
                                "implHandler": "code",
                                "name": "string",
                                "scope": "string"
                            },
                            "name": "onCommandSpecialkey",
                            "designerId": "11ce82c0-1bdb-4151-833e-f8a86c870d1b"
                        }
                    ]
                }
            ]
        },
        {
            "type": "Ext.grid.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "reference": "gpDetail",
                "store": [
                    "{masters}"
                ]
            },
            "configAlternates": {
                "store": "binding",
                "reference": "string"
            },
            "name": "MyGridPanel13",
            "designerId": "75b8defa-f9fc-4923-924f-4ec552e21f69",
            "cn": [
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "packagecode",
                        "lockable": true,
                        "text": "Mã gói thầu"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "lockable": "boolean"
                    },
                    "name": "MyColumn83",
                    "designerId": "9fa5873c-e1af-41f5-9e90-832bb2e11155",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter18",
                            "designerId": "f3751a6c-d982-455f-b1ac-242947e25452"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "packagetitle",
                        "text": "Tên gói thầu",
                        "width": 179
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto"
                    },
                    "name": "MyColumn100",
                    "designerId": "48df920a-847c-4253-87bc-b3113a4831c0",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter18",
                            "designerId": "10a79699-c6f6-467d-b19c-0a26476f1e06"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "status",
                        "text": "Tình trạng"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string"
                    },
                    "name": "MyColumn82",
                    "designerId": "4aeadf89-8658-4b05-a9e9-0da0e4e804be",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter13",
                            "designerId": "ef274c71-469f-4bce-860e-5356849d24d3"
                        },
                        {
                            "type": "fixedfunction",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "designer|params": [
                                    "value",
                                    "metaData",
                                    "record",
                                    "rowIndex",
                                    "colIndex",
                                    "store",
                                    "view"
                                ],
                                "fn": "renderer",
                                "implHandler": [
                                    "var text = value;",
                                    "if(value === 'P')",
                                    "    text = 'Kế hoạch';",
                                    "else if(value === 'O')",
                                    "    text = 'Đang xử lý';",
                                    "else if(value === 'Q')",
                                    "    text = 'Duyệt SL';",
                                    "else if(value === 'A')",
                                    "    text = 'Đã duyệt';",
                                    "else if(value === 'B')",
                                    "    text = 'Hủy';",
                                    "return text;"
                                ]
                            },
                            "configAlternates": {
                                "designer|params": "typedarray",
                                "fn": "string",
                                "implHandler": "code"
                            },
                            "name": "renderer",
                            "designerId": "29f13f71-821b-4746-b9e2-0046d0a9c4ae"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "parentcode",
                        "text": "Gói thầu cha"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string"
                    },
                    "name": "MyColumn101",
                    "designerId": "19b55562-6135-4bd9-88d8-75451a8a98de",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter13",
                            "designerId": "bec6bd34-6477-408a-83f5-96b0dae3c91e"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Date",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "packagedate",
                        "format": "d/m/Y",
                        "text": "Ngày tạo"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "format": "string"
                    },
                    "name": "MyDateColumn11",
                    "designerId": "c7039184-a016-47c8-ae26-4e404ca46b95",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.Date",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyDateFilter7",
                            "designerId": "d10fa912-d971-47d8-bf80-bcfeab083e12"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Number",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "packageno",
                        "text": "Số gói thầu"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string"
                    },
                    "name": "MyNumberColumn25",
                    "designerId": "d149d28e-8db7-46d2-89e9-2f0451c73b99",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter13",
                            "designerId": "c23e5324-45e1-4eb6-a9d0-83cd67e44d48"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "costcode",
                        "text": "Mã chi phí",
                        "width": 116
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto"
                    },
                    "name": "MyColumn84",
                    "designerId": "5e739b95-f86e-4fcc-8a4c-c55286cc0731",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter19",
                            "designerId": "db2756a2-28a8-4548-ae20-e2be8634db6c"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "employeename",
                        "text": "NV phụ trách",
                        "width": 121
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto"
                    },
                    "name": "MyColumn85",
                    "designerId": "5bfb4556-316e-4f79-ae1c-e3e2d6ce915d",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter20",
                            "designerId": "3dc7984c-a9a3-4336-8f6b-66fe98c549fb"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Date",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "requireddate",
                        "format": "d/m/Y",
                        "text": "Ngày đến hạn"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto",
                        "format": "string"
                    },
                    "name": "MyDateColumn13",
                    "designerId": "f33abc01-a3b4-492b-9526-3a41125234d5",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.Date",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyDateFilter1",
                            "designerId": "f2f66fb4-7206-430b-bb8f-649b6eb105fa"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Date",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "expirydate",
                        "format": "d/m/Y",
                        "text": "Ngày hết hạn"
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "format": "string"
                    },
                    "name": "MyDateColumn6",
                    "designerId": "5dffaa61-db69-495f-8e82-509b4fcd52ab",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.Date",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyDateFilter",
                            "designerId": "228c337b-a86b-4c7c-a7c3-2b376b01da5d"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Column",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "currencycode",
                        "text": "Tiền tệ",
                        "width": 80
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string",
                        "width": "auto"
                    },
                    "name": "MyColumn103",
                    "designerId": "03e64dcb-521b-472d-bdbc-e50b79c66fa9",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter24",
                            "designerId": "a0990317-ef7d-457f-bbe0-81a022f1cbc4"
                        }
                    ]
                },
                {
                    "type": "Ext.grid.column.Number",
                    "reference": {
                        "name": "columns",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "dataIndex": "totalamt",
                        "text": "Giá trị gói thầu "
                    },
                    "configAlternates": {
                        "dataIndex": "datafield",
                        "text": "string"
                    },
                    "name": "MyNumberColumn24",
                    "designerId": "79a6563a-f383-40c7-97b3-e3420001cac2",
                    "cn": [
                        {
                            "type": "Ext.grid.filters.filter.String",
                            "reference": {
                                "name": "filter",
                                "type": "object"
                            },
                            "codeClass": null,
                            "name": "MyStringFilter22",
                            "designerId": "e1cee74a-986e-4b40-8d7b-d62d1f9e311e"
                        }
                    ]
                },
                {
                    "type": "Ext.view.Table",
                    "reference": {
                        "name": "viewConfig",
                        "type": "object"
                    },
                    "codeClass": null,
                    "name": "MyTable12",
                    "designerId": "1f449fe0-8b50-4ed9-ab5b-23e56a144868"
                },
                {
                    "type": "Ext.grid.filters.Filters",
                    "reference": {
                        "name": "plugins",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "designer|createAlias": "filterbar"
                    },
                    "configAlternates": {
                        "designer|createAlias": "string"
                    },
                    "name": "MyGridFiltersPlugin",
                    "designerId": "41ca7f81-2a09-4bf7-bde4-0b6378235e41"
                },
                {
                    "type": "Ext.grid.plugin.BufferedRenderer",
                    "reference": {
                        "name": "plugins",
                        "type": "array"
                    },
                    "codeClass": null,
                    "name": "MyBufferedRenderer3",
                    "designerId": "72e81f03-2cdd-4c56-9055-d49aedb167e1"
                },
                {
                    "type": "viewcontrollereventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onGridpanelCellDblClick",
                        "implHandler": [
                            "var me\t= this,",
                            "    v\t= me.getView(),",
                            "    main\t= v.up('maincontainer'),",
                            "    vm\t= me.getViewModel(),",
                            "    griditem = me.lookupReference('griditem'),",
                            "    authConfig\t= tavico.app.getController('MainController').authConfig;",
                            "",
                            "me.mixins.baseController.viewRecord.call(me, record, function() {",
                            "    if (!authConfig.defaultValue) authConfig.defaultValue = {};",
                            "    authConfig.defaultValue.packagecode = vm.get('bindRecord.packagecode');",
                            "    me.enableForm(false);",
                            "",
                            "    vm.getStore('items').rejectChanges();",
                            "    vm.getStore('mtrs').rejectChanges();",
                            "    vm.getStore('events').rejectChanges();",
                            "    vm.getStore('vdrs').rejectChanges();",
                            "    var tpInfo\t= me.lookupReference('tpInfo'),",
                            "        tabbar\t= tpInfo.getTabBar();",
                            "    //tpInfo.setActiveTab(0);",
                            "    tabbar.activeTab.card.fireEvent('activate');",
                            "});"
                        ],
                        "name": "celldblclick",
                        "scope": "me"
                    },
                    "configAlternates": {
                        "fn": "string",
                        "implHandler": "code",
                        "name": "string",
                        "scope": "string"
                    },
                    "name": "onGridpanelCellDblClick",
                    "designerId": "7cd8c11d-c7a9-4790-825e-049ad12e7bcb"
                },
                {
                    "type": "viewcontrollereventbinding",
                    "reference": {
                        "name": "listeners",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "fn": "onGridpanelSelect",
                        "implHandler": [
                            "var me = this,",
                            "    v  = me.getView(),",
                            "    abortbtn = v.down('#abortbtn');",
                            "",
                            "if (abortbtn) {",
                            "    if (record.get('status') == 'B') abortbtn.hide();",
                            "    else abortbtn.show();",
                            "}"
                        ],
                        "name": "select",
                        "scope": "me"
                    },
                    "configAlternates": {
                        "fn": "string",
                        "implHandler": "code",
                        "name": "string",
                        "scope": "string"
                    },
                    "name": "onGridpanelSelect",
                    "designerId": "63bc09ec-a7d9-445a-9ba1-87473fa1c862"
                }
            ]
        },
        {
            "type": "Ext.form.Panel",
            "reference": {
                "name": "items",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "container|align": "stretch",
                "fieldDefaults": [
                    "{labelAlign: 'right', labelSeparator: ''}"
                ],
                "layout": "vbox",
                "reference": "frmdetail",
                "scrollable": "vertical"
            },
            "configAlternates": {
                "fieldDefaults": "object",
                "layout": "string",
                "reference": "string",
                "container|align": "string",
                "scrollable": "auto",
                "api": "object"
            },
            "name": "MyForm13",
            "designerId": "1921063c-fc3a-4c04-90c6-a05879f8907d",
            "cn": [
                {
                    "type": "Ext.container.Container",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "container|align": "stretch",
                        "layout": "hbox",
                        "padding": 5
                    },
                    "configAlternates": {
                        "container|align": "string",
                        "layout": "string",
                        "padding": "auto"
                    },
                    "name": "MyContainer33",
                    "designerId": "bd215d42-eed1-4b4c-8d63-be27adfb4e23",
                    "cn": [
                        {
                            "type": "Ext.form.FieldContainer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "container|align": "stretch",
                                "flex": 2,
                                "layout": "vbox"
                            },
                            "configAlternates": {
                                "container|align": "string",
                                "flex": "number",
                                "layout": "string"
                            },
                            "name": "MyFieldContainer19",
                            "designerId": "dc3ab654-6751-4235-8436-20f57516ea5b",
                            "cn": [
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "emptyText": "< Số tự tăng >",
                                        "fieldLabel": "Mã gói thầu",
                                        "itemId": "packagecode",
                                        "maxWidth": 300,
                                        "name": "packagecode",
                                        "reference": "packagecode",
                                        "value": [
                                            "{bindRecord.packagecode}"
                                        ]
                                    },
                                    "configAlternates": {
                                        "fieldLabel": "string",
                                        "maxWidth": "number",
                                        "name": "string",
                                        "reference": "string",
                                        "value": "binding",
                                        "itemId": "string",
                                        "emptyText": "string"
                                    },
                                    "name": "MyTextField72",
                                    "designerId": "f5ad4b2c-33e3-455f-a195-cd6cca13d861"
                                },
                                {
                                    "type": "Ext.form.field.Text",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fieldLabel": "Tên gói thầu ",
                                        "name": "packagetitle",
                                        "reference": "packagetitle",
                                        "value": [
                                            "{bindRecord.packagetitle}"
                                        ]
                                    },
                                    "configAlternates": {
                                        "fieldLabel": "string",
                                        "name": "string",
                                        "reference": "string",
                                        "value": "binding"
                                    },
                                    "name": "MyTextField75",
                                    "designerId": "1cd491e9-0e1a-42eb-a413-a7e54abab8d1"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.FieldContainer",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "container|align": "stretch",
                                "flex": 1,
                                "layout": "vbox"
                            },
                            "configAlternates": {
                                "fieldLabel": "string",
                                "height": "auto",
                                "layout|flex": "number",
                                "width": "auto",
                                "container|align": "string",
                                "flex": "number",
                                "layout": "string"
                            },
                            "name": "MyFieldContainer20",
                            "designerId": "a0417af6-3974-42cc-9be9-bfa0b5ae456a",
                            "cn": [
                                {
                                    "type": "Ext.form.field.ComboBox",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "displayField": "name",
                                        "fieldLabel": "Tình trạng",
                                        "forceSelection": true,
                                        "name": "status",
                                        "reference": "status",
                                        "store": [
                                            "{statusStorePOQAB}"
                                        ],
                                        "value": [
                                            "{bindRecord.status}"
                                        ],
                                        "valueField": "code"
                                    },
                                    "configAlternates": {
                                        "fieldLabel": "string",
                                        "maxWidth": "number",
                                        "name": "string",
                                        "reference": "string",
                                        "store": "binding",
                                        "valueField": "datafield",
                                        "value": "binding",
                                        "displayField": "datafield",
                                        "forceSelection": "boolean"
                                    },
                                    "name": "MyComboBox64",
                                    "designerId": "da67df68-64f1-4ec4-9dd4-597e769d2c8a"
                                },
                                {
                                    "type": "Ext.form.field.ComboBox",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "autoLoadOnValue": true,
                                        "displayField": "name",
                                        "fieldLabel": "Nhóm truy cập",
                                        "name": "dagid",
                                        "reference": "dagid",
                                        "store": [
                                            "{dags}"
                                        ],
                                        "value": [
                                            "{bindRecord.dagid}"
                                        ],
                                        "valueField": "dagid"
                                    },
                                    "configAlternates": {
                                        "fieldLabel": "string",
                                        "layout|flex": "number",
                                        "name": "string",
                                        "reference": "string",
                                        "store": "binding",
                                        "displayField": "datafield",
                                        "valueField": "datafield",
                                        "value": "binding",
                                        "autoLoadOnValue": "boolean"
                                    },
                                    "name": "MyComboBox75",
                                    "designerId": "d177d8df-de12-4355-9c7e-591763da15fa"
                                }
                            ]
                        }
                    ]
                },
                {
                    "type": "Ext.tab.Panel",
                    "reference": {
                        "name": "items",
                        "type": "array"
                    },
                    "codeClass": null,
                    "userConfig": {
                        "activeTab": 0,
                        "flex": 1,
                        "plain": true,
                        "reference": "tpInfo",
                        "userCls": [
                            "tvc-prj-tab"
                        ]
                    },
                    "configAlternates": {
                        "activeTab": "auto",
                        "plain": "boolean",
                        "userCls": "typedarray",
                        "reference": "string",
                        "flex": "number"
                    },
                    "name": "MyTabPanel",
                    "designerId": "a2fd8b4f-c1d6-4a13-a15a-7e5044cd14ea",
                    "cn": [
                        {
                            "type": "Ext.panel.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "container|align": "stretch",
                                "designer|uiInterfaceName": "default",
                                "layout": "hbox",
                                "title": "Tổng quan"
                            },
                            "configAlternates": {
                                "container|align": "string",
                                "designer|uiInterfaceName": "string",
                                "layout": "string",
                                "title": "string"
                            },
                            "name": "MyPanel2",
                            "designerId": "8acc291f-9725-444b-b4ba-ea99302f283c",
                            "cn": [
                                {
                                    "type": "Ext.tab.Tab",
                                    "reference": {
                                        "name": "tabConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "TabConfig",
                                    "designerId": "d04265f6-6ff2-41cb-9bf8-276f02d810df"
                                },
                                {
                                    "type": "Ext.container.Container",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "layout": "fit",
                                        "layout|flex": 1,
                                        "reference": "dbContainer"
                                    },
                                    "configAlternates": {
                                        "container|align": "string",
                                        "layout": "string",
                                        "layout|flex": "number",
                                        "designer|createAlias": "string",
                                        "reference": "string"
                                    },
                                    "name": "MyContainer5",
                                    "designerId": "41efab9c-3e11-4e51-9342-db74a8a248af"
                                },
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onGeneralActive",
                                        "implHandler": [
                                            "var me\t= this,",
                                            "    v\t= me.getView(),",
                                            "    main\t= v.up('maincontainer'),",
                                            "    mCtr\t= tavico.app.getController('MainController');",
                                            "",
                                            "if (!main.projectRecord) {",
                                            "//     Ext.History.add('home');",
                                            "    return;",
                                            "}",
                                            "// me.lookupReference('approvedqty').setValue('N');",
                                            "mCtr.loadDashboard(me.lookupReference('dbContainer'), 'K');"
                                        ],
                                        "name": "activate",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onGeneralActive",
                                    "designerId": "68790bce-f0c9-4dcc-a55f-eac19c99dc40"
                                }
                            ]
                        },
                        {
                            "type": "Ext.panel.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "bodyPadding": 10,
                                "defaults": [
                                    "{",
                                    "labelAlign: 'right',",
                                    "labelSeparator: ''",
                                    "}"
                                ],
                                "scrollable": true,
                                "title": "Thông tin chung"
                            },
                            "configAlternates": {
                                "designer|uiInterfaceName": "string",
                                "title": "string",
                                "scrollable": "auto",
                                "bodyPadding": "auto",
                                "container|align": "string",
                                "defaults": "object",
                                "layout": "string",
                                "ui": "string"
                            },
                            "name": "MyPanel4",
                            "designerId": "2b8c042a-210d-46f2-863f-aab66f90df3a",
                            "cn": [
                                {
                                    "type": "Ext.tab.Tab",
                                    "reference": {
                                        "name": "tabConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "TabConfig1",
                                    "designerId": "7ffa8566-74a2-42e3-b902-ca2ba057ab0f"
                                },
                                {
                                    "type": "Ext.container.Container",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "container|align": "stretch",
                                        "layout": "hbox"
                                    },
                                    "configAlternates": {
                                        "container|align": "string",
                                        "layout": "string"
                                    },
                                    "name": "MyContainer95",
                                    "designerId": "520a7bae-02d8-4880-9e8a-62fbf3341416",
                                    "cn": [
                                        {
                                            "type": "Ext.container.Container",
                                            "reference": {
                                                "name": "items",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "container|align": "stretch",
                                                "flex": 1,
                                                "layout": "vbox"
                                            },
                                            "configAlternates": {
                                                "container|align": "string",
                                                "flex": "number",
                                                "layout": "string"
                                            },
                                            "name": "MyContainer98",
                                            "designerId": "f4a557b1-22be-4f46-af0d-743d3dd52457",
                                            "cn": [
                                                {
                                                    "type": "Ext.container.Container",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "container|align": "stretch",
                                                        "layout": "hbox"
                                                    },
                                                    "configAlternates": {
                                                        "container|align": "string",
                                                        "layout": "string"
                                                    },
                                                    "name": "MyContainer36",
                                                    "designerId": "161a758c-b2d4-4ae7-b70d-d11420edc288",
                                                    "cn": [
                                                        {
                                                            "type": "Ext.form.FieldContainer",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "container|align": "stretch",
                                                                "flex": 1.5,
                                                                "layout": "vbox"
                                                            },
                                                            "configAlternates": {
                                                                "container|align": "string",
                                                                "flex": "number",
                                                                "layout": "string"
                                                            },
                                                            "name": "MyFieldContainer23",
                                                            "designerId": "c88564a7-1d2d-4a9b-8293-c97f8e5cc315",
                                                            "cn": [
                                                                {
                                                                    "type": "Ext.form.field.Date",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Ngày tạo",
                                                                        "maxWidth": 240,
                                                                        "name": "packagedate",
                                                                        "reference": "packagedate",
                                                                        "value": [
                                                                            "{bindRecord.packagedate}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "maxWidth": "number",
                                                                        "name": "string",
                                                                        "reference": "string",
                                                                        "value": "binding",
                                                                        "layout|flex": "number"
                                                                    },
                                                                    "name": "MyDateField20",
                                                                    "designerId": "674d990b-2d5d-42d5-a849-a2f5532cfd78"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.ComboBox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "autoLoadOnValue": true,
                                                                        "displayField": "packagetitle",
                                                                        "fieldLabel": "Gói thầu cha",
                                                                        "forceSelection": true,
                                                                        "maxWidth": 570,
                                                                        "name": "parentcode",
                                                                        "pageSize": 15,
                                                                        "reference": "parentcode",
                                                                        "store": [
                                                                            "{parentcodes}"
                                                                        ],
                                                                        "value": [
                                                                            "{bindRecord.parentcode}"
                                                                        ],
                                                                        "valueField": "packagecode"
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "layout|flex": "number",
                                                                        "name": "string",
                                                                        "reference": "string",
                                                                        "value": "binding",
                                                                        "store": "binding",
                                                                        "displayField": "datafield",
                                                                        "valueField": "datafield",
                                                                        "maxWidth": "number",
                                                                        "autoLoadOnValue": "boolean",
                                                                        "pageSize": "number",
                                                                        "matchFieldWidth": "boolean",
                                                                        "minChars": "number",
                                                                        "nonValidated": "boolean",
                                                                        "forceSelection": "boolean"
                                                                    },
                                                                    "name": "MyComboBox61",
                                                                    "designerId": "629e71e4-8af8-4495-90ba-99531c748191",
                                                                    "customConfigs": [
                                                                        {
                                                                            "group": "(Custom Properties)",
                                                                            "name": "nonValidated",
                                                                            "type": "string"
                                                                        }
                                                                    ],
                                                                    "cn": [
                                                                        {
                                                                            "type": "viewcontrollereventbinding",
                                                                            "reference": {
                                                                                "name": "listeners",
                                                                                "type": "array"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "fn": "onParentcodeSelect",
                                                                                "implHandler": [
                                                                                    "var me = this,",
                                                                                    "    v = me.getView(),",
                                                                                    "    vm = me.getViewModel();",
                                                                                    "if(record) vm.set('bindRecord.costcode',record.get('costcode'));",
                                                                                    "vm.getStore('costcodes').load();"
                                                                                ],
                                                                                "name": "select",
                                                                                "scope": "me"
                                                                            },
                                                                            "configAlternates": {
                                                                                "fn": "string",
                                                                                "implHandler": "code",
                                                                                "name": "string",
                                                                                "scope": "string"
                                                                            },
                                                                            "name": "onParentcodeSelect",
                                                                            "designerId": "3e447111-961e-486b-973a-fe285620b68f"
                                                                        },
                                                                        {
                                                                            "type": "Ext.view.BoundList",
                                                                            "reference": {
                                                                                "name": "listConfig",
                                                                                "type": "object"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "itemSelector": "div"
                                                                            },
                                                                            "configAlternates": {
                                                                                "itemSelector": "string"
                                                                            },
                                                                            "name": "MyBoundList15",
                                                                            "designerId": "0191fdb2-8214-448b-9df2-8ae40550792a",
                                                                            "cn": [
                                                                                {
                                                                                    "type": "Ext.XTemplate",
                                                                                    "reference": {
                                                                                        "name": "itemTpl",
                                                                                        "type": "object"
                                                                                    },
                                                                                    "codeClass": null,
                                                                                    "userConfig": {
                                                                                        "designer|displayName": "itemTpl",
                                                                                        "implHandler": [
                                                                                            "{packagecode} - {packagetitle}"
                                                                                        ]
                                                                                    },
                                                                                    "configAlternates": {
                                                                                        "designer|displayName": "string",
                                                                                        "implHandler": "code"
                                                                                    },
                                                                                    "name": "itemTpl",
                                                                                    "designerId": "e01fd763-83f4-4cff-9926-902a4d47c8ce"
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "Ext.XTemplate",
                                                                            "reference": {
                                                                                "name": "displayTpl",
                                                                                "type": "object"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "designer|displayName": "displayTpl",
                                                                                "implHandler": [
                                                                                    "<tpl for=\".\">{packagecode} - {packagetitle}</tpl>"
                                                                                ]
                                                                            },
                                                                            "configAlternates": {
                                                                                "designer|displayName": "string",
                                                                                "implHandler": "code"
                                                                            },
                                                                            "name": "displayTpl",
                                                                            "designerId": "e6b0e800-9fc9-49a8-9ddb-4d94376af447"
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.ComboBox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "autoLoadOnValue": true,
                                                                        "displayField": "packagetitle",
                                                                        "fieldLabel": "Gói thầu chuẩn",
                                                                        "maxWidth": 570,
                                                                        "minChars": 2,
                                                                        "name": "packagecate",
                                                                        "pageSize": 10,
                                                                        "reference": "packagecate",
                                                                        "store": [
                                                                            "{cates}"
                                                                        ],
                                                                        "value": [
                                                                            "{bindRecord.packagecate}"
                                                                        ],
                                                                        "valueField": "packagecate"
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "layout|flex": "number",
                                                                        "name": "string",
                                                                        "reference": "string",
                                                                        "value": "binding",
                                                                        "store": "binding",
                                                                        "displayField": "datafield",
                                                                        "valueField": "datafield",
                                                                        "maxWidth": "number",
                                                                        "allowBlank": "boolean",
                                                                        "autoLoadOnValue": "boolean",
                                                                        "minChars": "number",
                                                                        "matchFieldWidth": "boolean",
                                                                        "pageSize": "number"
                                                                    },
                                                                    "name": "MyComboBox136",
                                                                    "designerId": "e6fb7ac0-e851-4bef-b377-d4b30d71609b",
                                                                    "cn": [
                                                                        {
                                                                            "type": "Ext.view.BoundList",
                                                                            "reference": {
                                                                                "name": "listConfig",
                                                                                "type": "object"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "itemSelector": "div"
                                                                            },
                                                                            "configAlternates": {
                                                                                "itemSelector": "string"
                                                                            },
                                                                            "name": "MyBoundList16",
                                                                            "designerId": "2532d66b-e571-43bc-a143-bb81b70470c2",
                                                                            "cn": [
                                                                                {
                                                                                    "type": "Ext.XTemplate",
                                                                                    "reference": {
                                                                                        "name": "itemTpl",
                                                                                        "type": "object"
                                                                                    },
                                                                                    "codeClass": null,
                                                                                    "userConfig": {
                                                                                        "designer|displayName": "itemTpl",
                                                                                        "implHandler": [
                                                                                            "{packagecate} - {packagetitle}"
                                                                                        ]
                                                                                    },
                                                                                    "configAlternates": {
                                                                                        "designer|displayName": "string",
                                                                                        "implHandler": "code"
                                                                                    },
                                                                                    "name": "itemTpl",
                                                                                    "designerId": "1c6ad3eb-a0e4-4c14-9033-688c7dd792a2"
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "Ext.XTemplate",
                                                                            "reference": {
                                                                                "name": "displayTpl",
                                                                                "type": "object"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "designer|displayName": "displayTpl",
                                                                                "implHandler": [
                                                                                    "<tpl for=\".\">{packagecate} - {packagetitle}</tpl>"
                                                                                ]
                                                                            },
                                                                            "configAlternates": {
                                                                                "designer|displayName": "string",
                                                                                "implHandler": "code"
                                                                            },
                                                                            "name": "displayTpl",
                                                                            "designerId": "72646f8a-79e8-4593-ae2d-fce1842ddad0"
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.ComboBox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "autoLoadOnValue": true,
                                                                        "displayField": "costname",
                                                                        "fieldLabel": "Mã chi phí",
                                                                        "forceSelection": true,
                                                                        "matchFieldWidth": false,
                                                                        "maxWidth": 570,
                                                                        "minChars": 2,
                                                                        "pageSize": 10,
                                                                        "reference": "costcode",
                                                                        "store": [
                                                                            "{costcodes}"
                                                                        ],
                                                                        "value": [
                                                                            "{bindRecord.costcode}"
                                                                        ],
                                                                        "valueField": "costcode"
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "layout|flex": "number",
                                                                        "reference": "string",
                                                                        "name": "string",
                                                                        "maxWidth": "number",
                                                                        "value": "binding",
                                                                        "margin": "auto",
                                                                        "store": "binding",
                                                                        "autoLoadOnValue": "boolean",
                                                                        "displayField": "datafield",
                                                                        "pageSize": "number",
                                                                        "valueField": "datafield",
                                                                        "matchFieldWidth": "boolean",
                                                                        "minChars": "number",
                                                                        "forceSelection": "boolean",
                                                                        "flex": "number"
                                                                    },
                                                                    "name": "MyComboBox140",
                                                                    "designerId": "c4218d9f-d13e-403c-8c68-c4e01c445d3e",
                                                                    "cn": [
                                                                        {
                                                                            "type": "Ext.view.BoundList",
                                                                            "reference": {
                                                                                "name": "listConfig",
                                                                                "type": "object"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "itemSelector": "div"
                                                                            },
                                                                            "configAlternates": {
                                                                                "itemSelector": "string"
                                                                            },
                                                                            "name": "MyBoundList5",
                                                                            "designerId": "25ecff25-1891-417b-a153-f7cf1410a07f",
                                                                            "cn": [
                                                                                {
                                                                                    "type": "Ext.XTemplate",
                                                                                    "reference": {
                                                                                        "name": "itemTpl",
                                                                                        "type": "object"
                                                                                    },
                                                                                    "codeClass": null,
                                                                                    "userConfig": {
                                                                                        "designer|displayName": "itemTpl",
                                                                                        "implHandler": [
                                                                                            "{costcode} - {costname}"
                                                                                        ]
                                                                                    },
                                                                                    "configAlternates": {
                                                                                        "designer|displayName": "string",
                                                                                        "implHandler": "code"
                                                                                    },
                                                                                    "name": "itemTpl",
                                                                                    "designerId": "cabb1b91-960e-46c9-a716-9fead73da660"
                                                                                }
                                                                            ]
                                                                        },
                                                                        {
                                                                            "type": "Ext.XTemplate",
                                                                            "reference": {
                                                                                "name": "displayTpl",
                                                                                "type": "object"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "designer|displayName": "displayTpl",
                                                                                "implHandler": [
                                                                                    "<tpl for=\".\">{costcode} - {costname}</tpl>"
                                                                                ]
                                                                            },
                                                                            "configAlternates": {
                                                                                "designer|displayName": "string",
                                                                                "implHandler": "code"
                                                                            },
                                                                            "name": "displayTpl",
                                                                            "designerId": "b74034b1-1fcb-4cca-b6b6-a9c5b5034929"
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.Text",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Số gói thầu",
                                                                        "maxWidth": 570,
                                                                        "name": "packageno",
                                                                        "reference": "packageno",
                                                                        "value": [
                                                                            "{bindRecord.packageno}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "value": "binding",
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "reference": "string",
                                                                        "maxWidth": "number"
                                                                    },
                                                                    "name": "MyTextField69",
                                                                    "designerId": "3b2e0d30-6d3e-4327-9409-1c9a0064cd71"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.ComboBox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "autoLoadOnValue": true,
                                                                        "displayField": "name",
                                                                        "fieldLabel": "NV phụ trách",
                                                                        "forceSelection": true,
                                                                        "maxWidth": 570,
                                                                        "name": "pic",
                                                                        "pageSize": 10,
                                                                        "reference": "pic",
                                                                        "store": [
                                                                            "{employees}"
                                                                        ],
                                                                        "value": [
                                                                            "{bindRecord.pic}"
                                                                        ],
                                                                        "valueField": "employee"
                                                                    },
                                                                    "configAlternates": {
                                                                        "value": "binding",
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "reference": "string",
                                                                        "store": "binding",
                                                                        "maxWidth": "number",
                                                                        "displayField": "datafield",
                                                                        "valueField": "datafield",
                                                                        "autoLoadOnValue": "boolean",
                                                                        "matchFieldWidth": "boolean",
                                                                        "pageSize": "number",
                                                                        "forceSelection": "boolean"
                                                                    },
                                                                    "name": "MyComboBox62",
                                                                    "designerId": "5fdee1f6-8e3d-4e70-896b-32c906d2d119"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.ComboBox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "autoLoadOnValue": true,
                                                                        "displayField": "name",
                                                                        "fieldLabel": "NV giám sát",
                                                                        "forceSelection": true,
                                                                        "maxWidth": 570,
                                                                        "name": "supervisor",
                                                                        "pageSize": 10,
                                                                        "reference": "supervisor",
                                                                        "store": [
                                                                            "{supervisors}"
                                                                        ],
                                                                        "value": [
                                                                            "{bindRecord.supervisor}"
                                                                        ],
                                                                        "valueField": "employee"
                                                                    },
                                                                    "configAlternates": {
                                                                        "value": "binding",
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "reference": "string",
                                                                        "store": "binding",
                                                                        "maxWidth": "number",
                                                                        "autoLoadOnValue": "boolean",
                                                                        "matchFieldWidth": "boolean",
                                                                        "pageSize": "number",
                                                                        "displayField": "datafield",
                                                                        "forceSelection": "boolean",
                                                                        "valueField": "datafield"
                                                                    },
                                                                    "name": "MyComboBox63",
                                                                    "designerId": "7d4b32fe-8896-40a2-9e01-f657ef5bad04"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "Ext.form.FieldContainer",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "container|align": "stretch",
                                                                "flex": 1,
                                                                "layout": "vbox"
                                                            },
                                                            "configAlternates": {
                                                                "container|align": "string",
                                                                "flex": "number",
                                                                "layout": "string"
                                                            },
                                                            "name": "MyFieldContainer27",
                                                            "designerId": "b7060824-51dd-4229-8aca-7664565706a6",
                                                            "cn": [
                                                                {
                                                                    "type": "Ext.form.field.Checkbox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "designer|createAlias": "tvccheckbox",
                                                                        "fieldLabel": "Đã duyệt KL",
                                                                        "reference": "approvedqty",
                                                                        "value": [
                                                                            "{bindRecord.approvedqty}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "value": "binding",
                                                                        "fieldLabel": "string",
                                                                        "reference": "string",
                                                                        "designer|createAlias": "string"
                                                                    },
                                                                    "name": "MyCheckbox3",
                                                                    "designerId": "c4571968-91e6-438a-9102-1c9ac6255f91"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.Number",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "decimalPrecision": 0,
                                                                        "designer|createAlias": "mynumberfield",
                                                                        "disabled": true,
                                                                        "fieldLabel": "Tiền trước thuế",
                                                                        "fieldStyle": "text-align: right;",
                                                                        "hideTrigger": true,
                                                                        "labelWidth": 105,
                                                                        "maxWidth": 300,
                                                                        "name": "amount",
                                                                        "reference": "amount",
                                                                        "value": [
                                                                            "{bindRecord.amount}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "disabled": "boolean",
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "reference": "string",
                                                                        "hideTrigger": "boolean",
                                                                        "value": "binding",
                                                                        "designer|createAlias": "string",
                                                                        "fieldStyle": "string",
                                                                        "labelWidth": "number",
                                                                        "maxWidth": "number",
                                                                        "decimalPrecision": "number"
                                                                    },
                                                                    "name": "MyNumberField73",
                                                                    "designerId": "6a7fec89-9db7-4ab3-ba7d-97a6e9a7ca78"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.Number",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "decimalPrecision": 0,
                                                                        "designer|createAlias": "mynumberfield",
                                                                        "disabled": true,
                                                                        "fieldLabel": "Tiền thuế",
                                                                        "hideTrigger": true,
                                                                        "labelWidth": 105,
                                                                        "maxWidth": 300,
                                                                        "name": "vatamt",
                                                                        "reference": "vatamt",
                                                                        "value": [
                                                                            "{bindRecord.vatamt}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "layout|flex": "number",
                                                                        "value": "binding",
                                                                        "disabled": "boolean",
                                                                        "name": "string",
                                                                        "reference": "string",
                                                                        "hideTrigger": "boolean",
                                                                        "designer|createAlias": "string",
                                                                        "labelWidth": "number",
                                                                        "maxWidth": "number",
                                                                        "decimalPrecision": "number"
                                                                    },
                                                                    "name": "MyNumberField74",
                                                                    "designerId": "1d835f52-da38-4ff6-9f7a-e1adc13f316b"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.Number",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "decimalPrecision": 0,
                                                                        "designer|createAlias": "mynumberfield",
                                                                        "disabled": true,
                                                                        "fieldLabel": "Tổng tiền",
                                                                        "hideTrigger": true,
                                                                        "labelWidth": 105,
                                                                        "maxWidth": 300,
                                                                        "name": "totalamt",
                                                                        "reference": "totalamt",
                                                                        "value": [
                                                                            "{bindRecord.totalamt}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "layout|flex": "number",
                                                                        "value": "binding",
                                                                        "disabled": "boolean",
                                                                        "name": "string",
                                                                        "reference": "string",
                                                                        "hideTrigger": "boolean",
                                                                        "designer|createAlias": "string",
                                                                        "labelWidth": "number",
                                                                        "maxWidth": "number",
                                                                        "decimalPrecision": "number"
                                                                    },
                                                                    "name": "MyNumberField79",
                                                                    "designerId": "09b01716-dea3-49a0-bffa-a9388cd93221"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.Number",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "decimalPrecision": 0,
                                                                        "designer|createAlias": "mynumberfield",
                                                                        "fieldLabel": "Giá trị suất đầu tư",
                                                                        "labelWidth": 105,
                                                                        "maxWidth": 300,
                                                                        "name": "investmentamt",
                                                                        "reference": "investmentamt",
                                                                        "value": [
                                                                            "{bindRecord.investmentamt}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "layout|flex": "number",
                                                                        "value": "binding",
                                                                        "disabled": "boolean",
                                                                        "name": "string",
                                                                        "reference": "string",
                                                                        "hideTrigger": "boolean",
                                                                        "designer|createAlias": "string",
                                                                        "maxWidth": "number",
                                                                        "labelWidth": "number",
                                                                        "decimalPrecision": "number"
                                                                    },
                                                                    "name": "MyNumberField84",
                                                                    "designerId": "c1001fa1-434b-4625-a923-c8cbc93f7635"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "Ext.form.field.Text",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "fieldLabel": "Phạm vi CV",
                                                        "name": "packagedesc",
                                                        "reference": "packagedesc",
                                                        "value": [
                                                            "{bindRecord.packagedesc}"
                                                        ]
                                                    },
                                                    "configAlternates": {
                                                        "value": "binding",
                                                        "fieldLabel": "string",
                                                        "name": "string",
                                                        "reference": "string"
                                                    },
                                                    "name": "MyTextField73",
                                                    "designerId": "fe2968c1-f6bc-42e9-9cd6-d8cbfee6f1b5"
                                                },
                                                {
                                                    "type": "Ext.form.field.Tag",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "displayField": "blockname",
                                                        "fieldLabel": "Tòa nhà",
                                                        "maxWidth": 570,
                                                        "store": [
                                                            "{blks}"
                                                        ],
                                                        "value": [
                                                            "{bindRecord.allocString}"
                                                        ],
                                                        "valueField": "block"
                                                    },
                                                    "configAlternates": {
                                                        "fieldLabel": "string",
                                                        "layout|flex": "number",
                                                        "reference": "string",
                                                        "name": "string",
                                                        "maxWidth": "number",
                                                        "value": "binding",
                                                        "margin": "auto",
                                                        "store": "binding",
                                                        "displayField": "datafield",
                                                        "valueField": "datafield"
                                                    },
                                                    "name": "MyTagField1",
                                                    "designerId": "f9dd4b9e-70c5-41b3-b3ff-cfc2528485ad"
                                                },
                                                {
                                                    "type": "Ext.form.FieldContainer",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "container|align": "stretch",
                                                        "layout": "hbox"
                                                    },
                                                    "configAlternates": {
                                                        "container|align": "string",
                                                        "layout": "string"
                                                    },
                                                    "name": "MyFieldContainer35",
                                                    "designerId": "aa1e01b1-1dc4-4615-9f78-8c64979c263e",
                                                    "cn": [
                                                        {
                                                            "type": "Ext.form.field.Date",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fieldLabel": "Ngày đến hạn",
                                                                "maxWidth": 240,
                                                                "name": "requireddate",
                                                                "reference": "requireddate",
                                                                "value": [
                                                                    "{bindRecord.requireddate}"
                                                                ]
                                                            },
                                                            "configAlternates": {
                                                                "value": "binding",
                                                                "fieldLabel": "string",
                                                                "name": "string",
                                                                "reference": "string",
                                                                "maxWidth": "number"
                                                            },
                                                            "name": "MyDateField21",
                                                            "designerId": "9fbbf3ec-2e3c-47f8-8514-0ab565a81913",
                                                            "cn": [
                                                                {
                                                                    "type": "viewcontrollereventbinding",
                                                                    "reference": {
                                                                        "name": "listeners",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fn": "onRequiredateBlur",
                                                                        "implHandler": [
                                                                            "var me = this,",
                                                                            "    vm = me.getViewModel(),",
                                                                            "    asigndate = me.lookupReference('asigndate'),",
                                                                            "    expirydate = me.lookupReference('expirydate');",
                                                                            "asigndate.setMinValue(component.value);",
                                                                            "expirydate.setMinValue(component.value);"
                                                                        ],
                                                                        "name": "blur",
                                                                        "scope": "me"
                                                                    },
                                                                    "configAlternates": {
                                                                        "fn": "string",
                                                                        "implHandler": "code",
                                                                        "name": "string",
                                                                        "scope": "string"
                                                                    },
                                                                    "name": "onRequiredateBlur",
                                                                    "designerId": "bf6854bb-0f36-4a04-bc44-893547bb3182"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "Ext.form.field.Date",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fieldLabel": "Ngày hết hạn",
                                                                "maxWidth": 240,
                                                                "name": "expirydate",
                                                                "reference": "expirydate",
                                                                "value": [
                                                                    "{bindRecord.expirydate}"
                                                                ]
                                                            },
                                                            "configAlternates": {
                                                                "fieldLabel": "string",
                                                                "value": "binding",
                                                                "name": "string",
                                                                "reference": "string",
                                                                "maxWidth": "number",
                                                                "margin": "auto"
                                                            },
                                                            "name": "MyDateField22",
                                                            "designerId": "28167748-c044-41b5-aa2e-4da0810543fe",
                                                            "cn": [
                                                                {
                                                                    "type": "viewcontrollereventbinding",
                                                                    "reference": {
                                                                        "name": "listeners",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fn": "onExpiryBlur",
                                                                        "implHandler": [
                                                                            "var me = this,",
                                                                            "    vm = me.getViewModel(),",
                                                                            "    requireddate = me.lookupReference('requireddate');",
                                                                            "requireddate.setMaxValue(component.value);"
                                                                        ],
                                                                        "name": "blur",
                                                                        "scope": "me"
                                                                    },
                                                                    "configAlternates": {
                                                                        "fn": "string",
                                                                        "implHandler": "code",
                                                                        "name": "string",
                                                                        "scope": "string"
                                                                    },
                                                                    "name": "onExpiryBlur",
                                                                    "designerId": "b50040a2-d4cd-4ea3-b44e-defc8ea2a8fd"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "Ext.form.field.Date",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fieldLabel": "Ngày bàn giao",
                                                                "maxWidth": 240,
                                                                "name": "asigndate",
                                                                "reference": "asigndate",
                                                                "value": [
                                                                    "{bindRecord.asigndate}"
                                                                ]
                                                            },
                                                            "configAlternates": {
                                                                "fieldLabel": "string",
                                                                "value": "binding",
                                                                "name": "string",
                                                                "reference": "string",
                                                                "maxWidth": "number",
                                                                "margin": "auto"
                                                            },
                                                            "name": "MyDateField23",
                                                            "designerId": "db87e6e3-a139-411c-9efe-7ed2fd1a3912",
                                                            "cn": [
                                                                {
                                                                    "type": "viewcontrollereventbinding",
                                                                    "reference": {
                                                                        "name": "listeners",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fn": "onAsigndateBlur",
                                                                        "implHandler": [
                                                                            "var me = this,",
                                                                            "    vm = me.getViewModel(),",
                                                                            "    requireddate = me.lookupReference('requireddate');",
                                                                            "requireddate.setMaxValue(component.value);"
                                                                        ],
                                                                        "name": "blur",
                                                                        "scope": "me"
                                                                    },
                                                                    "configAlternates": {
                                                                        "fn": "string",
                                                                        "implHandler": "code",
                                                                        "name": "string",
                                                                        "scope": "string"
                                                                    },
                                                                    "name": "onAsigndateBlur",
                                                                    "designerId": "892a4250-40c9-4145-af36-5792ca099cd1"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "Ext.form.field.TextArea",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "fieldLabel": "Ghi chú",
                                                        "name": "approvednote",
                                                        "reference": "approvednote",
                                                        "value": [
                                                            "{bindRecord.approvednote}"
                                                        ]
                                                    },
                                                    "configAlternates": {
                                                        "value": "binding",
                                                        "fieldLabel": "string",
                                                        "name": "string",
                                                        "reference": "string"
                                                    },
                                                    "name": "MyTextArea4",
                                                    "designerId": "f2c9afaa-e84e-4751-a7f2-9f8958a813e9"
                                                },
                                                {
                                                    "type": "Ext.form.field.TextArea",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "fieldLabel": "Ghi chú hủy",
                                                        "name": "cancelremarks",
                                                        "reference": "cancelremarks",
                                                        "value": [
                                                            "{bindRecord.cancelremarks}"
                                                        ]
                                                    },
                                                    "configAlternates": {
                                                        "value": "binding",
                                                        "fieldLabel": "string",
                                                        "name": "string",
                                                        "reference": "string"
                                                    },
                                                    "name": "MyTextArea19",
                                                    "designerId": "3bba5773-adde-47ee-96bd-bb00630f1e2f"
                                                },
                                                {
                                                    "type": "Ext.form.FieldSet",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "border": false,
                                                        "collapsible": true,
                                                        "container|align": "stretch",
                                                        "layout": "hbox",
                                                        "style": "background-color: #fff",
                                                        "title": "Thông tin phân tích"
                                                    },
                                                    "configAlternates": {
                                                        "border": "auto",
                                                        "collapsed": "boolean",
                                                        "collapsible": "boolean",
                                                        "container|align": "string",
                                                        "layout": "string",
                                                        "style": "string",
                                                        "title": "string"
                                                    },
                                                    "name": "MyFieldSet12",
                                                    "designerId": "bd02bd0b-112c-4dc3-b427-179b81d8ce13",
                                                    "cn": [
                                                        {
                                                            "type": "Ext.container.Container",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "container|align": "stretch",
                                                                "flex": 0.5,
                                                                "layout": "vbox",
                                                                "margin": "0 5 0 0"
                                                            },
                                                            "configAlternates": {
                                                                "container|align": "string",
                                                                "flex": "number",
                                                                "layout": "string",
                                                                "margin": "auto"
                                                            },
                                                            "name": "MyContainer13",
                                                            "designerId": "7db60143-085d-4153-b88b-972d086d0bfc",
                                                            "cn": [
                                                                {
                                                                    "type": "Ext.form.field.ComboBox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Label",
                                                                        "name": "anal_cpk0",
                                                                        "value": [
                                                                            "{bindRecord.anal_cpk0}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "value": "binding"
                                                                    },
                                                                    "name": "MyComboBox47",
                                                                    "designerId": "1a4c8449-4345-4dd0-9369-e5c9e63eb0af"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.ComboBox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Label",
                                                                        "name": "anal_cpk1",
                                                                        "value": [
                                                                            "{bindRecord.anal_cpk1}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "value": "binding"
                                                                    },
                                                                    "name": "MyComboBox48",
                                                                    "designerId": "2a673cb7-4044-450e-9a20-ff2cac0c64ae"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.ComboBox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Label",
                                                                        "name": "anal_cpk2",
                                                                        "value": [
                                                                            "{bindRecord.anal_cpk2}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "value": "binding"
                                                                    },
                                                                    "name": "MyComboBox49",
                                                                    "designerId": "5db1de0a-3a67-4438-9fa6-7adcce6c699a"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.ComboBox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Label",
                                                                        "name": "anal_cpk3",
                                                                        "value": [
                                                                            "{bindRecord.anal_cpk3}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "value": "binding"
                                                                    },
                                                                    "name": "MyComboBox52",
                                                                    "designerId": "184aba50-3317-4d2e-82bd-fb6f652c65f4"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.ComboBox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Label",
                                                                        "name": "anal_cpk4",
                                                                        "value": [
                                                                            "{bindRecord.anal_cpk4}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "value": "binding"
                                                                    },
                                                                    "name": "MyComboBox53",
                                                                    "designerId": "e38e4d31-8a0e-44e5-af0c-1fe52f03f263"
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "Ext.container.Container",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "container|align": "stretch",
                                                                "flex": 0.5,
                                                                "layout": "vbox"
                                                            },
                                                            "configAlternates": {
                                                                "container|align": "string",
                                                                "flex": "number",
                                                                "layout": "string"
                                                            },
                                                            "name": "MyContainer14",
                                                            "designerId": "965065f7-23e9-4753-9fc4-f046931671c7",
                                                            "cn": [
                                                                {
                                                                    "type": "Ext.form.field.ComboBox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Label",
                                                                        "name": "anal_cpk5",
                                                                        "value": [
                                                                            "{bindRecord.anal_cpk5}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "value": "binding"
                                                                    },
                                                                    "name": "MyComboBox47",
                                                                    "designerId": "811a158d-7d8d-44b5-93d9-956c2061dc49"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.ComboBox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Label",
                                                                        "name": "anal_cpk6",
                                                                        "value": [
                                                                            "{bindRecord.anal_cpk6}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "value": "binding"
                                                                    },
                                                                    "name": "MyComboBox48",
                                                                    "designerId": "f158bfb7-bac5-429d-896e-73add0d13672"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.ComboBox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Label",
                                                                        "name": "anal_cpk7",
                                                                        "value": [
                                                                            "{bindRecord.anal_cpk7}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "value": "binding"
                                                                    },
                                                                    "name": "MyComboBox49",
                                                                    "designerId": "ae6087fd-e726-4908-9ccb-3716e8fc3f76"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.ComboBox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Label",
                                                                        "name": "anal_cpk8",
                                                                        "value": [
                                                                            "{bindRecord.anal_cpk8}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "value": "binding"
                                                                    },
                                                                    "name": "MyComboBox52",
                                                                    "designerId": "ed7838f9-5deb-4f76-8da3-d825d37d485e"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.ComboBox",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Label",
                                                                        "name": "anal_cpk9",
                                                                        "value": [
                                                                            "{bindRecord.anal_cpk9}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "value": "binding"
                                                                    },
                                                                    "name": "MyComboBox53",
                                                                    "designerId": "abdb6e8c-382c-404a-9d9b-5c4b7a307bd6"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "Ext.form.FieldSet",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "border": false,
                                                        "collapsible": true,
                                                        "container|align": "stretch",
                                                        "layout": "vbox",
                                                        "style": "background-color: #fff",
                                                        "title": "Thông tin mở rộng"
                                                    },
                                                    "configAlternates": {
                                                        "border": "auto",
                                                        "collapsible": "boolean",
                                                        "style": "string",
                                                        "title": "string",
                                                        "collapsed": "boolean",
                                                        "container|align": "string",
                                                        "layout": "string"
                                                    },
                                                    "name": "MyFieldSet13",
                                                    "designerId": "5505e91a-a475-4eb2-98a9-07846bc93066",
                                                    "cn": [
                                                        {
                                                            "type": "Ext.form.FieldContainer",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "container|align": "stretch",
                                                                "layout": "hbox"
                                                            },
                                                            "configAlternates": {
                                                                "container|align": "string",
                                                                "layout": "string"
                                                            },
                                                            "name": "MyFieldContainer34",
                                                            "designerId": "0866f579-91e8-4103-b718-530b9e0dd588",
                                                            "cn": [
                                                                {
                                                                    "type": "Ext.container.Container",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "container|align": "stretch",
                                                                        "flex": 0.2,
                                                                        "layout": "vbox",
                                                                        "margin": "0 5 0 0"
                                                                    },
                                                                    "configAlternates": {
                                                                        "container|align": "string",
                                                                        "flex": "number",
                                                                        "layout": "string",
                                                                        "margin": "auto"
                                                                    },
                                                                    "name": "MyContainer15",
                                                                    "designerId": "3e3a271c-a57f-4ede-9e6f-0ce74bad89ea",
                                                                    "cn": [
                                                                        {
                                                                            "type": "Ext.form.field.Text",
                                                                            "reference": {
                                                                                "name": "items",
                                                                                "type": "array"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "fieldLabel": "Label",
                                                                                "name": "extreference1",
                                                                                "value": [
                                                                                    "{bindRecord.extreference1}"
                                                                                ]
                                                                            },
                                                                            "configAlternates": {
                                                                                "fieldLabel": "string",
                                                                                "name": "string",
                                                                                "value": "binding"
                                                                            },
                                                                            "name": "MyTextField88",
                                                                            "designerId": "b3dc8ee8-955b-4b25-b372-2f31a7fb0cfc"
                                                                        },
                                                                        {
                                                                            "type": "Ext.form.field.Text",
                                                                            "reference": {
                                                                                "name": "items",
                                                                                "type": "array"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "fieldLabel": "Label",
                                                                                "name": "extreference2",
                                                                                "value": [
                                                                                    "{bindRecord.extreference2}"
                                                                                ]
                                                                            },
                                                                            "configAlternates": {
                                                                                "fieldLabel": "string",
                                                                                "name": "string",
                                                                                "value": "binding"
                                                                            },
                                                                            "name": "MyTextField91",
                                                                            "designerId": "e16e6094-b9cc-4a90-b29a-664671c68baf"
                                                                        },
                                                                        {
                                                                            "type": "Ext.form.field.Text",
                                                                            "reference": {
                                                                                "name": "items",
                                                                                "type": "array"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "fieldLabel": "Label",
                                                                                "name": "extreference3",
                                                                                "value": [
                                                                                    "{bindRecord.extreference3}"
                                                                                ]
                                                                            },
                                                                            "configAlternates": {
                                                                                "fieldLabel": "string",
                                                                                "name": "string",
                                                                                "value": "binding"
                                                                            },
                                                                            "name": "MyTextField90",
                                                                            "designerId": "5613b43d-105c-4fee-906b-79fc4223fc63"
                                                                        },
                                                                        {
                                                                            "type": "Ext.form.field.Text",
                                                                            "reference": {
                                                                                "name": "items",
                                                                                "type": "array"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "fieldLabel": "Label",
                                                                                "name": "extreference4",
                                                                                "value": [
                                                                                    "{bindRecord.extreference4}"
                                                                                ]
                                                                            },
                                                                            "configAlternates": {
                                                                                "fieldLabel": "string",
                                                                                "name": "string",
                                                                                "value": "binding"
                                                                            },
                                                                            "name": "MyTextField89",
                                                                            "designerId": "f0dacb6b-d73c-4295-ab18-fd682a5bf5e0"
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "Ext.container.Container",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "container|align": "stretch",
                                                                        "flex": 0.2,
                                                                        "layout": "vbox",
                                                                        "margin": "0 5 0 0"
                                                                    },
                                                                    "configAlternates": {
                                                                        "container|align": "string",
                                                                        "flex": "number",
                                                                        "layout": "string",
                                                                        "margin": "auto"
                                                                    },
                                                                    "name": "MyContainer16",
                                                                    "designerId": "8e03297a-914e-42ad-b4e3-8dbb9cf54964",
                                                                    "cn": [
                                                                        {
                                                                            "type": "Ext.form.field.Date",
                                                                            "reference": {
                                                                                "name": "items",
                                                                                "type": "array"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "fieldLabel": "Label",
                                                                                "name": "extdate1",
                                                                                "value": [
                                                                                    "{bindRecord.extdate1}"
                                                                                ]
                                                                            },
                                                                            "configAlternates": {
                                                                                "fieldLabel": "string",
                                                                                "name": "string",
                                                                                "value": "binding"
                                                                            },
                                                                            "name": "MyDateField13",
                                                                            "designerId": "136ea60b-5db5-4b25-ad41-64ec2fffcdfe"
                                                                        },
                                                                        {
                                                                            "type": "Ext.form.field.Date",
                                                                            "reference": {
                                                                                "name": "items",
                                                                                "type": "array"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "fieldLabel": "Label",
                                                                                "name": "extdate2",
                                                                                "value": [
                                                                                    "{bindRecord.extdate2}"
                                                                                ]
                                                                            },
                                                                            "configAlternates": {
                                                                                "fieldLabel": "string",
                                                                                "name": "string",
                                                                                "value": "binding"
                                                                            },
                                                                            "name": "MyDateField14",
                                                                            "designerId": "8e2e7515-9e50-48a8-af95-cf727ab681cf"
                                                                        },
                                                                        {
                                                                            "type": "Ext.form.field.Date",
                                                                            "reference": {
                                                                                "name": "items",
                                                                                "type": "array"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "fieldLabel": "Label",
                                                                                "name": "extdate3",
                                                                                "value": [
                                                                                    "{bindRecord.extdate3}"
                                                                                ]
                                                                            },
                                                                            "configAlternates": {
                                                                                "fieldLabel": "string",
                                                                                "name": "string",
                                                                                "value": "binding"
                                                                            },
                                                                            "name": "MyDateField15",
                                                                            "designerId": "6cf4b767-4f44-45ff-a93c-eb25946782ad"
                                                                        },
                                                                        {
                                                                            "type": "Ext.form.field.Date",
                                                                            "reference": {
                                                                                "name": "items",
                                                                                "type": "array"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "fieldLabel": "Label",
                                                                                "name": "extdate4",
                                                                                "value": [
                                                                                    "{bindRecord.extdate4}"
                                                                                ]
                                                                            },
                                                                            "configAlternates": {
                                                                                "fieldLabel": "string",
                                                                                "name": "string",
                                                                                "value": "binding"
                                                                            },
                                                                            "name": "MyDateField16",
                                                                            "designerId": "f16c3e44-7ffa-4e10-984b-c51551021d33"
                                                                        }
                                                                    ]
                                                                },
                                                                {
                                                                    "type": "Ext.container.Container",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "container|align": "stretch",
                                                                        "flex": 0.2,
                                                                        "layout": "vbox",
                                                                        "margin": "0 5 0 0"
                                                                    },
                                                                    "configAlternates": {
                                                                        "flex": "number",
                                                                        "container|align": "string",
                                                                        "layout": "string",
                                                                        "margin": "auto"
                                                                    },
                                                                    "name": "MyContainer17",
                                                                    "designerId": "007f5800-230b-415d-9d71-f3a9be9be6f9",
                                                                    "cn": [
                                                                        {
                                                                            "type": "Ext.form.field.Number",
                                                                            "reference": {
                                                                                "name": "items",
                                                                                "type": "array"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "fieldLabel": "Label",
                                                                                "name": "extnumber1",
                                                                                "value": [
                                                                                    "{bindRecord.extnumber1}"
                                                                                ]
                                                                            },
                                                                            "configAlternates": {
                                                                                "fieldLabel": "string",
                                                                                "name": "string",
                                                                                "value": "binding"
                                                                            },
                                                                            "name": "MyNumberField33",
                                                                            "designerId": "d21120cc-92cc-4595-98fc-2fe1c08a9cfc"
                                                                        },
                                                                        {
                                                                            "type": "Ext.form.field.Number",
                                                                            "reference": {
                                                                                "name": "items",
                                                                                "type": "array"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "fieldLabel": "Label",
                                                                                "name": "extnumber2",
                                                                                "value": [
                                                                                    "{bindRecord.extnumber2}"
                                                                                ]
                                                                            },
                                                                            "configAlternates": {
                                                                                "fieldLabel": "string",
                                                                                "name": "string",
                                                                                "value": "binding"
                                                                            },
                                                                            "name": "MyNumberField34",
                                                                            "designerId": "3900bdbb-ec50-4617-82f6-2e90c725cac9"
                                                                        },
                                                                        {
                                                                            "type": "Ext.form.field.Number",
                                                                            "reference": {
                                                                                "name": "items",
                                                                                "type": "array"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "fieldLabel": "Label",
                                                                                "name": "extnumber3",
                                                                                "value": [
                                                                                    "{bindRecord.extnumber3}"
                                                                                ]
                                                                            },
                                                                            "configAlternates": {
                                                                                "fieldLabel": "string",
                                                                                "name": "string",
                                                                                "value": "binding"
                                                                            },
                                                                            "name": "MyNumberField35",
                                                                            "designerId": "65f44dce-1b84-41f8-8a77-97db160874c3"
                                                                        },
                                                                        {
                                                                            "type": "Ext.form.field.Number",
                                                                            "reference": {
                                                                                "name": "items",
                                                                                "type": "array"
                                                                            },
                                                                            "codeClass": null,
                                                                            "userConfig": {
                                                                                "fieldLabel": "Label",
                                                                                "name": "extnumber4",
                                                                                "value": [
                                                                                    "{bindRecord.extnumber4}"
                                                                                ]
                                                                            },
                                                                            "configAlternates": {
                                                                                "fieldLabel": "string",
                                                                                "name": "string",
                                                                                "value": "binding"
                                                                            },
                                                                            "name": "MyNumberField36",
                                                                            "designerId": "f5d003bb-6251-4a31-9bf4-c6b2829c346e"
                                                                        }
                                                                    ]
                                                                }
                                                            ]
                                                        },
                                                        {
                                                            "type": "Ext.container.Container",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "container|align": "stretch",
                                                                "flex": 0.4,
                                                                "layout": "vbox"
                                                            },
                                                            "configAlternates": {
                                                                "flex": "number",
                                                                "container|align": "string",
                                                                "layout": "string"
                                                            },
                                                            "name": "MyContainer20",
                                                            "designerId": "80afec56-b828-4fd1-93f2-02d6e3f2be71",
                                                            "cn": [
                                                                {
                                                                    "type": "Ext.form.field.Text",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Label",
                                                                        "name": "extdescription1",
                                                                        "value": [
                                                                            "{bindRecord.extdescription1}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "value": "binding"
                                                                    },
                                                                    "name": "MyTextField21",
                                                                    "designerId": "bf1dd4fe-31a7-45aa-a542-f711e7624381"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.Text",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Label",
                                                                        "name": "extdescription2",
                                                                        "value": [
                                                                            "{bindRecord.extdescription2}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "value": "binding"
                                                                    },
                                                                    "name": "MyTextField116",
                                                                    "designerId": "18441341-c967-4b2b-93ce-ebb03f070fef"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.Text",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Label",
                                                                        "name": "extdescription3",
                                                                        "value": [
                                                                            "{bindRecord.extdescription3}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "value": "binding"
                                                                    },
                                                                    "name": "MyTextField117",
                                                                    "designerId": "af6c23f3-c958-4c2f-850a-7865df1dec44"
                                                                },
                                                                {
                                                                    "type": "Ext.form.field.Text",
                                                                    "reference": {
                                                                        "name": "items",
                                                                        "type": "array"
                                                                    },
                                                                    "codeClass": null,
                                                                    "userConfig": {
                                                                        "fieldLabel": "Label",
                                                                        "name": "extdescription4",
                                                                        "value": [
                                                                            "{bindRecord.extdescription4}"
                                                                        ]
                                                                    },
                                                                    "configAlternates": {
                                                                        "fieldLabel": "string",
                                                                        "name": "string",
                                                                        "value": "binding"
                                                                    },
                                                                    "name": "MyTextField120",
                                                                    "designerId": "e816b697-cf26-44a2-ad9b-2f858ed84777"
                                                                }
                                                            ]
                                                        }
                                                    ]
                                                }
                                            ]
                                        }
                                    ]
                                },
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onInfoActivate",
                                        "implHandler": [
                                            "var me = this,",
                                            "    v = me.getView(),",
                                            "    vm = me.getViewModel(),",
                                            "    main = v.up('maincontainer');",
                                            "if (!main.projectRecord) return;",
                                            "if(vm.get('bindRecord.approvedqty') == 'N') me.lookupReference('approvedqty').setValue('N');"
                                        ],
                                        "name": "activate",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onInfoActivate",
                                    "designerId": "8bef43a3-bf86-4d8c-a6ed-330e275e0410"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "api": [
                                    "{",
                                    "submit: 'FrmCpPackage.previewPKE'",
                                    "}"
                                ],
                                "layout": "fit",
                                "reference": "frmitem",
                                "title": "Chi tiết hạng mục"
                            },
                            "configAlternates": {
                                "title": "string",
                                "scrollable": "auto",
                                "layout": "string",
                                "api": "object",
                                "reference": "string"
                            },
                            "name": "MyForm53",
                            "designerId": "90c9a5e1-adb0-4e0b-8593-8a460f1aa262",
                            "cn": [
                                {
                                    "type": "Ext.grid.Panel",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "enableLocking": true,
                                        "flex": 1,
                                        "lockText": "Khóa",
                                        "reference": "griditem",
                                        "store": [
                                            "{items}"
                                        ],
                                        "unlockText": "Mở"
                                    },
                                    "configAlternates": {
                                        "store": "binding",
                                        "reference": "string",
                                        "scrollable": "auto",
                                        "enableLocking": "boolean",
                                        "lockText": "string",
                                        "unlockText": "string",
                                        "flex": "number"
                                    },
                                    "name": "MyGridPanel9",
                                    "designerId": "a524bf65-d583-4d0b-b3d1-86cf95718235",
                                    "cn": [
                                        {
                                            "type": "Ext.grid.column.Action",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "width": 46
                                            },
                                            "configAlternates": {
                                                "width": "auto"
                                            },
                                            "name": "MyActionColumn12",
                                            "designerId": "e49d497e-f743-44b1-a8f4-8ee803b552aa",
                                            "cn": [
                                                {
                                                    "type": "actioncolumnitem",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "iconCls": "x-fa fa-trash"
                                                    },
                                                    "configAlternates": {
                                                        "iconCls": "string",
                                                        "glyph": "string"
                                                    },
                                                    "name": "MyActionColumnItem5",
                                                    "designerId": "c45f8a6e-7c9c-457a-bb0c-f39d8f7d0685",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "glyph",
                                                            "type": "string"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "fixedfunction",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "designer|params": [
                                                                    "view",
                                                                    "rowIndex",
                                                                    "colIndex",
                                                                    "item",
                                                                    "e",
                                                                    "record",
                                                                    "row"
                                                                ],
                                                                "fn": "handler",
                                                                "implHandler": [
                                                                    "",
                                                                    "view.getStore('items').remove(record);"
                                                                ]
                                                            },
                                                            "configAlternates": {
                                                                "designer|params": "typedarray",
                                                                "fn": "string",
                                                                "implHandler": "code"
                                                            },
                                                            "name": "handler",
                                                            "designerId": "7fd2fdd7-6b1c-4ad8-ad33-bda44c0bd204"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "actioncolumnitem",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "iconCls": "x-fa fa-pencil"
                                                    },
                                                    "configAlternates": {
                                                        "iconCls": "string",
                                                        "glyph": "string"
                                                    },
                                                    "name": "MyActionColumnItem20",
                                                    "designerId": "0a668558-5767-4cd9-8a67-e0e2c3608247",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "glyph",
                                                            "type": "string"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "fixedfunction",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "designer|params": [
                                                                    "view",
                                                                    "rowIndex",
                                                                    "colIndex",
                                                                    "item",
                                                                    "e",
                                                                    "record",
                                                                    "row"
                                                                ],
                                                                "designer|viewControllerFn": "itemCateEditClick",
                                                                "fn": "handler",
                                                                "implHandler": [
                                                                    "var me\t= this,",
                                                                    "    vm\t= me.getViewModel(),",
                                                                    "    v\t= me.getView(),",
                                                                    "    st\t= vm.getStore('items'),",
                                                                    "    grid= me.lookupReference('griditem'),",
                                                                    "    main\t= v.up('maincontainer'),",
                                                                    "    nRec= record,",
                                                                    "    wd;",
                                                                    "",
                                                                    "if (nRec) {",
                                                                    "    wd = Ext.create('tavico.view.WdCpPackageitem', {",
                                                                    "        title: vm.get('bindRecord.packagetitle') + ' - Hạng mục CV',",
                                                                    "        bindRecord: nRec.copy()",
                                                                    "    });",
                                                                    "    if(vm.get('bindRecord.status')==='Q'){",
                                                                    "        Ext.Array.each(wd.down('form').query('field'),function(field){",
                                                                    "            field.setReadOnly(true);",
                                                                    "        });",
                                                                    "        wd.lookupReference('materialprice').setReadOnly(false);",
                                                                    "        wd.lookupReference('serviceprice').setReadOnly(false);",
                                                                    "        wd.lookupReference('materialvalue').setReadOnly(false);",
                                                                    "        wd.lookupReference('servicevalue').setReadOnly(false);",
                                                                    "        wd.lookupReference('vatcode').setReadOnly(false);",
                                                                    "        wd.lookupReference('vatamt').setReadOnly(false);",
                                                                    "        wd.lookupReference('totalamt').setReadOnly(false);",
                                                                    "        wd.lookupReference('comments').setReadOnly(false);",
                                                                    "    }",
                                                                    "    wd.on('successCallback', function(r) {",
                                                                    "        var d\t= r.getData(),",
                                                                    "            rec\t = vm.get('bindRecord'),",
                                                                    "",
                                                                    "            amount\t= 0,",
                                                                    "            discount\t= 0,",
                                                                    "            vatamt\t= 0,",
                                                                    "            totalamt= 0;",
                                                                    "",
                                                                    "        delete d.id;",
                                                                    "        nRec.set(d);",
                                                                    "",
                                                                    "        st.each(function(r) {",
                                                                    "            amount += r.get('materialvalue') + r.get('servicevalue');",
                                                                    "            discount += r.get('discount');",
                                                                    "            vatamt += r.get('vatamt');",
                                                                    "            totalamt += r.get('totalamt');",
                                                                    "        });",
                                                                    "        rec.set('amount', amount);",
                                                                    "        rec.set('discount', discount);",
                                                                    "        rec.set('vatamt', vatamt);",
                                                                    "        rec.set('totalamt', totalamt);",
                                                                    "    });",
                                                                    "    wd.show();",
                                                                    "}"
                                                                ]
                                                            },
                                                            "configAlternates": {
                                                                "designer|params": "typedarray",
                                                                "fn": "string",
                                                                "implHandler": "code",
                                                                "designer|viewControllerFn": "string"
                                                            },
                                                            "name": "handler",
                                                            "designerId": "ddc8d92e-ef4b-4ecd-9924-b4e92312aeae"
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "itemcate",
                                                "itemId": "itemcate",
                                                "lockable": true,
                                                "text": "Mã hạng mục",
                                                "width": 110
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "itemId": "string",
                                                "lockable": "boolean"
                                            },
                                            "name": "MyColumn27",
                                            "designerId": "fe9838e2-213d-43c5-84cd-3d32e520567e"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "itemdesc",
                                                "lockable": true,
                                                "text": "Nội dung",
                                                "width": 200
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "lockable": "boolean"
                                            },
                                            "name": "MyColumn28",
                                            "designerId": "1333ee17-15a7-4c1c-b1af-0d1901767b07"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "locdesc",
                                                "lockable": true,
                                                "text": "Vị trí - khu vực",
                                                "width": 200
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "lockable": "boolean"
                                            },
                                            "name": "MyColumn18",
                                            "designerId": "b3c4cbfa-37ef-47ba-a5fc-68bc085a19fe"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "unit",
                                                "lockable": true,
                                                "text": "Đơn vị",
                                                "width": 110
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "lockable": "boolean"
                                            },
                                            "name": "MyColumn53",
                                            "designerId": "3daad715-f57a-430b-92ec-f170ba185004"
                                        },
                                        {
                                            "type": "Ext.grid.column.Number",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "quantity",
                                                "text": "Số lượng",
                                                "width": 80
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto"
                                            },
                                            "name": "MyNumberColumn7",
                                            "designerId": "b10c4fb1-bb34-4d30-99ed-d83684af866a"
                                        },
                                        {
                                            "type": "Ext.grid.column.Number",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "materialprice",
                                                "text": "Đơn giá vật tư",
                                                "width": 110
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto"
                                            },
                                            "name": "MyNumberColumn76",
                                            "designerId": "bc2950a9-fb42-4bc9-8e72-f4c7e0638245"
                                        },
                                        {
                                            "type": "Ext.grid.column.Number",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "serviceprice",
                                                "text": "ĐG nhân công",
                                                "width": 110
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto"
                                            },
                                            "name": "MyNumberColumn77",
                                            "designerId": "35022631-0604-45a3-8b23-511ccdc0e1a2"
                                        },
                                        {
                                            "type": "Ext.grid.column.Number",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "materialvalue",
                                                "format": "0,000",
                                                "text": "Thành tiền vật tư",
                                                "width": 130
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "format": "string"
                                            },
                                            "name": "MyNumberColumn78",
                                            "designerId": "8db1015d-adca-4d77-ba7d-d9aaa689f679"
                                        },
                                        {
                                            "type": "Ext.grid.column.Number",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "servicevalue",
                                                "format": "0,000",
                                                "text": "Thành tiền nhân công",
                                                "width": 158
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "format": "string"
                                            },
                                            "name": "MyNumberColumn79",
                                            "designerId": "3d734fa0-7cb5-44dc-a866-0917b40a8d67"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "vatcode",
                                                "text": "Mã thuế VAT",
                                                "width": 110
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto"
                                            },
                                            "name": "MyColumn61",
                                            "designerId": "4dc1cc42-6bd0-449c-be68-b7151e07a7e1"
                                        },
                                        {
                                            "type": "Ext.grid.column.Number",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "totalamt",
                                                "format": "0,000",
                                                "text": "Tổng cộng",
                                                "width": 110
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "format": "string"
                                            },
                                            "name": "MyNumberColumn49",
                                            "designerId": "88084f0e-e952-42e8-b45c-a6868353ff3c"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "status",
                                                "text": "Trạng thái",
                                                "width": 110
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto"
                                            },
                                            "name": "MyColumn63",
                                            "designerId": "80b0d075-e4b0-4321-b5b6-aac521a590cd",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "value",
                                                            "metaData",
                                                            "record",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store",
                                                            "view"
                                                        ],
                                                        "fn": "renderer",
                                                        "implHandler": [
                                                            "var text;",
                                                            "if(value === 'W') text = 'Đang hoạt động';",
                                                            "else if(value === 'X') text = 'Hủy';",
                                                            "return text;"
                                                        ]
                                                    },
                                                    "configAlternates": {
                                                        "designer|params": "typedarray",
                                                        "fn": "string",
                                                        "implHandler": "code"
                                                    },
                                                    "name": "renderer",
                                                    "designerId": "c28efd04-91a1-456b-84d2-3e7d477e8e72"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.view.Table",
                                            "reference": {
                                                "name": "viewConfig",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "name": "MyTable8",
                                            "designerId": "5884ace7-219d-42c5-bff6-762ffd5e1dae"
                                        },
                                        {
                                            "type": "Ext.toolbar.Toolbar",
                                            "reference": {
                                                "name": "dockedItems",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dock": "top",
                                                "padding": 0
                                            },
                                            "configAlternates": {
                                                "dock": "string",
                                                "padding": "auto"
                                            },
                                            "name": "MyToolbar25",
                                            "designerId": "2f98d496-5e95-4522-985d-503ca5440fae",
                                            "cn": [
                                                {
                                                    "type": "Ext.button.Button",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|uiInterfaceName": "plain-toolbar-small",
                                                        "iconCls": "x-fa fa-plus",
                                                        "isEdit": true,
                                                        "layout|flex": null,
                                                        "text": "Thêm",
                                                        "ui": "plain-toolbar-small"
                                                    },
                                                    "configAlternates": {
                                                        "designer|uiInterfaceName": "string",
                                                        "iconCls": "string",
                                                        "layout|flex": "number",
                                                        "text": "string",
                                                        "ui": "string",
                                                        "isEdit": "boolean"
                                                    },
                                                    "name": "MyButton16",
                                                    "designerId": "6186ddf6-892b-4bda-9788-4067b40bb909",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "isEdit",
                                                            "type": "string"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "viewcontrollereventbinding",
                                                            "reference": {
                                                                "name": "listeners",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fn": "onItemAddClick",
                                                                "implHandler": [
                                                                    "var me\t= this,",
                                                                    "    vm\t= me.getViewModel(),",
                                                                    "    st\t= vm.getStore('items'),",
                                                                    "    v\t= me.getView(),",
                                                                    "    main\t= v.up('maincontainer'),",
                                                                    "    gen = new Ext.data.identifier.Uuid(),",
                                                                    "    autonum\t= gen.generate(),",
                                                                    "    nRec= Ext.create('tavico.model.CpPackageItem'),",
                                                                    "    wd\t= Ext.create('tavico.view.WdCpPackageitem', {",
                                                                    "        title: vm.get('bindRecord.packagetitle') + ' - Chi tiết hạng mục',",
                                                                    "        bindRecord: nRec",
                                                                    "    });",
                                                                    "",
                                                                    "nRec.set({",
                                                                    "    packagecode: vm.get('bindRecord.packagecode'),",
                                                                    "    status:'W',",
                                                                    "    itemid: Ext.util.Format.date(new Date(),'ymd-Hisu') + '-' + autonum.substring(0,8).toUpperCase()",
                                                                    "});",
                                                                    "",
                                                                    "wd.on('successCallback', function(r) {",
                                                                    "    st.add(r);",
                                                                    "});",
                                                                    "",
                                                                    "wd.show();"
                                                                ],
                                                                "name": "click",
                                                                "scope": "me"
                                                            },
                                                            "configAlternates": {
                                                                "fn": "string",
                                                                "implHandler": "code",
                                                                "name": "string",
                                                                "scope": "string"
                                                            },
                                                            "name": "onItemAddClick",
                                                            "designerId": "e1e40da1-2bcd-43b6-a2b2-e3c20316d308"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "Ext.button.Button",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|uiInterfaceName": "plain-toolbar-small",
                                                        "iconCls": "x-fa fa-copy",
                                                        "isEdit": true,
                                                        "layout|flex": null,
                                                        "text": "Sao chép",
                                                        "ui": "plain-toolbar-small"
                                                    },
                                                    "configAlternates": {
                                                        "designer|uiInterfaceName": "string",
                                                        "iconCls": "string",
                                                        "layout|flex": "number",
                                                        "text": "string",
                                                        "ui": "string",
                                                        "isEdit": "boolean"
                                                    },
                                                    "name": "MyButton29",
                                                    "designerId": "973086ad-650f-4f54-95f1-82a471f9f449",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "isEdit",
                                                            "type": "string"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "viewcontrollereventbinding",
                                                            "reference": {
                                                                "name": "listeners",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fn": "onItemCopyClick",
                                                                "implHandler": [
                                                                    "var me\t= this,",
                                                                    "    vm\t= me.getViewModel(),",
                                                                    "    v\t= me.getView(),",
                                                                    "    st\t= vm.getStore('items'),",
                                                                    "    grid= me.lookupReference('griditem'),",
                                                                    "    main\t= v.up('maincontainer'),",
                                                                    "    nRec= grid.getSelectionModel().getSelection()[0];",
                                                                    "",
                                                                    "if (nRec) {",
                                                                    "    var d = nRec.getData();",
                                                                    "    delete d.id;",
                                                                    "    delete d.itemid;",
                                                                    "    d.status = 'W';",
                                                                    "    nRec = Ext.create('tavico.model.CpPackageItem', d);",
                                                                    "    st.add(nRec);",
                                                                    "}"
                                                                ],
                                                                "name": "click",
                                                                "scope": "me"
                                                            },
                                                            "configAlternates": {
                                                                "fn": "string",
                                                                "implHandler": "code",
                                                                "name": "string",
                                                                "scope": "string"
                                                            },
                                                            "name": "onItemCopyClick",
                                                            "designerId": "b7e8fbf1-b63e-4c94-ac60-6bed227f6a5e"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "Ext.form.field.File",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "buttonOnly": true,
                                                        "buttonText": "Tải nhập",
                                                        "isEdit": true,
                                                        "layout|flex": null,
                                                        "name": "PKEfile",
                                                        "userCls": [
                                                            "tvc-file-btn"
                                                        ]
                                                    },
                                                    "configAlternates": {
                                                        "buttonOnly": "boolean",
                                                        "buttonText": "string",
                                                        "isEdit": "boolean",
                                                        "layout|flex": "number",
                                                        "userCls": "typedarray",
                                                        "name": "string"
                                                    },
                                                    "name": "MyFileUpload6",
                                                    "designerId": "869d4b92-de60-4ef4-b712-05b4f48aa88e",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "isEdit",
                                                            "type": "boolean"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "viewcontrollereventbinding",
                                                            "reference": {
                                                                "name": "listeners",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fn": "onFileUploadChange",
                                                                "implHandler": [
                                                                    "var me\t= this,",
                                                                    "    vm\t= me.getViewModel(),",
                                                                    "    frmData = me.lookupReference('frmitem'),",
                                                                    "    s\t= vm.getStore('items'),",
                                                                    "    mCtr= tavico.app.getController('MainController');",
                                                                    "",
                                                                    "mCtr.wait();",
                                                                    "frmData.getForm().submit({",
                                                                    "    success: function(frmData, action) {",
                                                                    "        var m\t= s.getModel(),",
                                                                    "            fieldsMap\t= m.getFieldsMap(),",
                                                                    "            data\t= action.result.data,",
                                                                    "            importData\t= [],",
                                                                    "            field, value;",
                                                                    "",
                                                                    "        Ext.Array.each(data, function(d) {",
                                                                    "            delete d.id;",
                                                                    "            delete d.createddate;",
                                                                    "            delete d.updatedby;",
                                                                    "            delete d.createdby;",
                                                                    "            delete d.lastupdate;",
                                                                    "            //d.id = Ext.id();",
                                                                    "            var tmp = Ext.apply({}, d);",
                                                                    "//             importData = Ext.Array.push(importData, tmp);",
                                                                    "            for (var key in tmp) {",
                                                                    "                value = tmp[key];",
                                                                    "                field = fieldsMap[key];",
                                                                    "                if (field && field.isDateField && value === null) {",
                                                                    "                    tmp[key] = new Date(1911,0,1);",
                                                                    "                }",
                                                                    "",
                                                                    "            }",
                                                                    "            var r = s.findRecord('itemid', tmp.itemid);",
                                                                    "            if (r) {",
                                                                    "                delete tmp.packagecode;",
                                                                    "                r.set(tmp);",
                                                                    "            } else {",
                                                                    "                tmp.packagecode = vm.get('bindRecord.packagecode');",
                                                                    "                r = Ext.create(m);",
                                                                    "                r.set(tmp);",
                                                                    "                Ext.Array.push(importData, r);//    s.add(r);",
                                                                    "            }",
                                                                    "        });",
                                                                    "        mCtr.hideWait();",
                                                                    "        s.add(importData);",
                                                                    "",
                                                                    "    },",
                                                                    "    failure: function(frmData, action) {",
                                                                    "        mCtr.hideWait();",
                                                                    "        switch (action.failureType) {",
                                                                    "            case Ext.form.action.Action.CLIENT_INVALID:",
                                                                    "                Ext.Msg.alert('Failure', 'Form fields may not be submitted with invalid values');",
                                                                    "                break;",
                                                                    "            case Ext.form.action.Action.CONNECT_FAILURE:",
                                                                    "                Ext.Msg.alert('Failure', 'Ajax communication failed');",
                                                                    "                break;",
                                                                    "            case Ext.form.action.Action.SERVER_INVALID:",
                                                                    "                Ext.Msg.alert('Failure', action.result.message);",
                                                                    "        }",
                                                                    "    }",
                                                                    "});",
                                                                    ""
                                                                ],
                                                                "name": "change",
                                                                "scope": "me"
                                                            },
                                                            "configAlternates": {
                                                                "fn": "string",
                                                                "implHandler": "code",
                                                                "name": "string",
                                                                "scope": "string"
                                                            },
                                                            "name": "onFileUploadChange",
                                                            "designerId": "4a7b2562-86ec-4a47-8c61-405923fc0120"
                                                        },
                                                        {
                                                            "type": "Ext.form.field.FileButton",
                                                            "reference": {
                                                                "name": "buttonConfig",
                                                                "type": "object"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "designer|uiInterfaceName": "plain-toolbar-small",
                                                                "iconCls": "x-fa fa-upload",
                                                                "liquidLayout": true,
                                                                "ui": "plain-toolbar-small"
                                                            },
                                                            "configAlternates": {
                                                                "designer|uiInterfaceName": "string",
                                                                "liquidLayout": "boolean",
                                                                "ui": "string",
                                                                "iconCls": "string"
                                                            },
                                                            "name": "MyFileButton5",
                                                            "designerId": "a345f293-b877-420f-807a-079ddedcea5d"
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onGridItemCellDblClick",
                                                "implHandler": [
                                                    "var me\t= this,",
                                                    "    vm\t= me.getViewModel(),",
                                                    "    v\t= me.getView(),",
                                                    "    st\t= vm.getStore('items'),",
                                                    "    grid= me.lookupReference('griditem'),",
                                                    "    main\t= v.up('maincontainer'),",
                                                    "    nRec= grid.getSelectionModel().getSelection()[0],",
                                                    "    wd;",
                                                    "",
                                                    "if (nRec) {",
                                                    "    wd = Ext.create('tavico.view.WdCpPackageitem', {",
                                                    "        title: vm.get('bindRecord.packagetitle') + ' - Chi tiết hạng mục',",
                                                    "        bindRecord: nRec",
                                                    "    });",
                                                    "    Ext.Array.each(wd.down('form').query('field'),function(field){",
                                                    "        field.setReadOnly(true);",
                                                    "    });",
                                                    "    wd.show();",
                                                    "}"
                                                ],
                                                "name": "celldblclick",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onGridItemCellDblClick",
                                            "designerId": "d85de9ad-7a7c-4f8d-8c09-004e3df744bf"
                                        }
                                    ]
                                },
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onItemActivate",
                                        "implHandler": [
                                            "var me = this,",
                                            "    v = me.getView(),",
                                            "    vm = me.getViewModel(),",
                                            "    main = v.up('maincontainer'),",
                                            "    gp = me.lookupReference('griditem'),",
                                            "    s = vm.getStore('items');",
                                            "",
                                            "if (!main.projectRecord) return;",
                                            "",
                                            "if (!gp.getReadOnly()) {",
                                            "    if (!Ext.isEmpty(s.getModifiedRecords()) || !Ext.isEmpty(s.getRemovedRecords())) {",
                                            "        return;",
                                            "    } else if (s.getProxy().getExtraParams().packagecode == vm.get('bindRecord.packagecode')){",
                                            "        return;",
                                            "    }",
                                            "}",
                                            "",
                                            "s.getProxy().setExtraParam('packagecode', vm.get('bindRecord.packagecode'));",
                                            "s.load(function(r){",
                                            "});"
                                        ],
                                        "name": "activate",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onItemActivate",
                                    "designerId": "c8505156-37b7-498c-a871-f19e12b2c5d9"
                                },
                                {
                                    "type": "Ext.tab.Tab",
                                    "reference": {
                                        "name": "tabConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "TabConfig3",
                                    "designerId": "fdb7c7e5-c176-4613-a4fa-6c80a0760ffb"
                                }
                            ]
                        },
                        {
                            "type": "Ext.form.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "api": [
                                    "{",
                                    "submit:'FrmCpPackage.previewCPKM'",
                                    "}"
                                ],
                                "layout": "fit",
                                "reference": "frmmtr",
                                "title": "Danh mục vật tư"
                            },
                            "configAlternates": {
                                "title": "string",
                                "scrollable": "auto",
                                "layout": "string",
                                "api": "object",
                                "reference": "string"
                            },
                            "name": "MyForm52",
                            "designerId": "d64af65f-22e2-4f9e-a8bb-1fd39ec1edf8",
                            "cn": [
                                {
                                    "type": "Ext.tab.Tab",
                                    "reference": {
                                        "name": "tabConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "TabConfig2",
                                    "designerId": "b74f92e8-fbb7-46d4-aec3-d83742cfe265"
                                },
                                {
                                    "type": "Ext.grid.Panel",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "reference": "gridmtr",
                                        "store": [
                                            "{mtrs}"
                                        ]
                                    },
                                    "configAlternates": {
                                        "store": "binding",
                                        "reference": "string"
                                    },
                                    "name": "MyGridPanel8",
                                    "designerId": "6ddd8ab8-ec01-45e4-8a6c-b62df240cb6e",
                                    "cn": [
                                        {
                                            "type": "Ext.grid.column.Action",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "width": 46
                                            },
                                            "configAlternates": {
                                                "width": "auto"
                                            },
                                            "name": "MyActionColumn8",
                                            "designerId": "f8e721c9-9f68-458e-9b56-6af6b00a37d3",
                                            "cn": [
                                                {
                                                    "type": "actioncolumnitem",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "iconCls": "x-fa fa-trash"
                                                    },
                                                    "configAlternates": {
                                                        "iconCls": "string",
                                                        "glyph": "string"
                                                    },
                                                    "name": "MyActionColumnItem5",
                                                    "designerId": "8686c121-d6b4-4d2a-95c2-c8930ac07369",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "glyph",
                                                            "type": "string"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "fixedfunction",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "designer|params": [
                                                                    "view",
                                                                    "rowIndex",
                                                                    "colIndex",
                                                                    "item",
                                                                    "e",
                                                                    "record",
                                                                    "row"
                                                                ],
                                                                "fn": "handler",
                                                                "implHandler": [
                                                                    "",
                                                                    "view.getStore('mtrs').remove(record);"
                                                                ]
                                                            },
                                                            "configAlternates": {
                                                                "designer|params": "typedarray",
                                                                "fn": "string",
                                                                "implHandler": "code"
                                                            },
                                                            "name": "handler",
                                                            "designerId": "dd05efe3-dabf-4d81-8916-c0a7149aeece"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "actioncolumnitem",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "iconCls": "x-fa fa-pencil"
                                                    },
                                                    "configAlternates": {
                                                        "iconCls": "string",
                                                        "glyph": "string"
                                                    },
                                                    "name": "MyActionColumnItem21",
                                                    "designerId": "4035468d-dfcf-4dc6-8a1d-41c227ca1461",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "glyph",
                                                            "type": "string"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "fixedfunction",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "designer|params": [
                                                                    "view",
                                                                    "rowIndex",
                                                                    "colIndex",
                                                                    "item",
                                                                    "e",
                                                                    "record",
                                                                    "row"
                                                                ],
                                                                "designer|viewControllerFn": "mtrEditClick",
                                                                "fn": "handler",
                                                                "implHandler": [
                                                                    "var me\t= this,",
                                                                    "    vm\t= me.getViewModel(),",
                                                                    "    v\t= me.getView(),",
                                                                    "    st\t= vm.getStore('mtrs'),",
                                                                    "    grid= me.lookupReference('gridmtr'),",
                                                                    "    main\t= v.up('maincontainer'),",
                                                                    "    nRec= record,",
                                                                    "    wd;",
                                                                    "",
                                                                    "if (nRec) {",
                                                                    "    wd = Ext.create('tavico.view.WdCpPackageMtr', {",
                                                                    "        title: vm.get('bindRecord.packagetitle') + ' - Danh mục vật tư',",
                                                                    "        bindRecord: nRec.copy()",
                                                                    "    });",
                                                                    "    wd.on('successCallback', function(r) {",
                                                                    "        var d = r.getData();",
                                                                    "        delete d.id;",
                                                                    "        nRec.set(d);",
                                                                    "    });",
                                                                    "    wd.down('#materialcode').setReadOnly(true);",
                                                                    "    wd.show();",
                                                                    "}"
                                                                ]
                                                            },
                                                            "configAlternates": {
                                                                "designer|params": "typedarray",
                                                                "fn": "string",
                                                                "implHandler": "code",
                                                                "designer|viewControllerFn": "string"
                                                            },
                                                            "name": "handler",
                                                            "designerId": "1b82232c-db04-4bc1-9835-12aac2214b7c"
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "materialname",
                                                "text": "Tên vật tư",
                                                "width": 400
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto"
                                            },
                                            "name": "MyColumn14",
                                            "designerId": "dbb0a1dd-7cb7-437b-bcbf-868d8796b127"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "catename",
                                                "text": "Phân loại",
                                                "width": 138
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto"
                                            },
                                            "name": "MyColumn15",
                                            "designerId": "95829be9-6fe3-48b4-978c-ccbb939158e3"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "typename",
                                                "text": "Phân cấp",
                                                "width": 112
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "flex": "number"
                                            },
                                            "name": "MyColumn16",
                                            "designerId": "69bed939-e64b-4a27-aa41-1613d8d63fe7"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "partnum",
                                                "text": "Mã hiệu",
                                                "width": 170
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "flex": "number"
                                            },
                                            "name": "MyColumn122",
                                            "designerId": "5fcca0ba-b9e8-4ef9-9c9c-40cddfd20b59"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "origincountry",
                                                "text": "Xuất xứ",
                                                "width": 170
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "flex": "number"
                                            },
                                            "name": "MyColumn124",
                                            "designerId": "4314211d-b0c5-4758-ab9b-92a2aecf6091"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "manufacturer",
                                                "text": "Hãng sản xuất",
                                                "width": 170
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "flex": "number"
                                            },
                                            "name": "MyColumn125",
                                            "designerId": "7848ddb6-4846-434c-87c5-1be2ebe39fad"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "status",
                                                "text": "Tình trạng",
                                                "width": 113
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "flex": "number"
                                            },
                                            "name": "MyColumn126",
                                            "designerId": "7e0c20ba-8d73-4582-b3d7-28e308b734ab",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "value",
                                                            "metaData",
                                                            "record",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store",
                                                            "view"
                                                        ],
                                                        "fn": "renderer",
                                                        "implHandler": [
                                                            "var text;",
                                                            "if(value === 'W') text = 'Đang hoạt động';",
                                                            "else if(value === 'C') text = 'Đóng';",
                                                            "return text;"
                                                        ]
                                                    },
                                                    "configAlternates": {
                                                        "designer|params": "typedarray",
                                                        "fn": "string",
                                                        "implHandler": "code"
                                                    },
                                                    "name": "renderer",
                                                    "designerId": "71a2977d-3f41-4890-aca8-ae69d6f7ebd8"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.view.Table",
                                            "reference": {
                                                "name": "viewConfig",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "name": "MyTable7",
                                            "designerId": "c8c84ce3-1005-4421-a4b0-b02e12731393"
                                        },
                                        {
                                            "type": "Ext.toolbar.Toolbar",
                                            "reference": {
                                                "name": "dockedItems",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dock": "top",
                                                "padding": 0
                                            },
                                            "configAlternates": {
                                                "dock": "string",
                                                "padding": "auto"
                                            },
                                            "name": "MyToolbar7",
                                            "designerId": "3492882a-7464-43c2-8fd9-8bca5b8db55b",
                                            "cn": [
                                                {
                                                    "type": "Ext.button.Button",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|uiInterfaceName": "plain-toolbar-small",
                                                        "iconCls": "x-fa fa-plus",
                                                        "isEdit": true,
                                                        "layout|flex": null,
                                                        "text": "Thêm",
                                                        "ui": "plain-toolbar-small"
                                                    },
                                                    "configAlternates": {
                                                        "designer|uiInterfaceName": "string",
                                                        "iconCls": "string",
                                                        "layout|flex": "number",
                                                        "text": "string",
                                                        "ui": "string",
                                                        "isEdit": "boolean"
                                                    },
                                                    "name": "MyButton13",
                                                    "designerId": "041a81ea-7205-4854-8651-9b86114bc3b2",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "isEdit",
                                                            "type": "string"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "viewcontrollereventbinding",
                                                            "reference": {
                                                                "name": "listeners",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fn": "onMtrAddClick",
                                                                "implHandler": [
                                                                    "var me\t= this,",
                                                                    "    vm\t= me.getViewModel(),",
                                                                    "    st\t= vm.getStore('mtrs'),",
                                                                    "    v\t= me.getView(),",
                                                                    "    main\t= v.up('maincontainer'),",
                                                                    "    gen = new Ext.data.identifier.Uuid(),",
                                                                    "    autonum\t= gen.generate(),",
                                                                    "    nRec= Ext.create('tavico.model.CpPackageMtr'),",
                                                                    "    wd\t= Ext.create('tavico.view.WdCpPackageMtr', {",
                                                                    "        title: vm.get('bindRecord.packagetitle') + ' - Danh mục vật tư',",
                                                                    "        bindRecord: nRec",
                                                                    "    });",
                                                                    "",
                                                                    "nRec.set({",
                                                                    "    status: 'W',",
                                                                    "    packagecode: vm.get('bindRecord.packagecode'),",
                                                                    "    materialcode: Ext.util.Format.date(new Date(),'ymd-Hisu') + '-' + autonum.substring(0,8).toUpperCase()",
                                                                    "});",
                                                                    "wd.on('successCallback', function(r) {",
                                                                    "    st.add(r);",
                                                                    "});",
                                                                    "wd.down('#materialcode').setReadOnly(false);",
                                                                    "wd.show();"
                                                                ],
                                                                "name": "click",
                                                                "scope": "me"
                                                            },
                                                            "configAlternates": {
                                                                "fn": "string",
                                                                "implHandler": "code",
                                                                "name": "string",
                                                                "scope": "string"
                                                            },
                                                            "name": "onMtrAddClick",
                                                            "designerId": "4d7bef10-6ae7-49fb-838a-4447c891e688"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "Ext.button.Button",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|uiInterfaceName": "plain-toolbar-small",
                                                        "iconCls": "x-fa fa-copy",
                                                        "isEdit": true,
                                                        "layout|flex": null,
                                                        "text": "Sao chép",
                                                        "ui": "plain-toolbar-small"
                                                    },
                                                    "configAlternates": {
                                                        "designer|uiInterfaceName": "string",
                                                        "iconCls": "string",
                                                        "layout|flex": "number",
                                                        "text": "string",
                                                        "ui": "string",
                                                        "isEdit": "boolean"
                                                    },
                                                    "name": "MyButton100",
                                                    "designerId": "6ef9c66e-ddc1-49cc-a14b-6664dbf4a164",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "isEdit",
                                                            "type": "string"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "viewcontrollereventbinding",
                                                            "reference": {
                                                                "name": "listeners",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fn": "onMtrCopyClick",
                                                                "implHandler": [
                                                                    "var me\t= this,",
                                                                    "    vm\t= me.getViewModel(),",
                                                                    "    v\t= me.getView(),",
                                                                    "    st\t= vm.getStore('mtrs'),",
                                                                    "    gen = new Ext.data.identifier.Uuid(),",
                                                                    "    autonum\t= gen.generate(),",
                                                                    "    grid= me.lookupReference('gridmtr'),",
                                                                    "    nRec= grid.getSelectionModel().getSelection()[0];",
                                                                    "",
                                                                    "if (nRec) {",
                                                                    "    var d = nRec.getData();",
                                                                    "    delete d.id;",
                                                                    "    delete d.materialcode;",
                                                                    "    d.status = 'W';",
                                                                    "    nRec = Ext.create('tavico.model.CpPackageMtr', d);",
                                                                    "    st.add(nRec);",
                                                                    "}"
                                                                ],
                                                                "name": "click",
                                                                "scope": "me"
                                                            },
                                                            "configAlternates": {
                                                                "fn": "string",
                                                                "implHandler": "code",
                                                                "name": "string",
                                                                "scope": "string"
                                                            },
                                                            "name": "onMtrCopyClick",
                                                            "designerId": "c1193ef3-56a1-4b52-a3fa-d80c505fcdba"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "Ext.button.Button",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|uiInterfaceName": "plain-toolbar-small",
                                                        "iconCls": "x-fa fa-upload",
                                                        "isEdit": true,
                                                        "layout|flex": null,
                                                        "text": "Vật tư dự án",
                                                        "ui": "plain-toolbar-small"
                                                    },
                                                    "configAlternates": {
                                                        "designer|uiInterfaceName": "string",
                                                        "iconCls": "string",
                                                        "layout|flex": "number",
                                                        "text": "string",
                                                        "ui": "string",
                                                        "isEdit": "boolean"
                                                    },
                                                    "name": "MyButton168",
                                                    "designerId": "bf2c5d79-997c-4f49-b451-08a6645781a6",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "isEdit",
                                                            "type": "string"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "viewcontrollereventbinding",
                                                            "reference": {
                                                                "name": "listeners",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fn": "onProjectMtrClick",
                                                                "implHandler": [
                                                                    "var me = this,",
                                                                    "    wd = Ext.create('tavico.view.WdProjectMtr'),",
                                                                    "    vm\t= me.getViewModel(),",
                                                                    "    st\t= vm.getStore('mtrs');",
                                                                    "",
                                                                    "wd.on('successCallback', function(recs) {",
                                                                    "    Ext.Array.each(recs, function(r) {",
                                                                    "        if (!st.findRecord('materialcode', r.get('materialcode'))) {",
                                                                    "            var nRec = Ext.create(st.getModel()),",
                                                                    "                d\t= r.getData();",
                                                                    "",
                                                                    "            delete d.id;",
                                                                    "            delete d.itemid;",
                                                                    "            d.packagecode = vm.get('bindRecord.packagecode');",
                                                                    "            d.status = 'W';",
                                                                    "            nRec.set(d);",
                                                                    "            st.add(nRec);",
                                                                    "        }",
                                                                    "    });",
                                                                    "});",
                                                                    "wd.show();",
                                                                    "// var me\t= this,",
                                                                    "//     vm\t= me.getViewModel(),",
                                                                    "//     st\t= vm.getStore('mtrs'),",
                                                                    "//     v\t= me.getView(),",
                                                                    "//     notIds = [],",
                                                                    "//     main\t= v.up('maincontainer'),",
                                                                    "//     wd;",
                                                                    "",
                                                                    "// st.each(function(r) {",
                                                                    "//     Ext.Array.push(notIds, r.get('materialcode')) ;",
                                                                    "// });",
                                                                    "",
                                                                    "// wd\t= Ext.create('tavico.view.WdListCpPackageMtr', {",
                                                                    "//     project : me.projectId,",
                                                                    "//     notIds: notIds",
                                                                    "// });",
                                                                    "",
                                                                    "// wd.on('successCallback', function(r) {",
                                                                    "//     r.map(item =>{",
                                                                    "//         var eRec = st.findRecord('materialcode', item.get('materialcode')),",
                                                                    "//             d\t= item.getData();",
                                                                    "//         delete d.id;",
                                                                    "",
                                                                    "//         if (eRec) {",
                                                                    "//             eRec.set(d);",
                                                                    "//         } else {",
                                                                    "//             var nRec = Ext.create(st.getModel());",
                                                                    "//             nRec.set(d);",
                                                                    "//             nRec.set('packagecode', vm.get('bindRecord.packagecode'));",
                                                                    "//             st.add(nRec);",
                                                                    "//         }",
                                                                    "//     });",
                                                                    "// });",
                                                                    "// wd.show();"
                                                                ],
                                                                "name": "click",
                                                                "scope": "me"
                                                            },
                                                            "configAlternates": {
                                                                "fn": "string",
                                                                "implHandler": "code",
                                                                "name": "string",
                                                                "scope": "string"
                                                            },
                                                            "name": "onProjectMtrClick",
                                                            "designerId": "94716f9a-92d5-4a4b-b2f1-751361eb99a5"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "Ext.form.field.File",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "buttonOnly": true,
                                                        "buttonText": "Tải nhập",
                                                        "isEdit": true,
                                                        "layout|flex": null,
                                                        "name": "PKMEfile",
                                                        "userCls": [
                                                            "tvc-file-btn"
                                                        ]
                                                    },
                                                    "configAlternates": {
                                                        "buttonOnly": "boolean",
                                                        "buttonText": "string",
                                                        "isEdit": "boolean",
                                                        "layout|flex": "number",
                                                        "userCls": "typedarray",
                                                        "name": "string"
                                                    },
                                                    "name": "MyFileUpload7",
                                                    "designerId": "4c5e513d-cc54-4c87-b350-c6581095118c",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "isEdit",
                                                            "type": "boolean"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "viewcontrollereventbinding",
                                                            "reference": {
                                                                "name": "listeners",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fn": "onFileMtrUploadChange",
                                                                "implHandler": [
                                                                    "var me\t= this,",
                                                                    "    vm\t= me.getViewModel(),",
                                                                    "    frmData = me.lookupReference('frmmtr'),",
                                                                    "    s\t= vm.getStore('mtrs'),",
                                                                    "    mCtr= tavico.app.getController('MainController');",
                                                                    "",
                                                                    "mCtr.wait();",
                                                                    "frmData.getForm().submit({",
                                                                    "    success: function(frmData, action) {",
                                                                    "        var m\t= s.getModel(),",
                                                                    "            fieldsMap\t= m.getFieldsMap(),",
                                                                    "            data\t= action.result.data,",
                                                                    "            importData\t= [],",
                                                                    "            field, value;",
                                                                    "",
                                                                    "        Ext.Array.each(data, function(d) {",
                                                                    "            delete d.id;",
                                                                    "            delete d.createddate;",
                                                                    "            delete d.updatedby;",
                                                                    "            delete d.createdby;",
                                                                    "            delete d.lastupdate;",
                                                                    "            //d.id = Ext.id();",
                                                                    "            var tmp = Ext.apply({}, d);",
                                                                    "//             importData = Ext.Array.push(importData, tmp);",
                                                                    "            for (var key in tmp) {",
                                                                    "                value = tmp[key];",
                                                                    "                field = fieldsMap[key];",
                                                                    "                if (field && field.isDateField && value === null) {",
                                                                    "                    tmp[key] = new Date(1911,0,1);",
                                                                    "                }",
                                                                    "",
                                                                    "            }",
                                                                    "            var r = s.findRecord('materialcode', tmp.materialcode);",
                                                                    "            if (r) {",
                                                                    "                delete tmp.packagecode;",
                                                                    "                r.set(tmp);",
                                                                    "            } else {",
                                                                    "                tmp.packagecode = vm.get('bindRecord.packagecode');",
                                                                    "                r = Ext.create(m);",
                                                                    "                r.set(tmp);",
                                                                    "                Ext.Array.push(importData, r);//    s.add(r);",
                                                                    "            }",
                                                                    "        });",
                                                                    "        mCtr.hideWait();",
                                                                    "        s.add(importData);",
                                                                    "",
                                                                    "    },",
                                                                    "    failure: function(frmData, action) {",
                                                                    "        mCtr.hideWait();",
                                                                    "        switch (action.failureType) {",
                                                                    "            case Ext.form.action.Action.CLIENT_INVALID:",
                                                                    "                Ext.Msg.alert('Failure', 'Form fields may not be submitted with invalid values');",
                                                                    "                break;",
                                                                    "            case Ext.form.action.Action.CONNECT_FAILURE:",
                                                                    "                Ext.Msg.alert('Failure', 'Ajax communication failed');",
                                                                    "                break;",
                                                                    "            case Ext.form.action.Action.SERVER_INVALID:",
                                                                    "                Ext.Msg.alert('Failure', action.result.message);",
                                                                    "        }",
                                                                    "    }",
                                                                    "});",
                                                                    ""
                                                                ],
                                                                "name": "change",
                                                                "scope": "me"
                                                            },
                                                            "configAlternates": {
                                                                "fn": "string",
                                                                "implHandler": "code",
                                                                "name": "string",
                                                                "scope": "string"
                                                            },
                                                            "name": "onFileMtrUploadChange",
                                                            "designerId": "1da57110-fe65-4203-bd73-4658e33cf9d1"
                                                        },
                                                        {
                                                            "type": "Ext.form.field.FileButton",
                                                            "reference": {
                                                                "name": "buttonConfig",
                                                                "type": "object"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "designer|uiInterfaceName": "plain-toolbar-small",
                                                                "iconCls": "x-fa fa-upload",
                                                                "liquidLayout": true,
                                                                "ui": "plain-toolbar-small"
                                                            },
                                                            "configAlternates": {
                                                                "designer|uiInterfaceName": "string",
                                                                "liquidLayout": "boolean",
                                                                "ui": "string",
                                                                "iconCls": "string"
                                                            },
                                                            "name": "MyFileButton5",
                                                            "designerId": "fd4ed280-6d9e-4962-8b2d-becb5283a85e"
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onGridMtrDblClick",
                                                "implHandler": [
                                                    "var me\t= this,",
                                                    "    vm\t= me.getViewModel(),",
                                                    "    v\t= me.getView(),",
                                                    "    st\t= vm.getStore('mtrs'),",
                                                    "    grid= me.lookupReference('gridmtr'),",
                                                    "    main\t= v.up('maincontainer'),",
                                                    "    nRec= grid.getSelectionModel().getSelection()[0],",
                                                    "    wd;",
                                                    "",
                                                    "if (nRec) {",
                                                    "    wd = Ext.create('tavico.view.WdCpPackageMtr', {",
                                                    "        title: vm.get('bindRecord.packagetitle') + ' - Danh mục vật tư',",
                                                    "        bindRecord: nRec",
                                                    "    });",
                                                    "    Ext.Array.each(wd.down('form').query('field'),function(field){",
                                                    "        field.setReadOnly(true);",
                                                    "    });",
                                                    "    wd.show();",
                                                    "}"
                                                ],
                                                "name": "celldblclick",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onGridMtrDblClick",
                                            "designerId": "01b82ad6-e866-43aa-8909-9e28f3c1a140"
                                        }
                                    ]
                                },
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onActivate",
                                        "implHandler": [
                                            "var me = this,",
                                            "    v = me.getView(),",
                                            "    vm = me.getViewModel(),",
                                            "    main = v.up('maincontainer'),",
                                            "    gp = me.lookupReference('gridmtr'),",
                                            "    s  = vm.getStore('mtrs');",
                                            "",
                                            "if (!main.projectRecord) return;",
                                            "",
                                            "if (!gp.getReadOnly()) {",
                                            "    if (!Ext.isEmpty(s.getModifiedRecords()) || !Ext.isEmpty(s.getRemovedRecords())) {",
                                            "        return;",
                                            "    } else if (s.getProxy().getExtraParams().packagecode == vm.get('bindRecord.packagecode')){",
                                            "        return;",
                                            "    }",
                                            "}",
                                            "",
                                            "s.getProxy().setExtraParam('packagecode', me.lookupReference('packagecode').getValue());",
                                            "s.load();"
                                        ],
                                        "name": "activate",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onActivate",
                                    "designerId": "8ce1838c-8c91-41c7-8a5b-f7a726785d4e"
                                }
                            ]
                        },
                        {
                            "type": "Ext.panel.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout": "fit",
                                "title": "Nhà thầu"
                            },
                            "configAlternates": {
                                "title": "string",
                                "scrollable": "auto",
                                "layout": "string"
                            },
                            "name": "MyPanel8",
                            "designerId": "34476c9c-62a2-47f5-be24-1d7a9f847cce",
                            "cn": [
                                {
                                    "type": "Ext.tab.Tab",
                                    "reference": {
                                        "name": "tabConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "TabConfig2",
                                    "designerId": "7ab17cde-0018-4f48-b6a5-a4cb5c09c6e6"
                                },
                                {
                                    "type": "Ext.grid.Panel",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "reference": "gridvdr",
                                        "store": [
                                            "{vdrs}"
                                        ]
                                    },
                                    "configAlternates": {
                                        "store": "binding",
                                        "reference": "string",
                                        "scrollable": "auto"
                                    },
                                    "name": "MyGridPanel9",
                                    "designerId": "03025dbe-1d8c-4e44-b7ea-41dfc6eb2408",
                                    "cn": [
                                        {
                                            "type": "Ext.grid.column.Action",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "itemId": "gcDel",
                                                "width": 46
                                            },
                                            "configAlternates": {
                                                "width": "auto",
                                                "itemId": "string"
                                            },
                                            "name": "MyActionColumn10",
                                            "designerId": "e40de48e-0a4c-448e-b95b-6fc9d4d3114d",
                                            "cn": [
                                                {
                                                    "type": "actioncolumnitem",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "iconCls": "x-fa fa-trash"
                                                    },
                                                    "configAlternates": {
                                                        "iconCls": "string",
                                                        "glyph": "string"
                                                    },
                                                    "name": "MyActionColumnItem5",
                                                    "designerId": "edac031e-29d9-4ce3-b900-fa12deb66f02",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "glyph",
                                                            "type": "string"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "fixedfunction",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "designer|params": [
                                                                    "view",
                                                                    "rowIndex",
                                                                    "colIndex",
                                                                    "item",
                                                                    "e",
                                                                    "record",
                                                                    "row"
                                                                ],
                                                                "fn": "handler",
                                                                "implHandler": [
                                                                    "",
                                                                    "view.getStore('vdrs').remove(record);"
                                                                ]
                                                            },
                                                            "configAlternates": {
                                                                "designer|params": "typedarray",
                                                                "fn": "string",
                                                                "implHandler": "code"
                                                            },
                                                            "name": "handler",
                                                            "designerId": "4c2151db-880f-4d69-a815-7861d4b95578"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "actioncolumnitem",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "iconCls": "x-fa fa-pencil"
                                                    },
                                                    "configAlternates": {
                                                        "iconCls": "string",
                                                        "glyph": "string"
                                                    },
                                                    "name": "MyActionColumnItem22",
                                                    "designerId": "03fed042-5558-4bd9-8e3d-0709a98eac20",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "glyph",
                                                            "type": "string"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "fixedfunction",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "designer|params": [
                                                                    "view",
                                                                    "rowIndex",
                                                                    "colIndex",
                                                                    "item",
                                                                    "e",
                                                                    "record",
                                                                    "row"
                                                                ],
                                                                "designer|viewControllerFn": "vdrEditClick",
                                                                "fn": "handler",
                                                                "implHandler": [
                                                                    "var me\t= this,",
                                                                    "    vm\t= me.getViewModel(),",
                                                                    "    v\t= me.getView(),",
                                                                    "    st\t= vm.getStore('vdrs'),",
                                                                    "    grid= me.lookupReference('gridvdr'),",
                                                                    "    main\t= v.up('maincontainer'),",
                                                                    "    nRec= record,",
                                                                    "    wd;",
                                                                    "",
                                                                    "if (nRec) {",
                                                                    "    wd = Ext.create('tavico.view.WdCpPackageVdr', {",
                                                                    "        title: vm.get('bindRecord.packagetitle') + ' - Nhà thầu',",
                                                                    "        bindRecord: nRec.copy()",
                                                                    "    });",
                                                                    "    wd.down('#vendorcode').setReadOnly(true);",
                                                                    "    wd.on('successCallback', function(r) {",
                                                                    "        var d = r.getData();",
                                                                    "        delete d.id;",
                                                                    "        nRec.set(d);",
                                                                    "    });",
                                                                    "    wd.show();",
                                                                    "}"
                                                                ]
                                                            },
                                                            "configAlternates": {
                                                                "designer|params": "typedarray",
                                                                "fn": "string",
                                                                "implHandler": "code",
                                                                "designer|viewControllerFn": "string"
                                                            },
                                                            "name": "handler",
                                                            "designerId": "92dc0382-8dba-4e1c-941a-837687b6535c"
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "vendorname",
                                                "text": "Nhà thầu",
                                                "width": 400
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto"
                                            },
                                            "name": "MyColumn27",
                                            "designerId": "4bf91aa6-4f0e-4d32-810b-d8ad83f7d006"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "status",
                                                "text": "Tình trạng",
                                                "width": 150
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto"
                                            },
                                            "name": "MyColumn28",
                                            "designerId": "58ca5ae2-f1ef-43fa-9471-9699d78dae87",
                                            "cn": [
                                                {
                                                    "type": "fixedfunction",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|params": [
                                                            "value",
                                                            "metaData",
                                                            "record",
                                                            "rowIndex",
                                                            "colIndex",
                                                            "store",
                                                            "view"
                                                        ],
                                                        "fn": "renderer",
                                                        "implHandler": [
                                                            "var text;",
                                                            "if(value === 'W') text = 'Đang hoạt động';",
                                                            "else if(value === 'C') text = 'Đóng';",
                                                            "return text;"
                                                        ]
                                                    },
                                                    "configAlternates": {
                                                        "designer|params": "typedarray",
                                                        "fn": "string",
                                                        "implHandler": "code"
                                                    },
                                                    "name": "renderer",
                                                    "designerId": "be5250bb-1938-4aff-a5f8-0cf7aa07a3ad"
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.grid.column.Date",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "invitationdate",
                                                "format": "d/m/Y",
                                                "text": "Ngày mời thầu",
                                                "width": 110
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "format": "string"
                                            },
                                            "name": "MyDateColumn4",
                                            "designerId": "5afa7ad3-328f-4a5e-b125-b845a6317df3"
                                        },
                                        {
                                            "type": "Ext.grid.column.Date",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "responsedate",
                                                "format": "d/m/Y",
                                                "text": "Ngày phản hồi",
                                                "width": 112
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "format": "string"
                                            },
                                            "name": "MyDateColumn",
                                            "designerId": "89006742-628b-4425-a0d6-2958db320a31"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "overal",
                                                "text": "Đánh giá tổng quan",
                                                "width": 400
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto"
                                            },
                                            "name": "MyColumn29",
                                            "designerId": "2b3e6e46-5bbe-4b66-8519-7985c2f932b7"
                                        },
                                        {
                                            "type": "Ext.view.Table",
                                            "reference": {
                                                "name": "viewConfig",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "name": "MyTable8",
                                            "designerId": "7c73f0d5-fe04-4e62-bd60-5b4d7bf49083"
                                        },
                                        {
                                            "type": "Ext.toolbar.Toolbar",
                                            "reference": {
                                                "name": "dockedItems",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dock": "top",
                                                "padding": 0
                                            },
                                            "configAlternates": {
                                                "dock": "string",
                                                "padding": "auto"
                                            },
                                            "name": "MyToolbar10",
                                            "designerId": "55f20efb-5daf-4ba8-87ea-1c2257ea38de",
                                            "cn": [
                                                {
                                                    "type": "Ext.button.Button",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|uiInterfaceName": "plain-toolbar-small",
                                                        "iconCls": "x-fa fa-plus",
                                                        "isEdit": true,
                                                        "layout|flex": null,
                                                        "text": "Thêm",
                                                        "ui": "plain-toolbar-small"
                                                    },
                                                    "configAlternates": {
                                                        "designer|uiInterfaceName": "string",
                                                        "iconCls": "string",
                                                        "layout|flex": "number",
                                                        "text": "string",
                                                        "ui": "string",
                                                        "isEdit": "boolean"
                                                    },
                                                    "name": "MyButton15",
                                                    "designerId": "ad669400-f550-414e-ac06-5755559071c8",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "isEdit",
                                                            "type": "string"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "viewcontrollereventbinding",
                                                            "reference": {
                                                                "name": "listeners",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fn": "onVdrAddClick",
                                                                "implHandler": [
                                                                    "var me\t= this,",
                                                                    "    vm\t= me.getViewModel(),",
                                                                    "    st\t= vm.getStore('vdrs'),",
                                                                    "    v\t= me.getView(),",
                                                                    "    main\t= v.up('maincontainer'),",
                                                                    "    gen = new Ext.data.identifier.Uuid(),",
                                                                    "    autonum\t= gen.generate(),",
                                                                    "    nRec= Ext.create('tavico.model.CpPackageVdr'),",
                                                                    "    wd\t= Ext.create('tavico.view.WdCpPackageVdr', {",
                                                                    "        title: vm.get('bindRecord.packagetitle') + ' - Nhà thầu',",
                                                                    "        bindRecord: nRec",
                                                                    "    });",
                                                                    "",
                                                                    "nRec.set({",
                                                                    "    packagecode: vm.get('bindRecord.packagecode'),",
                                                                    "    status: 'W',",
                                                                    "    //vendorcode: Ext.util.Format.date(new Date(),'ymd-Hisu') + '-' + autonum.substring(0,8).toUpperCase()",
                                                                    "});",
                                                                    "wd.down('#vendorcode').setReadOnly(false);",
                                                                    "wd.on('successCallback', function(r) {",
                                                                    "    st.add(r);",
                                                                    "});",
                                                                    "wd.show();"
                                                                ],
                                                                "name": "click",
                                                                "scope": "me"
                                                            },
                                                            "configAlternates": {
                                                                "fn": "string",
                                                                "name": "string",
                                                                "scope": "string",
                                                                "implHandler": "code"
                                                            },
                                                            "name": "onVdrAddClick",
                                                            "designerId": "d20e89b3-ea50-40f6-b97b-431d0a0fe889"
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onGridVdrCellDblClick",
                                                "implHandler": [
                                                    "var me\t= this,",
                                                    "    vm\t= me.getViewModel(),",
                                                    "    v\t= me.getView(),",
                                                    "    st\t= vm.getStore('vdrs'),",
                                                    "    grid= me.lookupReference('gridvdr'),",
                                                    "    main\t= v.up('maincontainer'),",
                                                    "    nRec= grid.getSelectionModel().getSelection()[0],",
                                                    "    wd;",
                                                    "",
                                                    "if (nRec) {",
                                                    "    wd = Ext.create('tavico.view.WdCpPackageVdr', {",
                                                    "        title: vm.get('bindRecord.packagetitle') + ' - Nhà thầu',",
                                                    "        bindRecord: nRec",
                                                    "    });",
                                                    "    Ext.Array.each(wd.down('form').query('field'),function(field){",
                                                    "        field.setReadOnly(true);",
                                                    "    });",
                                                    "    wd.show();",
                                                    "}"
                                                ],
                                                "name": "celldblclick",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onGridVdrCellDblClick",
                                            "designerId": "ae6f26e1-5f5c-4480-a7c2-37b7028fbc67"
                                        }
                                    ]
                                },
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onVdrActivate",
                                        "implHandler": [
                                            "var me = this,",
                                            "    v = me.getView(),",
                                            "    vm = me.getViewModel(),",
                                            "    main = v.up('maincontainer'),",
                                            "    gp = me.lookupReference('gridvdr'),",
                                            "    s  = vm.getStore('vdrs');",
                                            "",
                                            "if (!main.projectRecord) return;",
                                            "",
                                            "if (!gp.getReadOnly()) {",
                                            "    if (!Ext.isEmpty(s.getModifiedRecords()) || !Ext.isEmpty(s.getRemovedRecords())) {",
                                            "        return;",
                                            "    } else if (s.getProxy().getExtraParams().packagecode == vm.get('bindRecord.packagecode')){",
                                            "        return;",
                                            "    }",
                                            "}",
                                            "",
                                            "s.getProxy().setExtraParam('packagecode', me.lookupReference('packagecode').getValue());",
                                            "s.load();"
                                        ],
                                        "name": "activate",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onVdrActivate",
                                    "designerId": "1dbb4c22-03d2-42bd-a8ed-faa6aa7cd1b2"
                                }
                            ]
                        },
                        {
                            "type": "Ext.panel.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout": "fit",
                                "title": "Sự kiện - Ghi chú"
                            },
                            "configAlternates": {
                                "title": "string",
                                "scrollable": "auto",
                                "layout": "string"
                            },
                            "name": "MyPanel25",
                            "designerId": "8cbd3bed-7a76-41dd-9125-c0afb8f3bdf2",
                            "cn": [
                                {
                                    "type": "Ext.tab.Tab",
                                    "reference": {
                                        "name": "tabConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "TabConfig2",
                                    "designerId": "4f24f100-e905-460d-aaec-701d0f7130ac"
                                },
                                {
                                    "type": "Ext.grid.Panel",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "reference": "gridevent",
                                        "store": [
                                            "{events}"
                                        ]
                                    },
                                    "configAlternates": {
                                        "store": "binding",
                                        "reference": "string",
                                        "scrollable": "auto"
                                    },
                                    "name": "MyGridPanel9",
                                    "designerId": "e3da2101-8088-4936-98e4-b9c129491e19",
                                    "cn": [
                                        {
                                            "type": "Ext.grid.column.Action",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "itemId": "gcDel",
                                                "width": 46
                                            },
                                            "configAlternates": {
                                                "width": "auto",
                                                "itemId": "string"
                                            },
                                            "name": "MyActionColumn10",
                                            "designerId": "272e2f8c-777b-48d6-a1b6-47faf87fe1e2",
                                            "cn": [
                                                {
                                                    "type": "actioncolumnitem",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "iconCls": "x-fa fa-trash"
                                                    },
                                                    "configAlternates": {
                                                        "iconCls": "string",
                                                        "glyph": "string"
                                                    },
                                                    "name": "MyActionColumnItem5",
                                                    "designerId": "fc5e5112-97e9-4a7f-a6bd-7d6177f8de4b",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "glyph",
                                                            "type": "string"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "fixedfunction",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "designer|params": [
                                                                    "view",
                                                                    "rowIndex",
                                                                    "colIndex",
                                                                    "item",
                                                                    "e",
                                                                    "record",
                                                                    "row"
                                                                ],
                                                                "fn": "handler",
                                                                "implHandler": [
                                                                    "",
                                                                    "view.getStore('events').remove(record);"
                                                                ]
                                                            },
                                                            "configAlternates": {
                                                                "designer|params": "typedarray",
                                                                "fn": "string",
                                                                "implHandler": "code"
                                                            },
                                                            "name": "handler",
                                                            "designerId": "78576c90-5cb4-497e-b6cf-7d0dcd76ff2d"
                                                        }
                                                    ]
                                                },
                                                {
                                                    "type": "actioncolumnitem",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "iconCls": "x-fa fa-pencil"
                                                    },
                                                    "configAlternates": {
                                                        "iconCls": "string",
                                                        "glyph": "string"
                                                    },
                                                    "name": "MyActionColumnItem23",
                                                    "designerId": "d861bd56-2800-4b2e-a252-7fb5c7309219",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "glyph",
                                                            "type": "string"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "fixedfunction",
                                                            "reference": {
                                                                "name": "items",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "designer|params": [
                                                                    "view",
                                                                    "rowIndex",
                                                                    "colIndex",
                                                                    "item",
                                                                    "e",
                                                                    "record",
                                                                    "row"
                                                                ],
                                                                "designer|viewControllerFn": "eventEditClick",
                                                                "fn": "handler",
                                                                "implHandler": [
                                                                    "var me\t= this,",
                                                                    "    vm\t= me.getViewModel(),",
                                                                    "    v\t= me.getView(),",
                                                                    "    st\t= vm.getStore('events'),",
                                                                    "    grid= me.lookupReference('gridevent'),",
                                                                    "    main\t= v.up('maincontainer'),",
                                                                    "    nRec= record,",
                                                                    "    wd;",
                                                                    "",
                                                                    "if (nRec) {",
                                                                    "    wd = Ext.create('tavico.view.WdCpPackageEvent', {",
                                                                    "        title: vm.get('bindRecord.packagetitle') + ' - Sự kiện - Ghi chú',",
                                                                    "        bindRecord: nRec.copy()",
                                                                    "    });",
                                                                    "    wd.on('successCallback', function(r) {",
                                                                    "        var d = r.getData();",
                                                                    "        delete d.id;",
                                                                    "        nRec.set(d);",
                                                                    "    });",
                                                                    "    wd.show();",
                                                                    "}"
                                                                ]
                                                            },
                                                            "configAlternates": {
                                                                "designer|params": "typedarray",
                                                                "fn": "string",
                                                                "implHandler": "code",
                                                                "designer|viewControllerFn": "string"
                                                            },
                                                            "name": "handler",
                                                            "designerId": "7fdcc294-7da0-4848-b2c1-59ce932ee2a8"
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "eventname",
                                                "text": "Loại",
                                                "width": 200
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto"
                                            },
                                            "name": "MyColumn27",
                                            "designerId": "47327d94-cdcc-4323-8643-2d78cc7f6153"
                                        },
                                        {
                                            "type": "Ext.grid.column.Date",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "startdate",
                                                "format": "d/m/Y",
                                                "text": "Ngày bắt đầu",
                                                "width": 110
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "format": "string"
                                            },
                                            "name": "MyDateColumn4",
                                            "designerId": "b3428c8d-8efa-4d31-8772-403b58489190"
                                        },
                                        {
                                            "type": "Ext.grid.column.Date",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "enddate",
                                                "format": "d/m/Y",
                                                "text": "Ngày kết thúc",
                                                "width": 110
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto",
                                                "format": "string"
                                            },
                                            "name": "MyDateColumn",
                                            "designerId": "4aa4cf3a-f159-49c0-b6ec-9de8ffa1ad09"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "statusname",
                                                "text": "Tình trạng",
                                                "width": 200
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto"
                                            },
                                            "name": "MyColumn28",
                                            "designerId": "9db9dbd9-9ca2-4c51-af4f-488a9f4e8bcf"
                                        },
                                        {
                                            "type": "Ext.grid.column.Column",
                                            "reference": {
                                                "name": "columns",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dataIndex": "notes",
                                                "text": "Diễn giải - ghi chú",
                                                "width": 400
                                            },
                                            "configAlternates": {
                                                "dataIndex": "datafield",
                                                "text": "string",
                                                "width": "auto"
                                            },
                                            "name": "MyColumn29",
                                            "designerId": "52a0bd39-8cd7-4b87-a8ec-000402734d41"
                                        },
                                        {
                                            "type": "Ext.view.Table",
                                            "reference": {
                                                "name": "viewConfig",
                                                "type": "object"
                                            },
                                            "codeClass": null,
                                            "name": "MyTable8",
                                            "designerId": "ebb1ba10-8e53-474f-8f5a-1ebba901f1c2"
                                        },
                                        {
                                            "type": "Ext.toolbar.Toolbar",
                                            "reference": {
                                                "name": "dockedItems",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "dock": "top",
                                                "padding": 0
                                            },
                                            "configAlternates": {
                                                "dock": "string",
                                                "padding": "auto"
                                            },
                                            "name": "MyToolbar29",
                                            "designerId": "fc645755-0d83-4ccd-9aea-a93353e933a8",
                                            "cn": [
                                                {
                                                    "type": "Ext.button.Button",
                                                    "reference": {
                                                        "name": "items",
                                                        "type": "array"
                                                    },
                                                    "codeClass": null,
                                                    "userConfig": {
                                                        "designer|uiInterfaceName": "plain-toolbar-small",
                                                        "iconCls": "x-fa fa-plus",
                                                        "isEdit": true,
                                                        "layout|flex": null,
                                                        "text": "Thêm",
                                                        "ui": "plain-toolbar-small"
                                                    },
                                                    "configAlternates": {
                                                        "designer|uiInterfaceName": "string",
                                                        "iconCls": "string",
                                                        "layout|flex": "number",
                                                        "text": "string",
                                                        "ui": "string",
                                                        "isEdit": "boolean"
                                                    },
                                                    "name": "MyButton15",
                                                    "designerId": "d39aa118-ef56-484a-a138-81b8bc778892",
                                                    "customConfigs": [
                                                        {
                                                            "group": "(Custom Properties)",
                                                            "name": "isEdit",
                                                            "type": "string"
                                                        }
                                                    ],
                                                    "cn": [
                                                        {
                                                            "type": "viewcontrollereventbinding",
                                                            "reference": {
                                                                "name": "listeners",
                                                                "type": "array"
                                                            },
                                                            "codeClass": null,
                                                            "userConfig": {
                                                                "fn": "onEventAddClick",
                                                                "implHandler": [
                                                                    "var me\t= this,",
                                                                    "    vm\t= me.getViewModel(),",
                                                                    "    st\t= vm.getStore('events'),",
                                                                    "    v\t= me.getView(),",
                                                                    "    main\t= v.up('maincontainer'),",
                                                                    "    gen = new Ext.data.identifier.Uuid(),",
                                                                    "    autonum\t= gen.generate(),",
                                                                    "    nRec= Ext.create('tavico.model.CpPackageEvent'),",
                                                                    "    wd\t= Ext.create('tavico.view.WdCpPackageEvent', {",
                                                                    "        title: vm.get('bindRecord.packagetitle') + ' - Sự kiện - Ghi chú',",
                                                                    "        bindRecord: nRec",
                                                                    "    });",
                                                                    "",
                                                                    "nRec.set({",
                                                                    "    packagecode: vm.get('bindRecord.packagecode'),",
                                                                    "    eventid: Ext.util.Format.date(new Date(),'ymd-Hisu') + '-' + autonum.substring(0,8).toUpperCase(),",
                                                                    "    startdate: new Date()",
                                                                    "});",
                                                                    "wd.on('successCallback', function(r) {",
                                                                    "    st.add(r);",
                                                                    "});",
                                                                    "wd.show();"
                                                                ],
                                                                "name": "click",
                                                                "scope": "me"
                                                            },
                                                            "configAlternates": {
                                                                "fn": "string",
                                                                "name": "string",
                                                                "scope": "string",
                                                                "implHandler": "code"
                                                            },
                                                            "name": "onEventAddClick",
                                                            "designerId": "5f434fdb-35d3-4b5b-b0c1-73b3543a4d27"
                                                        }
                                                    ]
                                                }
                                            ]
                                        },
                                        {
                                            "type": "viewcontrollereventbinding",
                                            "reference": {
                                                "name": "listeners",
                                                "type": "array"
                                            },
                                            "codeClass": null,
                                            "userConfig": {
                                                "fn": "onGridEventCellDblClick",
                                                "implHandler": [
                                                    "var me\t= this,",
                                                    "    vm\t= me.getViewModel(),",
                                                    "    v\t= me.getView(),",
                                                    "    st\t= vm.getStore('events'),",
                                                    "    grid= me.lookupReference('gridevent'),",
                                                    "    main\t= v.up('maincontainer'),",
                                                    "    nRec= grid.getSelectionModel().getSelection()[0],",
                                                    "    wd;",
                                                    "",
                                                    "if (nRec) {",
                                                    "    wd = Ext.create('tavico.view.WdCpPackageEvent', {",
                                                    "        title: vm.get('bindRecord.packagetitle') + ' - Sự kiện - Ghi chú',",
                                                    "        bindRecord: nRec",
                                                    "    });",
                                                    "    Ext.Array.each(wd.down('form').query('field'),function(field){",
                                                    "    field.setReadOnly(true);",
                                                    "});",
                                                    "    wd.show();",
                                                    "}"
                                                ],
                                                "name": "celldblclick",
                                                "scope": "me"
                                            },
                                            "configAlternates": {
                                                "fn": "string",
                                                "implHandler": "code",
                                                "name": "string",
                                                "scope": "string"
                                            },
                                            "name": "onGridEventCellDblClick",
                                            "designerId": "1f012aa2-1fce-425d-b58f-dc2ece3b948b"
                                        }
                                    ]
                                },
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onEventActivate",
                                        "implHandler": [
                                            "var me = this,",
                                            "    v = me.getView(),",
                                            "    vm = me.getViewModel(),",
                                            "    main = v.up('maincontainer'),",
                                            "    gp = me.lookupReference('gridevent'),",
                                            "    s  = vm.getStore('events');",
                                            "",
                                            "if (!main.projectRecord) return;",
                                            "",
                                            "// if (!gp.down('button').isDisabled()) {",
                                            "//     if (!Ext.isEmpty(st.getModifiedRecords()) || !Ext.isEmpty(st.getRemovedRecords())) {",
                                            "//         return;",
                                            "//     }",
                                            "// }",
                                            "if (!gp.getReadOnly()) {",
                                            "    if (!Ext.isEmpty(s.getModifiedRecords()) || !Ext.isEmpty(s.getRemovedRecords())) {",
                                            "        return;",
                                            "    } else if (s.getProxy().getExtraParams().packagecode == vm.get('bindRecord.packagecode')){",
                                            "        return;",
                                            "    }",
                                            "}",
                                            "",
                                            "s.getProxy().setExtraParam('packagecode', me.lookupReference('packagecode').getValue());",
                                            "s.load();"
                                        ],
                                        "name": "activate",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onEventActivate",
                                    "designerId": "f1f97e9f-f3b4-4c81-8eba-e0b4950402ff"
                                }
                            ]
                        },
                        {
                            "type": "Ext.panel.Panel",
                            "reference": {
                                "name": "items",
                                "type": "array"
                            },
                            "codeClass": null,
                            "userConfig": {
                                "layout": "fit",
                                "title": "Tài liệu"
                            },
                            "configAlternates": {
                                "title": "string",
                                "scrollable": "auto",
                                "layout": "string"
                            },
                            "name": "MyPanel27",
                            "designerId": "37a06c02-d8bb-484f-9b0e-7d0e99093fe8",
                            "cn": [
                                {
                                    "type": "Ext.tab.Tab",
                                    "reference": {
                                        "name": "tabConfig",
                                        "type": "object"
                                    },
                                    "codeClass": null,
                                    "name": "TabConfig2",
                                    "designerId": "c19842e5-bd52-47ce-b9fb-f52607c7ace1"
                                },
                                {
                                    "type": "viewcontrollereventbinding",
                                    "reference": {
                                        "name": "listeners",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "fn": "onDocActivate",
                                        "implHandler": [
                                            "var me = this,",
                                            "    v = me.getView(),",
                                            "    vm = me.getViewModel(),",
                                            "    main = v.up('maincontainer'),",
                                            "    docComp\t= me.lookupReference('docComp');",
                                            "",
                                            "if (!main.projectRecord) return;",
                                            "",
                                            "if (!docComp.getReadOnly()) {",
                                            "    if (docComp.hasChange()) {",
                                            "        return;",
                                            "    }",
                                            "}",
                                            "docComp.loadRecord(vm.get('bindRecord'));"
                                        ],
                                        "name": "activate",
                                        "scope": "me"
                                    },
                                    "configAlternates": {
                                        "fn": "string",
                                        "implHandler": "code",
                                        "name": "string",
                                        "scope": "string"
                                    },
                                    "name": "onDocActivate",
                                    "designerId": "7ea1e4d4-d3d5-40bc-ba98-67fd28d73406"
                                },
                                {
                                    "type": "Ext.container.Container",
                                    "reference": {
                                        "name": "items",
                                        "type": "array"
                                    },
                                    "codeClass": null,
                                    "userConfig": {
                                        "designer|createAlias": "ctdocument",
                                        "isdraf": true,
                                        "linkto": "CPK",
                                        "reference": "docComp"
                                    },
                                    "configAlternates": {
                                        "isdraf": "boolean",
                                        "designer|createAlias": "string",
                                        "linkto": "string",
                                        "reference": "string",
                                        "isdraft": "boolean"
                                    },
                                    "name": "MyContainer74",
                                    "designerId": "44ac83ec-279e-4468-8696-b433cddeee98",
                                    "customConfigs": [
                                        {
                                            "group": "(Custom Properties)",
                                            "name": "linkto",
                                            "type": "string"
                                        },
                                        {
                                            "group": "(Custom Properties)",
                                            "name": "isdraf",
                                            "type": "string"
                                        }
                                    ]
                                }
                            ]
                        }
                    ]
                }
            ]
        },
        {
            "type": "viewcontrollereventbinding",
            "reference": {
                "name": "listeners",
                "type": "array"
            },
            "codeClass": null,
            "userConfig": {
                "fn": "onPanelDestroy",
                "implHandler": [
                    "var me\t= this,",
                    "    docComp\t= me.lookupReference('docComp');",
                    "",
                    "if (docComp.hasChange()) docComp.rejectChanges();"
                ],
                "name": "destroy",
                "scope": "me"
            },
            "configAlternates": {
                "fn": "string",
                "implHandler": "code",
                "name": "string",
                "scope": "string"
            },
            "name": "onPanelDestroy",
            "designerId": "2718a0d6-30f1-4c36-b939-9f775ab1a309"
        }
    ]
}